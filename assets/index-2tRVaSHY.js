var Dv=Object.defineProperty;var Bv=(t,e,n)=>e in t?Dv(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qo=(t,e,n)=>Bv(t,typeof e!="symbol"?e+"":e,n);function $v(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in t)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(t,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var ct=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Xu(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Uv(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var o=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return t[i]}})}),n}var ip={exports:{}},ta={},op={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vo=Symbol.for("react.element"),Fv=Symbol.for("react.portal"),Zv=Symbol.for("react.fragment"),Wv=Symbol.for("react.strict_mode"),Hv=Symbol.for("react.profiler"),Vv=Symbol.for("react.provider"),qv=Symbol.for("react.context"),Kv=Symbol.for("react.forward_ref"),Gv=Symbol.for("react.suspense"),Jv=Symbol.for("react.memo"),Qv=Symbol.for("react.lazy"),md=Symbol.iterator;function Yv(t){return t===null||typeof t!="object"?null:(t=md&&t[md]||t["@@iterator"],typeof t=="function"?t:null)}var sp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ap=Object.assign,lp={};function ei(t,e,n){this.props=t,this.context=e,this.refs=lp,this.updater=n||sp}ei.prototype.isReactComponent={};ei.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ei.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function up(){}up.prototype=ei.prototype;function ec(t,e,n){this.props=t,this.context=e,this.refs=lp,this.updater=n||sp}var tc=ec.prototype=new up;tc.constructor=ec;ap(tc,ei.prototype);tc.isPureReactComponent=!0;var gd=Array.isArray,cp=Object.prototype.hasOwnProperty,nc={current:null},hp={key:!0,ref:!0,__self:!0,__source:!0};function dp(t,e,n){var i,o={},a=null,u=null;if(e!=null)for(i in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(a=""+e.key),e)cp.call(e,i)&&!hp.hasOwnProperty(i)&&(o[i]=e[i]);var h=arguments.length-2;if(h===1)o.children=n;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}if(t&&t.defaultProps)for(i in h=t.defaultProps,h)o[i]===void 0&&(o[i]=h[i]);return{$$typeof:vo,type:t,key:a,ref:u,props:o,_owner:nc.current}}function Xv(t,e){return{$$typeof:vo,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function rc(t){return typeof t=="object"&&t!==null&&t.$$typeof===vo}function ey(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var _d=/\/+/g;function ul(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ey(""+t.key):e.toString(36)}function gs(t,e,n,i,o){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case vo:case Fv:u=!0}}if(u)return u=t,o=o(u),t=i===""?"."+ul(u,0):i,gd(o)?(n="",t!=null&&(n=t.replace(_d,"$&/")+"/"),gs(o,e,n,"",function(p){return p})):o!=null&&(rc(o)&&(o=Xv(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(_d,"$&/")+"/")+t)),e.push(o)),1;if(u=0,i=i===""?".":i+":",gd(t))for(var h=0;h<t.length;h++){a=t[h];var d=i+ul(a,h);u+=gs(a,e,n,d,o)}else if(d=Yv(t),typeof d=="function")for(t=d.call(t),h=0;!(a=t.next()).done;)a=a.value,d=i+ul(a,h++),u+=gs(a,e,n,d,o);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Ko(t,e,n){if(t==null)return t;var i=[],o=0;return gs(t,i,"","",function(a){return e.call(n,a,o++)}),i}function ty(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},_s={transition:null},ny={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:_s,ReactCurrentOwner:nc};function fp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Ko,forEach:function(t,e,n){Ko(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ko(t,function(){e++}),e},toArray:function(t){return Ko(t,function(e){return e})||[]},only:function(t){if(!rc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};te.Component=ei;te.Fragment=Zv;te.Profiler=Hv;te.PureComponent=ec;te.StrictMode=Wv;te.Suspense=Gv;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ny;te.act=fp;te.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=ap({},t.props),o=t.key,a=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,u=nc.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(d in e)cp.call(e,d)&&!hp.hasOwnProperty(d)&&(i[d]=e[d]===void 0&&h!==void 0?h[d]:e[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){h=Array(d);for(var p=0;p<d;p++)h[p]=arguments[p+2];i.children=h}return{$$typeof:vo,type:t.type,key:o,ref:a,props:i,_owner:u}};te.createContext=function(t){return t={$$typeof:qv,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Vv,_context:t},t.Consumer=t};te.createElement=dp;te.createFactory=function(t){var e=dp.bind(null,t);return e.type=t,e};te.createRef=function(){return{current:null}};te.forwardRef=function(t){return{$$typeof:Kv,render:t}};te.isValidElement=rc;te.lazy=function(t){return{$$typeof:Qv,_payload:{_status:-1,_result:t},_init:ty}};te.memo=function(t,e){return{$$typeof:Jv,type:t,compare:e===void 0?null:e}};te.startTransition=function(t){var e=_s.transition;_s.transition={};try{t()}finally{_s.transition=e}};te.unstable_act=fp;te.useCallback=function(t,e){return Je.current.useCallback(t,e)};te.useContext=function(t){return Je.current.useContext(t)};te.useDebugValue=function(){};te.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};te.useEffect=function(t,e){return Je.current.useEffect(t,e)};te.useId=function(){return Je.current.useId()};te.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};te.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};te.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};te.useMemo=function(t,e){return Je.current.useMemo(t,e)};te.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};te.useRef=function(t){return Je.current.useRef(t)};te.useState=function(t){return Je.current.useState(t)};te.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};te.useTransition=function(){return Je.current.useTransition()};te.version="18.3.1";op.exports=te;var I=op.exports;const Ji=Xu(I),ry=$v({__proto__:null,default:Ji},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iy=I,oy=Symbol.for("react.element"),sy=Symbol.for("react.fragment"),ay=Object.prototype.hasOwnProperty,ly=iy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,uy={key:!0,ref:!0,__self:!0,__source:!0};function pp(t,e,n){var i,o={},a=null,u=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(u=e.ref);for(i in e)ay.call(e,i)&&!uy.hasOwnProperty(i)&&(o[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)o[i]===void 0&&(o[i]=e[i]);return{$$typeof:oy,type:t,key:a,ref:u,props:o,_owner:ly.current}}ta.Fragment=sy;ta.jsx=pp;ta.jsxs=pp;ip.exports=ta;var P=ip.exports,mp={exports:{}},dt={},gp={exports:{}},_p={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,K){var $=M.length;M.push(K);e:for(;0<$;){var q=$-1>>>1,oe=M[q];if(0<o(oe,K))M[q]=K,M[$]=oe,$=q;else break e}}function n(M){return M.length===0?null:M[0]}function i(M){if(M.length===0)return null;var K=M[0],$=M.pop();if($!==K){M[0]=$;e:for(var q=0,oe=M.length,Ce=oe>>>1;q<Ce;){var ce=2*(q+1)-1,ae=M[ce],G=ce+1,Xe=M[G];if(0>o(ae,$))G<oe&&0>o(Xe,ae)?(M[q]=Xe,M[G]=$,q=G):(M[q]=ae,M[ce]=$,q=ce);else if(G<oe&&0>o(Xe,$))M[q]=Xe,M[G]=$,q=G;else break e}}return K}function o(M,K){var $=M.sortIndex-K.sortIndex;return $!==0?$:M.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var d=[],p=[],m=1,g=null,v=3,x=!1,E=!1,T=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(M){for(var K=n(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=M)i(p),K.sortIndex=K.expirationTime,e(d,K);else break;K=n(p)}}function C(M){if(T=!1,w(M),!E)if(n(d)!==null)E=!0,ze(R);else{var K=n(p);K!==null&&Ht(C,K.startTime-M)}}function R(M,K){E=!1,T&&(T=!1,S(B),B=-1),x=!0;var $=v;try{for(w(K),g=n(d);g!==null&&(!(g.expirationTime>K)||M&&!re());){var q=g.callback;if(typeof q=="function"){g.callback=null,v=g.priorityLevel;var oe=q(g.expirationTime<=K);K=t.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(d)&&i(d),w(K)}else i(d);g=n(d)}if(g!==null)var Ce=!0;else{var ce=n(p);ce!==null&&Ht(C,ce.startTime-K),Ce=!1}return Ce}finally{g=null,v=$,x=!1}}var z=!1,A=null,B=-1,H=5,Z=-1;function re(){return!(t.unstable_now()-Z<H)}function ge(){if(A!==null){var M=t.unstable_now();Z=M;var K=!0;try{K=A(!0,M)}finally{K?Wt():(z=!1,A=null)}}else z=!1}var Wt;if(typeof y=="function")Wt=function(){y(ge)};else if(typeof MessageChannel<"u"){var Ye=new MessageChannel,La=Ye.port2;Ye.port1.onmessage=ge,Wt=function(){La.postMessage(null)}}else Wt=function(){O(ge,0)};function ze(M){A=M,z||(z=!0,Wt())}function Ht(M,K){B=O(function(){M(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){E||x||(E=!0,ze(R))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(M){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var $=v;v=K;try{return M()}finally{v=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,K){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var $=v;v=M;try{return K()}finally{v=$}},t.unstable_scheduleCallback=function(M,K,$){var q=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?q+$:q):$=q,M){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,M={id:m++,callback:K,priorityLevel:M,startTime:$,expirationTime:oe,sortIndex:-1},$>q?(M.sortIndex=$,e(p,M),n(d)===null&&M===n(p)&&(T?(S(B),B=-1):T=!0,Ht(C,$-q))):(M.sortIndex=oe,e(d,M),E||x||(E=!0,ze(R))),M},t.unstable_shouldYield=re,t.unstable_wrapCallback=function(M){var K=v;return function(){var $=v;v=K;try{return M.apply(this,arguments)}finally{v=$}}}})(_p);gp.exports=_p;var cy=gp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy=I,ht=cy;function D(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vp=new Set,Qi={};function sr(t,e){Hr(t,e),Hr(t+"Capture",e)}function Hr(t,e){for(Qi[t]=e,t=0;t<e.length;t++)vp.add(e[t])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=Object.prototype.hasOwnProperty,dy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vd={},yd={};function fy(t){return Wl.call(yd,t)?!0:Wl.call(vd,t)?!1:dy.test(t)?yd[t]=!0:(vd[t]=!0,!1)}function py(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function my(t,e,n,i){if(e===null||typeof e>"u"||py(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Qe(t,e,n,i,o,a,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=u}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ue[t]=new Qe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ue[e]=new Qe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ue[t]=new Qe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ue[t]=new Qe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ue[t]=new Qe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ue[t]=new Qe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ue[t]=new Qe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ue[t]=new Qe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ue[t]=new Qe(t,5,!1,t.toLowerCase(),null,!1,!1)});var ic=/[\-:]([a-z])/g;function oc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ic,oc);Ue[e]=new Qe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ic,oc);Ue[e]=new Qe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ic,oc);Ue[e]=new Qe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ue[t]=new Qe(t,1,!1,t.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ue[t]=new Qe(t,1,!1,t.toLowerCase(),null,!0,!0)});function sc(t,e,n,i){var o=Ue.hasOwnProperty(e)?Ue[e]:null;(o!==null?o.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(my(e,n,o,i)&&(n=null),i||o===null?fy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,i=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var ln=hy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Go=Symbol.for("react.element"),br=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),ac=Symbol.for("react.strict_mode"),Hl=Symbol.for("react.profiler"),yp=Symbol.for("react.provider"),wp=Symbol.for("react.context"),lc=Symbol.for("react.forward_ref"),Vl=Symbol.for("react.suspense"),ql=Symbol.for("react.suspense_list"),uc=Symbol.for("react.memo"),mn=Symbol.for("react.lazy"),xp=Symbol.for("react.offscreen"),wd=Symbol.iterator;function ki(t){return t===null||typeof t!="object"?null:(t=wd&&t[wd]||t["@@iterator"],typeof t=="function"?t:null)}var xe=Object.assign,cl;function Ai(t){if(cl===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);cl=e&&e[1]||""}return`
`+cl+t}var hl=!1;function dl(t,e){if(!t||hl)return"";hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var i=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){i=p}t.call(e.prototype)}else{try{throw Error()}catch(p){i=p}t()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=i.stack.split(`
`),u=o.length-1,h=a.length-1;1<=u&&0<=h&&o[u]!==a[h];)h--;for(;1<=u&&0<=h;u--,h--)if(o[u]!==a[h]){if(u!==1||h!==1)do if(u--,h--,0>h||o[u]!==a[h]){var d=`
`+o[u].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=u&&0<=h);break}}}finally{hl=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ai(t):""}function gy(t){switch(t.tag){case 5:return Ai(t.type);case 16:return Ai("Lazy");case 13:return Ai("Suspense");case 19:return Ai("SuspenseList");case 0:case 2:case 15:return t=dl(t.type,!1),t;case 11:return t=dl(t.type.render,!1),t;case 1:return t=dl(t.type,!0),t;default:return""}}function Kl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Lr:return"Fragment";case br:return"Portal";case Hl:return"Profiler";case ac:return"StrictMode";case Vl:return"Suspense";case ql:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case wp:return(t.displayName||"Context")+".Consumer";case yp:return(t._context.displayName||"Context")+".Provider";case lc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case uc:return e=t.displayName||null,e!==null?e:Kl(t.type)||"Memo";case mn:e=t._payload,t=t._init;try{return Kl(t(e))}catch{}}return null}function _y(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kl(e);case 8:return e===ac?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function jn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Sp(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function vy(t){var e=Sp(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Jo(t){t._valueTracker||(t._valueTracker=vy(t))}function kp(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Sp(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Cs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Gl(t,e){var n=e.checked;return xe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function xd(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=jn(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pp(t,e){e=e.checked,e!=null&&sc(t,"checked",e,!1)}function Jl(t,e){Pp(t,e);var n=jn(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ql(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ql(t,e.type,jn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Sd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ql(t,e,n){(e!=="number"||Cs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Mi=Array.isArray;function Br(t,e,n,i){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&i&&(t[n].defaultSelected=!0)}else{for(n=""+jn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,i&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function Yl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(D(91));return xe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function kd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(D(92));if(Mi(n)){if(1<n.length)throw Error(D(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:jn(n)}}function Ep(t,e){var n=jn(e.value),i=jn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function Pd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Tp(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xl(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Tp(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Qo,bp=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Qo=Qo||document.createElement("div"),Qo.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Qo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Yi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yy=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(t){yy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Di[e]=Di[t]})});function Lp(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Di.hasOwnProperty(t)&&Di[t]?(""+e).trim():e+"px"}function Cp(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=Lp(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,o):t[n]=o}}var wy=xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(t,e){if(e){if(wy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(D(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(D(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(D(61))}if(e.style!=null&&typeof e.style!="object")throw Error(D(62))}}function tu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function cc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ru=null,$r=null,Ur=null;function Ed(t){if(t=xo(t)){if(typeof ru!="function")throw Error(D(280));var e=t.stateNode;e&&(e=sa(e),ru(t.stateNode,t.type,e))}}function Op(t){$r?Ur?Ur.push(t):Ur=[t]:$r=t}function jp(){if($r){var t=$r,e=Ur;if(Ur=$r=null,Ed(t),e)for(t=0;t<e.length;t++)Ed(e[t])}}function Ip(t,e){return t(e)}function Ap(){}var fl=!1;function Mp(t,e,n){if(fl)return t(e,n);fl=!0;try{return Ip(t,e,n)}finally{fl=!1,($r!==null||Ur!==null)&&(Ap(),jp())}}function Xi(t,e){var n=t.stateNode;if(n===null)return null;var i=sa(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(D(231,e,typeof n));return n}var iu=!1;if(rn)try{var Pi={};Object.defineProperty(Pi,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Pi,Pi),window.removeEventListener("test",Pi,Pi)}catch{iu=!1}function xy(t,e,n,i,o,a,u,h,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(m){this.onError(m)}}var Bi=!1,Os=null,js=!1,ou=null,Sy={onError:function(t){Bi=!0,Os=t}};function ky(t,e,n,i,o,a,u,h,d){Bi=!1,Os=null,xy.apply(Sy,arguments)}function Py(t,e,n,i,o,a,u,h,d){if(ky.apply(this,arguments),Bi){if(Bi){var p=Os;Bi=!1,Os=null}else throw Error(D(198));js||(js=!0,ou=p)}}function ar(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Np(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Td(t){if(ar(t)!==t)throw Error(D(188))}function Ey(t){var e=t.alternate;if(!e){if(e=ar(t),e===null)throw Error(D(188));return e!==t?null:t}for(var n=t,i=e;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Td(o),t;if(a===i)return Td(o),e;a=a.sibling}throw Error(D(188))}if(n.return!==i.return)n=o,i=a;else{for(var u=!1,h=o.child;h;){if(h===n){u=!0,n=o,i=a;break}if(h===i){u=!0,i=o,n=a;break}h=h.sibling}if(!u){for(h=a.child;h;){if(h===n){u=!0,n=a,i=o;break}if(h===i){u=!0,i=a,n=o;break}h=h.sibling}if(!u)throw Error(D(189))}}if(n.alternate!==i)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?t:e}function Rp(t){return t=Ey(t),t!==null?zp(t):null}function zp(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=zp(t);if(e!==null)return e;t=t.sibling}return null}var Dp=ht.unstable_scheduleCallback,bd=ht.unstable_cancelCallback,Ty=ht.unstable_shouldYield,by=ht.unstable_requestPaint,Pe=ht.unstable_now,Ly=ht.unstable_getCurrentPriorityLevel,hc=ht.unstable_ImmediatePriority,Bp=ht.unstable_UserBlockingPriority,Is=ht.unstable_NormalPriority,Cy=ht.unstable_LowPriority,$p=ht.unstable_IdlePriority,na=null,Ft=null;function Oy(t){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(na,t,void 0,(t.current.flags&128)===128)}catch{}}var jt=Math.clz32?Math.clz32:Ay,jy=Math.log,Iy=Math.LN2;function Ay(t){return t>>>=0,t===0?32:31-(jy(t)/Iy|0)|0}var Yo=64,Xo=4194304;function Ni(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function As(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,o=t.suspendedLanes,a=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~o;h!==0?i=Ni(h):(a&=u,a!==0&&(i=Ni(a)))}else u=n&~o,u!==0?i=Ni(u):a!==0&&(i=Ni(a));if(i===0)return 0;if(e!==0&&e!==i&&!(e&o)&&(o=i&-i,a=e&-e,o>=a||o===16&&(a&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-jt(e),o=1<<n,i|=t[n],e&=~o;return i}function My(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ny(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,a=t.pendingLanes;0<a;){var u=31-jt(a),h=1<<u,d=o[u];d===-1?(!(h&n)||h&i)&&(o[u]=My(h,e)):d<=e&&(t.expiredLanes|=h),a&=~h}}function su(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Up(){var t=Yo;return Yo<<=1,!(Yo&4194240)&&(Yo=64),t}function pl(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function yo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-jt(e),t[e]=n}function Ry(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-jt(n),a=1<<o;e[o]=0,i[o]=-1,t[o]=-1,n&=~a}}function dc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-jt(n),o=1<<i;o&e|t[i]&e&&(t[i]|=e),n&=~o}}var ue=0;function Fp(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Zp,fc,Wp,Hp,Vp,au=!1,es=[],kn=null,Pn=null,En=null,eo=new Map,to=new Map,_n=[],zy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ld(t,e){switch(t){case"focusin":case"focusout":kn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":En=null;break;case"pointerover":case"pointerout":eo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(e.pointerId)}}function Ei(t,e,n,i,o,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},e!==null&&(e=xo(e),e!==null&&fc(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Dy(t,e,n,i,o){switch(e){case"focusin":return kn=Ei(kn,t,e,n,i,o),!0;case"dragenter":return Pn=Ei(Pn,t,e,n,i,o),!0;case"mouseover":return En=Ei(En,t,e,n,i,o),!0;case"pointerover":var a=o.pointerId;return eo.set(a,Ei(eo.get(a)||null,t,e,n,i,o)),!0;case"gotpointercapture":return a=o.pointerId,to.set(a,Ei(to.get(a)||null,t,e,n,i,o)),!0}return!1}function qp(t){var e=Gn(t.target);if(e!==null){var n=ar(e);if(n!==null){if(e=n.tag,e===13){if(e=Np(n),e!==null){t.blockedOn=e,Vp(t.priority,function(){Wp(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=lu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);nu=i,n.target.dispatchEvent(i),nu=null}else return e=xo(n),e!==null&&fc(e),t.blockedOn=n,!1;e.shift()}return!0}function Cd(t,e,n){vs(t)&&n.delete(e)}function By(){au=!1,kn!==null&&vs(kn)&&(kn=null),Pn!==null&&vs(Pn)&&(Pn=null),En!==null&&vs(En)&&(En=null),eo.forEach(Cd),to.forEach(Cd)}function Ti(t,e){t.blockedOn===e&&(t.blockedOn=null,au||(au=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,By)))}function no(t){function e(o){return Ti(o,t)}if(0<es.length){Ti(es[0],t);for(var n=1;n<es.length;n++){var i=es[n];i.blockedOn===t&&(i.blockedOn=null)}}for(kn!==null&&Ti(kn,t),Pn!==null&&Ti(Pn,t),En!==null&&Ti(En,t),eo.forEach(e),to.forEach(e),n=0;n<_n.length;n++)i=_n[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<_n.length&&(n=_n[0],n.blockedOn===null);)qp(n),n.blockedOn===null&&_n.shift()}var Fr=ln.ReactCurrentBatchConfig,Ms=!0;function $y(t,e,n,i){var o=ue,a=Fr.transition;Fr.transition=null;try{ue=1,pc(t,e,n,i)}finally{ue=o,Fr.transition=a}}function Uy(t,e,n,i){var o=ue,a=Fr.transition;Fr.transition=null;try{ue=4,pc(t,e,n,i)}finally{ue=o,Fr.transition=a}}function pc(t,e,n,i){if(Ms){var o=lu(t,e,n,i);if(o===null)Pl(t,e,i,Ns,n),Ld(t,i);else if(Dy(o,t,e,n,i))i.stopPropagation();else if(Ld(t,i),e&4&&-1<zy.indexOf(t)){for(;o!==null;){var a=xo(o);if(a!==null&&Zp(a),a=lu(t,e,n,i),a===null&&Pl(t,e,i,Ns,n),a===o)break;o=a}o!==null&&i.stopPropagation()}else Pl(t,e,i,null,n)}}var Ns=null;function lu(t,e,n,i){if(Ns=null,t=cc(i),t=Gn(t),t!==null)if(e=ar(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Np(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Ns=t,null}function Kp(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ly()){case hc:return 1;case Bp:return 4;case Is:case Cy:return 16;case $p:return 536870912;default:return 16}default:return 16}}var wn=null,mc=null,ys=null;function Gp(){if(ys)return ys;var t,e=mc,n=e.length,i,o="value"in wn?wn.value:wn.textContent,a=o.length;for(t=0;t<n&&e[t]===o[t];t++);var u=n-t;for(i=1;i<=u&&e[n-i]===o[a-i];i++);return ys=o.slice(t,1<i?1-i:void 0)}function ws(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ts(){return!0}function Od(){return!1}function ft(t){function e(n,i,o,a,u){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(a):a[h]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?ts:Od,this.isPropagationStopped=Od,this}return xe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ts)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ts)},persist:function(){},isPersistent:ts}),e}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gc=ft(ti),wo=xe({},ti,{view:0,detail:0}),Fy=ft(wo),ml,gl,bi,ra=xe({},wo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_c,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==bi&&(bi&&t.type==="mousemove"?(ml=t.screenX-bi.screenX,gl=t.screenY-bi.screenY):gl=ml=0,bi=t),ml)},movementY:function(t){return"movementY"in t?t.movementY:gl}}),jd=ft(ra),Zy=xe({},ra,{dataTransfer:0}),Wy=ft(Zy),Hy=xe({},wo,{relatedTarget:0}),_l=ft(Hy),Vy=xe({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),qy=ft(Vy),Ky=xe({},ti,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gy=ft(Ky),Jy=xe({},ti,{data:0}),Id=ft(Jy),Qy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function e0(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xy[t])?!!e[t]:!1}function _c(){return e0}var t0=xe({},wo,{key:function(t){if(t.key){var e=Qy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ws(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yy[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_c,charCode:function(t){return t.type==="keypress"?ws(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ws(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),n0=ft(t0),r0=xe({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ad=ft(r0),i0=xe({},wo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_c}),o0=ft(i0),s0=xe({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),a0=ft(s0),l0=xe({},ra,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),u0=ft(l0),c0=[9,13,27,32],vc=rn&&"CompositionEvent"in window,$i=null;rn&&"documentMode"in document&&($i=document.documentMode);var h0=rn&&"TextEvent"in window&&!$i,Jp=rn&&(!vc||$i&&8<$i&&11>=$i),Md=" ",Nd=!1;function Qp(t,e){switch(t){case"keyup":return c0.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yp(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Cr=!1;function d0(t,e){switch(t){case"compositionend":return Yp(e);case"keypress":return e.which!==32?null:(Nd=!0,Md);case"textInput":return t=e.data,t===Md&&Nd?null:t;default:return null}}function f0(t,e){if(Cr)return t==="compositionend"||!vc&&Qp(t,e)?(t=Gp(),ys=mc=wn=null,Cr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jp&&e.locale!=="ko"?null:e.data;default:return null}}var p0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!p0[t.type]:e==="textarea"}function Xp(t,e,n,i){Op(i),e=Rs(e,"onChange"),0<e.length&&(n=new gc("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Ui=null,ro=null;function m0(t){cm(t,0)}function ia(t){var e=Ir(t);if(kp(e))return t}function g0(t,e){if(t==="change")return e}var em=!1;if(rn){var vl;if(rn){var yl="oninput"in document;if(!yl){var zd=document.createElement("div");zd.setAttribute("oninput","return;"),yl=typeof zd.oninput=="function"}vl=yl}else vl=!1;em=vl&&(!document.documentMode||9<document.documentMode)}function Dd(){Ui&&(Ui.detachEvent("onpropertychange",tm),ro=Ui=null)}function tm(t){if(t.propertyName==="value"&&ia(ro)){var e=[];Xp(e,ro,t,cc(t)),Mp(m0,e)}}function _0(t,e,n){t==="focusin"?(Dd(),Ui=e,ro=n,Ui.attachEvent("onpropertychange",tm)):t==="focusout"&&Dd()}function v0(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return ia(ro)}function y0(t,e){if(t==="click")return ia(e)}function w0(t,e){if(t==="input"||t==="change")return ia(e)}function x0(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var At=typeof Object.is=="function"?Object.is:x0;function io(t,e){if(At(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Wl.call(e,o)||!At(t[o],e[o]))return!1}return!0}function Bd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function $d(t,e){var n=Bd(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Bd(n)}}function nm(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?nm(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function rm(){for(var t=window,e=Cs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Cs(t.document)}return e}function yc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function S0(t){var e=rm(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&nm(n.ownerDocument.documentElement,n)){if(i!==null&&yc(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!t.extend&&a>i&&(o=i,i=a,a=o),o=$d(n,a);var u=$d(n,i);o&&u&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),a>i?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var k0=rn&&"documentMode"in document&&11>=document.documentMode,Or=null,uu=null,Fi=null,cu=!1;function Ud(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cu||Or==null||Or!==Cs(i)||(i=Or,"selectionStart"in i&&yc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fi&&io(Fi,i)||(Fi=i,i=Rs(uu,"onSelect"),0<i.length&&(e=new gc("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Or)))}function ns(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var jr={animationend:ns("Animation","AnimationEnd"),animationiteration:ns("Animation","AnimationIteration"),animationstart:ns("Animation","AnimationStart"),transitionend:ns("Transition","TransitionEnd")},wl={},im={};rn&&(im=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);function oa(t){if(wl[t])return wl[t];if(!jr[t])return t;var e=jr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in im)return wl[t]=e[n];return t}var om=oa("animationend"),sm=oa("animationiteration"),am=oa("animationstart"),lm=oa("transitionend"),um=new Map,Fd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function An(t,e){um.set(t,e),sr(e,[t])}for(var xl=0;xl<Fd.length;xl++){var Sl=Fd[xl],P0=Sl.toLowerCase(),E0=Sl[0].toUpperCase()+Sl.slice(1);An(P0,"on"+E0)}An(om,"onAnimationEnd");An(sm,"onAnimationIteration");An(am,"onAnimationStart");An("dblclick","onDoubleClick");An("focusin","onFocus");An("focusout","onBlur");An(lm,"onTransitionEnd");Hr("onMouseEnter",["mouseout","mouseover"]);Hr("onMouseLeave",["mouseout","mouseover"]);Hr("onPointerEnter",["pointerout","pointerover"]);Hr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ri));function Zd(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,Py(i,e,void 0,t),t.currentTarget=null}function cm(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],o=i.event;i=i.listeners;e:{var a=void 0;if(e)for(var u=i.length-1;0<=u;u--){var h=i[u],d=h.instance,p=h.currentTarget;if(h=h.listener,d!==a&&o.isPropagationStopped())break e;Zd(o,h,p),a=d}else for(u=0;u<i.length;u++){if(h=i[u],d=h.instance,p=h.currentTarget,h=h.listener,d!==a&&o.isPropagationStopped())break e;Zd(o,h,p),a=d}}}if(js)throw t=ou,js=!1,ou=null,t}function pe(t,e){var n=e[mu];n===void 0&&(n=e[mu]=new Set);var i=t+"__bubble";n.has(i)||(hm(e,t,2,!1),n.add(i))}function kl(t,e,n){var i=0;e&&(i|=4),hm(n,t,i,e)}var rs="_reactListening"+Math.random().toString(36).slice(2);function oo(t){if(!t[rs]){t[rs]=!0,vp.forEach(function(n){n!=="selectionchange"&&(T0.has(n)||kl(n,!1,t),kl(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[rs]||(e[rs]=!0,kl("selectionchange",!1,e))}}function hm(t,e,n,i){switch(Kp(e)){case 1:var o=$y;break;case 4:o=Uy;break;default:o=pc}n=o.bind(null,e,n,t),o=void 0,!iu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),i?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Pl(t,e,n,i,o){var a=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var h=i.stateNode.containerInfo;if(h===o||h.nodeType===8&&h.parentNode===o)break;if(u===4)for(u=i.return;u!==null;){var d=u.tag;if((d===3||d===4)&&(d=u.stateNode.containerInfo,d===o||d.nodeType===8&&d.parentNode===o))return;u=u.return}for(;h!==null;){if(u=Gn(h),u===null)return;if(d=u.tag,d===5||d===6){i=a=u;continue e}h=h.parentNode}}i=i.return}Mp(function(){var p=a,m=cc(n),g=[];e:{var v=um.get(t);if(v!==void 0){var x=gc,E=t;switch(t){case"keypress":if(ws(n)===0)break e;case"keydown":case"keyup":x=n0;break;case"focusin":E="focus",x=_l;break;case"focusout":E="blur",x=_l;break;case"beforeblur":case"afterblur":x=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=Wy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=o0;break;case om:case sm:case am:x=qy;break;case lm:x=a0;break;case"scroll":x=Fy;break;case"wheel":x=u0;break;case"copy":case"cut":case"paste":x=Gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=Ad}var T=(e&4)!==0,O=!T&&t==="scroll",S=T?v!==null?v+"Capture":null:v;T=[];for(var y=p,w;y!==null;){w=y;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,S!==null&&(C=Xi(y,S),C!=null&&T.push(so(y,C,w)))),O)break;y=y.return}0<T.length&&(v=new x(v,E,null,n,m),g.push({event:v,listeners:T}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",x=t==="mouseout"||t==="pointerout",v&&n!==nu&&(E=n.relatedTarget||n.fromElement)&&(Gn(E)||E[on]))break e;if((x||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,x?(E=n.relatedTarget||n.toElement,x=p,E=E?Gn(E):null,E!==null&&(O=ar(E),E!==O||E.tag!==5&&E.tag!==6)&&(E=null)):(x=null,E=p),x!==E)){if(T=jd,C="onMouseLeave",S="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(T=Ad,C="onPointerLeave",S="onPointerEnter",y="pointer"),O=x==null?v:Ir(x),w=E==null?v:Ir(E),v=new T(C,y+"leave",x,n,m),v.target=O,v.relatedTarget=w,C=null,Gn(m)===p&&(T=new T(S,y+"enter",E,n,m),T.target=w,T.relatedTarget=O,C=T),O=C,x&&E)t:{for(T=x,S=E,y=0,w=T;w;w=yr(w))y++;for(w=0,C=S;C;C=yr(C))w++;for(;0<y-w;)T=yr(T),y--;for(;0<w-y;)S=yr(S),w--;for(;y--;){if(T===S||S!==null&&T===S.alternate)break t;T=yr(T),S=yr(S)}T=null}else T=null;x!==null&&Wd(g,v,x,T,!1),E!==null&&O!==null&&Wd(g,O,E,T,!0)}}e:{if(v=p?Ir(p):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var R=g0;else if(Rd(v))if(em)R=w0;else{R=v0;var z=_0}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(R=y0);if(R&&(R=R(t,p))){Xp(g,R,n,m);break e}z&&z(t,v,p),t==="focusout"&&(z=v._wrapperState)&&z.controlled&&v.type==="number"&&Ql(v,"number",v.value)}switch(z=p?Ir(p):window,t){case"focusin":(Rd(z)||z.contentEditable==="true")&&(Or=z,uu=p,Fi=null);break;case"focusout":Fi=uu=Or=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,Ud(g,n,m);break;case"selectionchange":if(k0)break;case"keydown":case"keyup":Ud(g,n,m)}var A;if(vc)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Cr?Qp(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Jp&&n.locale!=="ko"&&(Cr||B!=="onCompositionStart"?B==="onCompositionEnd"&&Cr&&(A=Gp()):(wn=m,mc="value"in wn?wn.value:wn.textContent,Cr=!0)),z=Rs(p,B),0<z.length&&(B=new Id(B,t,null,n,m),g.push({event:B,listeners:z}),A?B.data=A:(A=Yp(n),A!==null&&(B.data=A)))),(A=h0?d0(t,n):f0(t,n))&&(p=Rs(p,"onBeforeInput"),0<p.length&&(m=new Id("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:p}),m.data=A))}cm(g,e)})}function so(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Rs(t,e){for(var n=e+"Capture",i=[];t!==null;){var o=t,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Xi(t,n),a!=null&&i.unshift(so(t,a,o)),a=Xi(t,e),a!=null&&i.push(so(t,a,o))),t=t.return}return i}function yr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Wd(t,e,n,i,o){for(var a=e._reactName,u=[];n!==null&&n!==i;){var h=n,d=h.alternate,p=h.stateNode;if(d!==null&&d===i)break;h.tag===5&&p!==null&&(h=p,o?(d=Xi(n,a),d!=null&&u.unshift(so(n,d,h))):o||(d=Xi(n,a),d!=null&&u.push(so(n,d,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var b0=/\r\n?/g,L0=/\u0000|\uFFFD/g;function Hd(t){return(typeof t=="string"?t:""+t).replace(b0,`
`).replace(L0,"")}function is(t,e,n){if(e=Hd(e),Hd(t)!==e&&n)throw Error(D(425))}function zs(){}var hu=null,du=null;function fu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,C0=typeof clearTimeout=="function"?clearTimeout:void 0,Vd=typeof Promise=="function"?Promise:void 0,O0=typeof queueMicrotask=="function"?queueMicrotask:typeof Vd<"u"?function(t){return Vd.resolve(null).then(t).catch(j0)}:pu;function j0(t){setTimeout(function(){throw t})}function El(t,e){var n=e,i=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){t.removeChild(o),no(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);no(e)}function Tn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qd(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ni=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ni,ao="__reactProps$"+ni,on="__reactContainer$"+ni,mu="__reactEvents$"+ni,I0="__reactListeners$"+ni,A0="__reactHandles$"+ni;function Gn(t){var e=t[Ut];if(e)return e;for(var n=t.parentNode;n;){if(e=n[on]||n[Ut]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qd(t);t!==null;){if(n=t[Ut])return n;t=qd(t)}return e}t=n,n=t.parentNode}return null}function xo(t){return t=t[Ut]||t[on],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ir(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(D(33))}function sa(t){return t[ao]||null}var gu=[],Ar=-1;function Mn(t){return{current:t}}function me(t){0>Ar||(t.current=gu[Ar],gu[Ar]=null,Ar--)}function fe(t,e){Ar++,gu[Ar]=t.current,t.current=e}var In={},He=Mn(In),it=Mn(!1),tr=In;function Vr(t,e){var n=t.type.contextTypes;if(!n)return In;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=e[a];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function ot(t){return t=t.childContextTypes,t!=null}function Ds(){me(it),me(He)}function Kd(t,e,n){if(He.current!==In)throw Error(D(168));fe(He,e),fe(it,n)}function dm(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in e))throw Error(D(108,_y(t)||"Unknown",o));return xe({},n,i)}function Bs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||In,tr=He.current,fe(He,t),fe(it,it.current),!0}function Gd(t,e,n){var i=t.stateNode;if(!i)throw Error(D(169));n?(t=dm(t,e,tr),i.__reactInternalMemoizedMergedChildContext=t,me(it),me(He),fe(He,t)):me(it),fe(it,n)}var Xt=null,aa=!1,Tl=!1;function fm(t){Xt===null?Xt=[t]:Xt.push(t)}function M0(t){aa=!0,fm(t)}function Nn(){if(!Tl&&Xt!==null){Tl=!0;var t=0,e=ue;try{var n=Xt;for(ue=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Xt=null,aa=!1}catch(o){throw Xt!==null&&(Xt=Xt.slice(t+1)),Dp(hc,Nn),o}finally{ue=e,Tl=!1}}return null}var Mr=[],Nr=0,$s=null,Us=0,_t=[],vt=0,nr=null,en=1,tn="";function Hn(t,e){Mr[Nr++]=Us,Mr[Nr++]=$s,$s=t,Us=e}function pm(t,e,n){_t[vt++]=en,_t[vt++]=tn,_t[vt++]=nr,nr=t;var i=en;t=tn;var o=32-jt(i)-1;i&=~(1<<o),n+=1;var a=32-jt(e)+o;if(30<a){var u=o-o%5;a=(i&(1<<u)-1).toString(32),i>>=u,o-=u,en=1<<32-jt(e)+o|n<<o|i,tn=a+t}else en=1<<a|n<<o|i,tn=t}function wc(t){t.return!==null&&(Hn(t,1),pm(t,1,0))}function xc(t){for(;t===$s;)$s=Mr[--Nr],Mr[Nr]=null,Us=Mr[--Nr],Mr[Nr]=null;for(;t===nr;)nr=_t[--vt],_t[vt]=null,tn=_t[--vt],_t[vt]=null,en=_t[--vt],_t[vt]=null}var ut=null,lt=null,_e=!1,Ot=null;function mm(t,e){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Jd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ut=t,lt=Tn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ut=t,lt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=nr!==null?{id:en,overflow:tn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ut=t,lt=null,!0):!1;default:return!1}}function _u(t){return(t.mode&1)!==0&&(t.flags&128)===0}function vu(t){if(_e){var e=lt;if(e){var n=e;if(!Jd(t,e)){if(_u(t))throw Error(D(418));e=Tn(n.nextSibling);var i=ut;e&&Jd(t,e)?mm(i,n):(t.flags=t.flags&-4097|2,_e=!1,ut=t)}}else{if(_u(t))throw Error(D(418));t.flags=t.flags&-4097|2,_e=!1,ut=t}}}function Qd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ut=t}function os(t){if(t!==ut)return!1;if(!_e)return Qd(t),_e=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!fu(t.type,t.memoizedProps)),e&&(e=lt)){if(_u(t))throw gm(),Error(D(418));for(;e;)mm(t,e),e=Tn(e.nextSibling)}if(Qd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(D(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){lt=Tn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}lt=null}}else lt=ut?Tn(t.stateNode.nextSibling):null;return!0}function gm(){for(var t=lt;t;)t=Tn(t.nextSibling)}function qr(){lt=ut=null,_e=!1}function Sc(t){Ot===null?Ot=[t]:Ot.push(t)}var N0=ln.ReactCurrentBatchConfig;function Li(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var i=n.stateNode}if(!i)throw Error(D(147,t));var o=i,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(u){var h=o.refs;u===null?delete h[a]:h[a]=u},e._stringRef=a,e)}if(typeof t!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,t))}return t}function ss(t,e){throw t=Object.prototype.toString.call(e),Error(D(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Yd(t){var e=t._init;return e(t._payload)}function _m(t){function e(S,y){if(t){var w=S.deletions;w===null?(S.deletions=[y],S.flags|=16):w.push(y)}}function n(S,y){if(!t)return null;for(;y!==null;)e(S,y),y=y.sibling;return null}function i(S,y){for(S=new Map;y!==null;)y.key!==null?S.set(y.key,y):S.set(y.index,y),y=y.sibling;return S}function o(S,y){return S=On(S,y),S.index=0,S.sibling=null,S}function a(S,y,w){return S.index=w,t?(w=S.alternate,w!==null?(w=w.index,w<y?(S.flags|=2,y):w):(S.flags|=2,y)):(S.flags|=1048576,y)}function u(S){return t&&S.alternate===null&&(S.flags|=2),S}function h(S,y,w,C){return y===null||y.tag!==6?(y=Al(w,S.mode,C),y.return=S,y):(y=o(y,w),y.return=S,y)}function d(S,y,w,C){var R=w.type;return R===Lr?m(S,y,w.props.children,C,w.key):y!==null&&(y.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===mn&&Yd(R)===y.type)?(C=o(y,w.props),C.ref=Li(S,y,w),C.return=S,C):(C=bs(w.type,w.key,w.props,null,S.mode,C),C.ref=Li(S,y,w),C.return=S,C)}function p(S,y,w,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=Ml(w,S.mode,C),y.return=S,y):(y=o(y,w.children||[]),y.return=S,y)}function m(S,y,w,C,R){return y===null||y.tag!==7?(y=Xn(w,S.mode,C,R),y.return=S,y):(y=o(y,w),y.return=S,y)}function g(S,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Al(""+y,S.mode,w),y.return=S,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Go:return w=bs(y.type,y.key,y.props,null,S.mode,w),w.ref=Li(S,null,y),w.return=S,w;case br:return y=Ml(y,S.mode,w),y.return=S,y;case mn:var C=y._init;return g(S,C(y._payload),w)}if(Mi(y)||ki(y))return y=Xn(y,S.mode,w,null),y.return=S,y;ss(S,y)}return null}function v(S,y,w,C){var R=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:h(S,y,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Go:return w.key===R?d(S,y,w,C):null;case br:return w.key===R?p(S,y,w,C):null;case mn:return R=w._init,v(S,y,R(w._payload),C)}if(Mi(w)||ki(w))return R!==null?null:m(S,y,w,C,null);ss(S,w)}return null}function x(S,y,w,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return S=S.get(w)||null,h(y,S,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Go:return S=S.get(C.key===null?w:C.key)||null,d(y,S,C,R);case br:return S=S.get(C.key===null?w:C.key)||null,p(y,S,C,R);case mn:var z=C._init;return x(S,y,w,z(C._payload),R)}if(Mi(C)||ki(C))return S=S.get(w)||null,m(y,S,C,R,null);ss(y,C)}return null}function E(S,y,w,C){for(var R=null,z=null,A=y,B=y=0,H=null;A!==null&&B<w.length;B++){A.index>B?(H=A,A=null):H=A.sibling;var Z=v(S,A,w[B],C);if(Z===null){A===null&&(A=H);break}t&&A&&Z.alternate===null&&e(S,A),y=a(Z,y,B),z===null?R=Z:z.sibling=Z,z=Z,A=H}if(B===w.length)return n(S,A),_e&&Hn(S,B),R;if(A===null){for(;B<w.length;B++)A=g(S,w[B],C),A!==null&&(y=a(A,y,B),z===null?R=A:z.sibling=A,z=A);return _e&&Hn(S,B),R}for(A=i(S,A);B<w.length;B++)H=x(A,S,B,w[B],C),H!==null&&(t&&H.alternate!==null&&A.delete(H.key===null?B:H.key),y=a(H,y,B),z===null?R=H:z.sibling=H,z=H);return t&&A.forEach(function(re){return e(S,re)}),_e&&Hn(S,B),R}function T(S,y,w,C){var R=ki(w);if(typeof R!="function")throw Error(D(150));if(w=R.call(w),w==null)throw Error(D(151));for(var z=R=null,A=y,B=y=0,H=null,Z=w.next();A!==null&&!Z.done;B++,Z=w.next()){A.index>B?(H=A,A=null):H=A.sibling;var re=v(S,A,Z.value,C);if(re===null){A===null&&(A=H);break}t&&A&&re.alternate===null&&e(S,A),y=a(re,y,B),z===null?R=re:z.sibling=re,z=re,A=H}if(Z.done)return n(S,A),_e&&Hn(S,B),R;if(A===null){for(;!Z.done;B++,Z=w.next())Z=g(S,Z.value,C),Z!==null&&(y=a(Z,y,B),z===null?R=Z:z.sibling=Z,z=Z);return _e&&Hn(S,B),R}for(A=i(S,A);!Z.done;B++,Z=w.next())Z=x(A,S,B,Z.value,C),Z!==null&&(t&&Z.alternate!==null&&A.delete(Z.key===null?B:Z.key),y=a(Z,y,B),z===null?R=Z:z.sibling=Z,z=Z);return t&&A.forEach(function(ge){return e(S,ge)}),_e&&Hn(S,B),R}function O(S,y,w,C){if(typeof w=="object"&&w!==null&&w.type===Lr&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Go:e:{for(var R=w.key,z=y;z!==null;){if(z.key===R){if(R=w.type,R===Lr){if(z.tag===7){n(S,z.sibling),y=o(z,w.props.children),y.return=S,S=y;break e}}else if(z.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===mn&&Yd(R)===z.type){n(S,z.sibling),y=o(z,w.props),y.ref=Li(S,z,w),y.return=S,S=y;break e}n(S,z);break}else e(S,z);z=z.sibling}w.type===Lr?(y=Xn(w.props.children,S.mode,C,w.key),y.return=S,S=y):(C=bs(w.type,w.key,w.props,null,S.mode,C),C.ref=Li(S,y,w),C.return=S,S=C)}return u(S);case br:e:{for(z=w.key;y!==null;){if(y.key===z)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(S,y.sibling),y=o(y,w.children||[]),y.return=S,S=y;break e}else{n(S,y);break}else e(S,y);y=y.sibling}y=Ml(w,S.mode,C),y.return=S,S=y}return u(S);case mn:return z=w._init,O(S,y,z(w._payload),C)}if(Mi(w))return E(S,y,w,C);if(ki(w))return T(S,y,w,C);ss(S,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(S,y.sibling),y=o(y,w),y.return=S,S=y):(n(S,y),y=Al(w,S.mode,C),y.return=S,S=y),u(S)):n(S,y)}return O}var Kr=_m(!0),vm=_m(!1),Fs=Mn(null),Zs=null,Rr=null,kc=null;function Pc(){kc=Rr=Zs=null}function Ec(t){var e=Fs.current;me(Fs),t._currentValue=e}function yu(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function Zr(t,e){Zs=t,kc=Rr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rt=!0),t.firstContext=null)}function xt(t){var e=t._currentValue;if(kc!==t)if(t={context:t,memoizedValue:e,next:null},Rr===null){if(Zs===null)throw Error(D(308));Rr=t,Zs.dependencies={lanes:0,firstContext:t}}else Rr=Rr.next=t;return e}var Jn=null;function Tc(t){Jn===null?Jn=[t]:Jn.push(t)}function ym(t,e,n,i){var o=e.interleaved;return o===null?(n.next=n,Tc(e)):(n.next=o.next,o.next=n),e.interleaved=n,sn(t,i)}function sn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var gn=!1;function bc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wm(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function nn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function bn(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,se&2){var o=i.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),i.pending=e,sn(t,n)}return o=i.interleaved,o===null?(e.next=e,Tc(i)):(e.next=o.next,o.next=e),i.interleaved=e,sn(t,n)}function xs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dc(t,n)}}function Xd(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=e:a=a.next=e}else o=a=e;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ws(t,e,n,i){var o=t.updateQueue;gn=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,h=o.shared.pending;if(h!==null){o.shared.pending=null;var d=h,p=d.next;d.next=null,u===null?a=p:u.next=p,u=d;var m=t.alternate;m!==null&&(m=m.updateQueue,h=m.lastBaseUpdate,h!==u&&(h===null?m.firstBaseUpdate=p:h.next=p,m.lastBaseUpdate=d))}if(a!==null){var g=o.baseState;u=0,m=p=d=null,h=a;do{var v=h.lane,x=h.eventTime;if((i&v)===v){m!==null&&(m=m.next={eventTime:x,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var E=t,T=h;switch(v=e,x=n,T.tag){case 1:if(E=T.payload,typeof E=="function"){g=E.call(x,g,v);break e}g=E;break e;case 3:E.flags=E.flags&-65537|128;case 0:if(E=T.payload,v=typeof E=="function"?E.call(x,g,v):E,v==null)break e;g=xe({},g,v);break e;case 2:gn=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,v=o.effects,v===null?o.effects=[h]:v.push(h))}else x={eventTime:x,lane:v,tag:h.tag,payload:h.payload,callback:h.callback,next:null},m===null?(p=m=x,d=g):m=m.next=x,u|=v;if(h=h.next,h===null){if(h=o.shared.pending,h===null)break;v=h,h=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(m===null&&(d=g),o.baseState=d,o.firstBaseUpdate=p,o.lastBaseUpdate=m,e=o.shared.interleaved,e!==null){o=e;do u|=o.lane,o=o.next;while(o!==e)}else a===null&&(o.shared.lanes=0);ir|=u,t.lanes=u,t.memoizedState=g}}function ef(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(D(191,o));o.call(i)}}}var So={},Zt=Mn(So),lo=Mn(So),uo=Mn(So);function Qn(t){if(t===So)throw Error(D(174));return t}function Lc(t,e){switch(fe(uo,e),fe(lo,t),fe(Zt,So),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Xl(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Xl(e,t)}me(Zt),fe(Zt,e)}function Gr(){me(Zt),me(lo),me(uo)}function xm(t){Qn(uo.current);var e=Qn(Zt.current),n=Xl(e,t.type);e!==n&&(fe(lo,t),fe(Zt,n))}function Cc(t){lo.current===t&&(me(Zt),me(lo))}var ye=Mn(0);function Hs(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var bl=[];function Oc(){for(var t=0;t<bl.length;t++)bl[t]._workInProgressVersionPrimary=null;bl.length=0}var Ss=ln.ReactCurrentDispatcher,Ll=ln.ReactCurrentBatchConfig,rr=0,we=null,Ie=null,Ne=null,Vs=!1,Zi=!1,co=0,R0=0;function Fe(){throw Error(D(321))}function jc(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!At(t[n],e[n]))return!1;return!0}function Ic(t,e,n,i,o,a){if(rr=a,we=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ss.current=t===null||t.memoizedState===null?$0:U0,t=n(i,o),Zi){a=0;do{if(Zi=!1,co=0,25<=a)throw Error(D(301));a+=1,Ne=Ie=null,e.updateQueue=null,Ss.current=F0,t=n(i,o)}while(Zi)}if(Ss.current=qs,e=Ie!==null&&Ie.next!==null,rr=0,Ne=Ie=we=null,Vs=!1,e)throw Error(D(300));return t}function Ac(){var t=co!==0;return co=0,t}function Bt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?we.memoizedState=Ne=t:Ne=Ne.next=t,Ne}function St(){if(Ie===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=Ie.next;var e=Ne===null?we.memoizedState:Ne.next;if(e!==null)Ne=e,Ie=t;else{if(t===null)throw Error(D(310));Ie=t,t={memoizedState:Ie.memoizedState,baseState:Ie.baseState,baseQueue:Ie.baseQueue,queue:Ie.queue,next:null},Ne===null?we.memoizedState=Ne=t:Ne=Ne.next=t}return Ne}function ho(t,e){return typeof e=="function"?e(t):e}function Cl(t){var e=St(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var i=Ie,o=i.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}i.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,i=i.baseState;var h=u=null,d=null,p=a;do{var m=p.lane;if((rr&m)===m)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:t(i,p.action);else{var g={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(h=d=g,u=i):d=d.next=g,we.lanes|=m,ir|=m}p=p.next}while(p!==null&&p!==a);d===null?u=i:d.next=h,At(i,e.memoizedState)||(rt=!0),e.memoizedState=i,e.baseState=u,e.baseQueue=d,n.lastRenderedState=i}if(t=n.interleaved,t!==null){o=t;do a=o.lane,we.lanes|=a,ir|=a,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ol(t){var e=St(),n=e.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=t;var i=n.dispatch,o=n.pending,a=e.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=t(a,u.action),u=u.next;while(u!==o);At(a,e.memoizedState)||(rt=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,i]}function Sm(){}function km(t,e){var n=we,i=St(),o=e(),a=!At(i.memoizedState,o);if(a&&(i.memoizedState=o,rt=!0),i=i.queue,Mc(Tm.bind(null,n,i,t),[t]),i.getSnapshot!==e||a||Ne!==null&&Ne.memoizedState.tag&1){if(n.flags|=2048,fo(9,Em.bind(null,n,i,o,e),void 0,null),Re===null)throw Error(D(349));rr&30||Pm(n,e,o)}return o}function Pm(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Em(t,e,n,i){e.value=n,e.getSnapshot=i,bm(e)&&Lm(t)}function Tm(t,e,n){return n(function(){bm(e)&&Lm(t)})}function bm(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!At(t,n)}catch{return!0}}function Lm(t){var e=sn(t,1);e!==null&&It(e,t,1,-1)}function tf(t){var e=Bt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:t},e.queue=t,t=t.dispatch=B0.bind(null,we,t),[e.memoizedState,t]}function fo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=we.updateQueue,e===null?(e={lastEffect:null,stores:null},we.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Cm(){return St().memoizedState}function ks(t,e,n,i){var o=Bt();we.flags|=t,o.memoizedState=fo(1|e,n,void 0,i===void 0?null:i)}function la(t,e,n,i){var o=St();i=i===void 0?null:i;var a=void 0;if(Ie!==null){var u=Ie.memoizedState;if(a=u.destroy,i!==null&&jc(i,u.deps)){o.memoizedState=fo(e,n,a,i);return}}we.flags|=t,o.memoizedState=fo(1|e,n,a,i)}function nf(t,e){return ks(8390656,8,t,e)}function Mc(t,e){return la(2048,8,t,e)}function Om(t,e){return la(4,2,t,e)}function jm(t,e){return la(4,4,t,e)}function Im(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Am(t,e,n){return n=n!=null?n.concat([t]):null,la(4,4,Im.bind(null,e,t),n)}function Nc(){}function Mm(t,e){var n=St();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&jc(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Nm(t,e){var n=St();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&jc(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function Rm(t,e,n){return rr&21?(At(n,e)||(n=Up(),we.lanes|=n,ir|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rt=!0),t.memoizedState=n)}function z0(t,e){var n=ue;ue=n!==0&&4>n?n:4,t(!0);var i=Ll.transition;Ll.transition={};try{t(!1),e()}finally{ue=n,Ll.transition=i}}function zm(){return St().memoizedState}function D0(t,e,n){var i=Cn(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Dm(t))Bm(e,n);else if(n=ym(t,e,n,i),n!==null){var o=Ge();It(n,t,i,o),$m(n,e,i)}}function B0(t,e,n){var i=Cn(t),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dm(t))Bm(e,o);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var u=e.lastRenderedState,h=a(u,n);if(o.hasEagerState=!0,o.eagerState=h,At(h,u)){var d=e.interleaved;d===null?(o.next=o,Tc(e)):(o.next=d.next,d.next=o),e.interleaved=o;return}}catch{}finally{}n=ym(t,e,o,i),n!==null&&(o=Ge(),It(n,t,i,o),$m(n,e,i))}}function Dm(t){var e=t.alternate;return t===we||e!==null&&e===we}function Bm(t,e){Zi=Vs=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $m(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,dc(t,n)}}var qs={readContext:xt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},$0={readContext:xt,useCallback:function(t,e){return Bt().memoizedState=[t,e===void 0?null:e],t},useContext:xt,useEffect:nf,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ks(4194308,4,Im.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ks(4194308,4,t,e)},useInsertionEffect:function(t,e){return ks(4,2,t,e)},useMemo:function(t,e){var n=Bt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=Bt();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=D0.bind(null,we,t),[i.memoizedState,t]},useRef:function(t){var e=Bt();return t={current:t},e.memoizedState=t},useState:tf,useDebugValue:Nc,useDeferredValue:function(t){return Bt().memoizedState=t},useTransition:function(){var t=tf(!1),e=t[0];return t=z0.bind(null,t[1]),Bt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=we,o=Bt();if(_e){if(n===void 0)throw Error(D(407));n=n()}else{if(n=e(),Re===null)throw Error(D(349));rr&30||Pm(i,e,n)}o.memoizedState=n;var a={value:n,getSnapshot:e};return o.queue=a,nf(Tm.bind(null,i,a,t),[t]),i.flags|=2048,fo(9,Em.bind(null,i,a,n,e),void 0,null),n},useId:function(){var t=Bt(),e=Re.identifierPrefix;if(_e){var n=tn,i=en;n=(i&~(1<<32-jt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=co++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=R0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},U0={readContext:xt,useCallback:Mm,useContext:xt,useEffect:Mc,useImperativeHandle:Am,useInsertionEffect:Om,useLayoutEffect:jm,useMemo:Nm,useReducer:Cl,useRef:Cm,useState:function(){return Cl(ho)},useDebugValue:Nc,useDeferredValue:function(t){var e=St();return Rm(e,Ie.memoizedState,t)},useTransition:function(){var t=Cl(ho)[0],e=St().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:km,useId:zm,unstable_isNewReconciler:!1},F0={readContext:xt,useCallback:Mm,useContext:xt,useEffect:Mc,useImperativeHandle:Am,useInsertionEffect:Om,useLayoutEffect:jm,useMemo:Nm,useReducer:Ol,useRef:Cm,useState:function(){return Ol(ho)},useDebugValue:Nc,useDeferredValue:function(t){var e=St();return Ie===null?e.memoizedState=t:Rm(e,Ie.memoizedState,t)},useTransition:function(){var t=Ol(ho)[0],e=St().memoizedState;return[t,e]},useMutableSource:Sm,useSyncExternalStore:km,useId:zm,unstable_isNewReconciler:!1};function bt(t,e){if(t&&t.defaultProps){e=xe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function wu(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:xe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ua={isMounted:function(t){return(t=t._reactInternals)?ar(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Ge(),o=Cn(t),a=nn(i,o);a.payload=e,n!=null&&(a.callback=n),e=bn(t,a,o),e!==null&&(It(e,t,o,i),xs(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Ge(),o=Cn(t),a=nn(i,o);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=bn(t,a,o),e!==null&&(It(e,t,o,i),xs(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ge(),i=Cn(t),o=nn(n,i);o.tag=2,e!=null&&(o.callback=e),e=bn(t,o,i),e!==null&&(It(e,t,i,n),xs(e,t,i))}};function rf(t,e,n,i,o,a,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,a,u):e.prototype&&e.prototype.isPureReactComponent?!io(n,i)||!io(o,a):!0}function Um(t,e,n){var i=!1,o=In,a=e.contextType;return typeof a=="object"&&a!==null?a=xt(a):(o=ot(e)?tr:He.current,i=e.contextTypes,a=(i=i!=null)?Vr(t,o):In),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ua,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=a),e}function of(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&ua.enqueueReplaceState(e,e.state,null)}function xu(t,e,n,i){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs={},bc(t);var a=e.contextType;typeof a=="object"&&a!==null?o.context=xt(a):(a=ot(e)?tr:He.current,o.context=Vr(t,a)),o.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(wu(t,e,a,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&ua.enqueueReplaceState(o,o.state,null),Ws(t,n,o,i),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Jr(t,e){try{var n="",i=e;do n+=gy(i),i=i.return;while(i);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:o,digest:null}}function jl(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Su(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Z0=typeof WeakMap=="function"?WeakMap:Map;function Fm(t,e,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Gs||(Gs=!0,Iu=i),Su(t,e)},n}function Zm(t,e,n){n=nn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var o=e.value;n.payload=function(){return i(o)},n.callback=function(){Su(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){Su(t,e),typeof i!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function sf(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new Z0;var o=new Set;i.set(e,o)}else o=i.get(e),o===void 0&&(o=new Set,i.set(e,o));o.has(n)||(o.add(n),t=rw.bind(null,t,e,n),e.then(t,t))}function af(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function lf(t,e,n,i,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=nn(-1,1),e.tag=2,bn(n,e,1))),n.lanes|=1),t)}var W0=ln.ReactCurrentOwner,rt=!1;function Ke(t,e,n,i){e.child=t===null?vm(e,null,n,i):Kr(e,t.child,n,i)}function uf(t,e,n,i,o){n=n.render;var a=e.ref;return Zr(e,o),i=Ic(t,e,n,i,a,o),n=Ac(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,an(t,e,o)):(_e&&n&&wc(e),e.flags|=1,Ke(t,e,i,o),e.child)}function cf(t,e,n,i,o){if(t===null){var a=n.type;return typeof a=="function"&&!Zc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,Wm(t,e,a,i,o)):(t=bs(n.type,null,i,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:io,n(u,i)&&t.ref===e.ref)return an(t,e,o)}return e.flags|=1,t=On(a,i),t.ref=e.ref,t.return=e,e.child=t}function Wm(t,e,n,i,o){if(t!==null){var a=t.memoizedProps;if(io(a,i)&&t.ref===e.ref)if(rt=!1,e.pendingProps=i=a,(t.lanes&o)!==0)t.flags&131072&&(rt=!0);else return e.lanes=t.lanes,an(t,e,o)}return ku(t,e,n,i,o)}function Hm(t,e,n){var i=e.pendingProps,o=i.children,a=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Dr,at),at|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,fe(Dr,at),at|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,fe(Dr,at),at|=i}else a!==null?(i=a.baseLanes|n,e.memoizedState=null):i=n,fe(Dr,at),at|=i;return Ke(t,e,o,n),e.child}function Vm(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ku(t,e,n,i,o){var a=ot(n)?tr:He.current;return a=Vr(e,a),Zr(e,o),n=Ic(t,e,n,i,a,o),i=Ac(),t!==null&&!rt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,an(t,e,o)):(_e&&i&&wc(e),e.flags|=1,Ke(t,e,n,o),e.child)}function hf(t,e,n,i,o){if(ot(n)){var a=!0;Bs(e)}else a=!1;if(Zr(e,o),e.stateNode===null)Ps(t,e),Um(e,n,i),xu(e,n,i,o),i=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var d=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=xt(p):(p=ot(n)?tr:He.current,p=Vr(e,p));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof u.getSnapshotBeforeUpdate=="function";g||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==i||d!==p)&&of(e,u,i,p),gn=!1;var v=e.memoizedState;u.state=v,Ws(e,i,u,o),d=e.memoizedState,h!==i||v!==d||it.current||gn?(typeof m=="function"&&(wu(e,n,m,i),d=e.memoizedState),(h=gn||rf(e,n,h,i,v,d,p))?(g||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),u.props=i,u.state=d,u.context=p,i=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{u=e.stateNode,wm(t,e),h=e.memoizedProps,p=e.type===e.elementType?h:bt(e.type,h),u.props=p,g=e.pendingProps,v=u.context,d=n.contextType,typeof d=="object"&&d!==null?d=xt(d):(d=ot(n)?tr:He.current,d=Vr(e,d));var x=n.getDerivedStateFromProps;(m=typeof x=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==g||v!==d)&&of(e,u,i,d),gn=!1,v=e.memoizedState,u.state=v,Ws(e,i,u,o);var E=e.memoizedState;h!==g||v!==E||it.current||gn?(typeof x=="function"&&(wu(e,n,x,i),E=e.memoizedState),(p=gn||rf(e,n,p,i,v,E,d)||!1)?(m||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,E,d),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,E,d)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=E),u.props=i,u.state=E,u.context=d,i=p):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return Pu(t,e,n,i,a,o)}function Pu(t,e,n,i,o,a){Vm(t,e);var u=(e.flags&128)!==0;if(!i&&!u)return o&&Gd(e,n,!1),an(t,e,a);i=e.stateNode,W0.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&u?(e.child=Kr(e,t.child,null,a),e.child=Kr(e,null,h,a)):Ke(t,e,h,a),e.memoizedState=i.state,o&&Gd(e,n,!0),e.child}function qm(t){var e=t.stateNode;e.pendingContext?Kd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Kd(t,e.context,!1),Lc(t,e.containerInfo)}function df(t,e,n,i,o){return qr(),Sc(o),e.flags|=256,Ke(t,e,n,i),e.child}var Eu={dehydrated:null,treeContext:null,retryLane:0};function Tu(t){return{baseLanes:t,cachePool:null,transitions:null}}function Km(t,e,n){var i=e.pendingProps,o=ye.current,a=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(o&2)!==0),h?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),fe(ye,o&1),t===null)return vu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=i.children,t=i.fallback,a?(i=e.mode,a=e.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=da(u,i,0,null),t=Xn(t,i,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=Tu(n),e.memoizedState=Eu,t):Rc(e,u));if(o=t.memoizedState,o!==null&&(h=o.dehydrated,h!==null))return H0(t,e,u,i,h,o,n);if(a){a=i.fallback,u=e.mode,o=t.child,h=o.sibling;var d={mode:"hidden",children:i.children};return!(u&1)&&e.child!==o?(i=e.child,i.childLanes=0,i.pendingProps=d,e.deletions=null):(i=On(o,d),i.subtreeFlags=o.subtreeFlags&14680064),h!==null?a=On(h,a):(a=Xn(a,u,n,null),a.flags|=2),a.return=e,i.return=e,i.sibling=a,e.child=i,i=a,a=e.child,u=t.child.memoizedState,u=u===null?Tu(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=t.childLanes&~n,e.memoizedState=Eu,i}return a=t.child,t=a.sibling,i=On(a,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Rc(t,e){return e=da({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function as(t,e,n,i){return i!==null&&Sc(i),Kr(e,t.child,null,n),t=Rc(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function H0(t,e,n,i,o,a,u){if(n)return e.flags&256?(e.flags&=-257,i=jl(Error(D(422))),as(t,e,u,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=i.fallback,o=e.mode,i=da({mode:"visible",children:i.children},o,0,null),a=Xn(a,o,u,null),a.flags|=2,i.return=e,a.return=e,i.sibling=a,e.child=i,e.mode&1&&Kr(e,t.child,null,u),e.child.memoizedState=Tu(u),e.memoizedState=Eu,a);if(!(e.mode&1))return as(t,e,u,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var h=i.dgst;return i=h,a=Error(D(419)),i=jl(a,i,void 0),as(t,e,u,i)}if(h=(u&t.childLanes)!==0,rt||h){if(i=Re,i!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,sn(t,o),It(i,t,o,-1))}return Fc(),i=jl(Error(D(421))),as(t,e,u,i)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=iw.bind(null,t),o._reactRetry=e,null):(t=a.treeContext,lt=Tn(o.nextSibling),ut=e,_e=!0,Ot=null,t!==null&&(_t[vt++]=en,_t[vt++]=tn,_t[vt++]=nr,en=t.id,tn=t.overflow,nr=e),e=Rc(e,i.children),e.flags|=4096,e)}function ff(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),yu(t.return,e,n)}function Il(t,e,n,i,o){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o)}function Gm(t,e,n){var i=e.pendingProps,o=i.revealOrder,a=i.tail;if(Ke(t,e,i.children,n),i=ye.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ff(t,n,e);else if(t.tag===19)ff(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(fe(ye,i),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Hs(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Il(e,!1,o,n,a);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Hs(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Il(e,!0,n,null,a);break;case"together":Il(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ps(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function an(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ir|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(D(153));if(e.child!==null){for(t=e.child,n=On(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=On(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function V0(t,e,n){switch(e.tag){case 3:qm(e),qr();break;case 5:xm(e);break;case 1:ot(e.type)&&Bs(e);break;case 4:Lc(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,o=e.memoizedProps.value;fe(Fs,i._currentValue),i._currentValue=o;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(fe(ye,ye.current&1),e.flags|=128,null):n&e.child.childLanes?Km(t,e,n):(fe(ye,ye.current&1),t=an(t,e,n),t!==null?t.sibling:null);fe(ye,ye.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return Gm(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(ye,ye.current),i)break;return null;case 22:case 23:return e.lanes=0,Hm(t,e,n)}return an(t,e,n)}var Jm,bu,Qm,Ym;Jm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};bu=function(){};Qm=function(t,e,n,i){var o=t.memoizedProps;if(o!==i){t=e.stateNode,Qn(Zt.current);var a=null;switch(n){case"input":o=Gl(t,o),i=Gl(t,i),a=[];break;case"select":o=xe({},o,{value:void 0}),i=xe({},i,{value:void 0}),a=[];break;case"textarea":o=Yl(t,o),i=Yl(t,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=zs)}eu(n,i);var u;n=null;for(p in o)if(!i.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var h=o[p];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Qi.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in i){var d=i[p];if(h=o!=null?o[p]:void 0,i.hasOwnProperty(p)&&d!==h&&(d!=null||h!=null))if(p==="style")if(h){for(u in h)!h.hasOwnProperty(u)||d&&d.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in d)d.hasOwnProperty(u)&&h[u]!==d[u]&&(n||(n={}),n[u]=d[u])}else n||(a||(a=[]),a.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,h=h?h.__html:void 0,d!=null&&h!==d&&(a=a||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(a=a||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Qi.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&pe("scroll",t),a||h===d||(a=[])):(a=a||[]).push(p,d))}n&&(a=a||[]).push("style",n);var p=a;(e.updateQueue=p)&&(e.flags|=4)}};Ym=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ci(t,e){if(!_e)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Ze(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function q0(t,e,n){var i=e.pendingProps;switch(xc(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(e),null;case 1:return ot(e.type)&&Ds(),Ze(e),null;case 3:return i=e.stateNode,Gr(),me(it),me(He),Oc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(os(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ot!==null&&(Nu(Ot),Ot=null))),bu(t,e),Ze(e),null;case 5:Cc(e);var o=Qn(uo.current);if(n=e.type,t!==null&&e.stateNode!=null)Qm(t,e,n,i,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(D(166));return Ze(e),null}if(t=Qn(Zt.current),os(e)){i=e.stateNode,n=e.type;var a=e.memoizedProps;switch(i[Ut]=e,i[ao]=a,t=(e.mode&1)!==0,n){case"dialog":pe("cancel",i),pe("close",i);break;case"iframe":case"object":case"embed":pe("load",i);break;case"video":case"audio":for(o=0;o<Ri.length;o++)pe(Ri[o],i);break;case"source":pe("error",i);break;case"img":case"image":case"link":pe("error",i),pe("load",i);break;case"details":pe("toggle",i);break;case"input":xd(i,a),pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},pe("invalid",i);break;case"textarea":kd(i,a),pe("invalid",i)}eu(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var h=a[u];u==="children"?typeof h=="string"?i.textContent!==h&&(a.suppressHydrationWarning!==!0&&is(i.textContent,h,t),o=["children",h]):typeof h=="number"&&i.textContent!==""+h&&(a.suppressHydrationWarning!==!0&&is(i.textContent,h,t),o=["children",""+h]):Qi.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&pe("scroll",i)}switch(n){case"input":Jo(i),Sd(i,a,!0);break;case"textarea":Jo(i),Pd(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=zs)}i=o,e.updateQueue=i,i!==null&&(e.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Tp(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=u.createElement(n,{is:i.is}):(t=u.createElement(n),n==="select"&&(u=t,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):t=u.createElementNS(t,n),t[Ut]=e,t[ao]=i,Jm(t,e,!1,!1),e.stateNode=t;e:{switch(u=tu(n,i),n){case"dialog":pe("cancel",t),pe("close",t),o=i;break;case"iframe":case"object":case"embed":pe("load",t),o=i;break;case"video":case"audio":for(o=0;o<Ri.length;o++)pe(Ri[o],t);o=i;break;case"source":pe("error",t),o=i;break;case"img":case"image":case"link":pe("error",t),pe("load",t),o=i;break;case"details":pe("toggle",t),o=i;break;case"input":xd(t,i),o=Gl(t,i),pe("invalid",t);break;case"option":o=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},o=xe({},i,{value:void 0}),pe("invalid",t);break;case"textarea":kd(t,i),o=Yl(t,i),pe("invalid",t);break;default:o=i}eu(n,o),h=o;for(a in h)if(h.hasOwnProperty(a)){var d=h[a];a==="style"?Cp(t,d):a==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&bp(t,d)):a==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&Yi(t,d):typeof d=="number"&&Yi(t,""+d):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qi.hasOwnProperty(a)?d!=null&&a==="onScroll"&&pe("scroll",t):d!=null&&sc(t,a,d,u))}switch(n){case"input":Jo(t),Sd(t,i,!1);break;case"textarea":Jo(t),Pd(t);break;case"option":i.value!=null&&t.setAttribute("value",""+jn(i.value));break;case"select":t.multiple=!!i.multiple,a=i.value,a!=null?Br(t,!!i.multiple,a,!1):i.defaultValue!=null&&Br(t,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=zs)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ze(e),null;case 6:if(t&&e.stateNode!=null)Ym(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(D(166));if(n=Qn(uo.current),Qn(Zt.current),os(e)){if(i=e.stateNode,n=e.memoizedProps,i[Ut]=e,(a=i.nodeValue!==n)&&(t=ut,t!==null))switch(t.tag){case 3:is(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&is(i.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ut]=e,e.stateNode=i}return Ze(e),null;case 13:if(me(ye),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_e&&lt!==null&&e.mode&1&&!(e.flags&128))gm(),qr(),e.flags|=98560,a=!1;else if(a=os(e),i!==null&&i.dehydrated!==null){if(t===null){if(!a)throw Error(D(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[Ut]=e}else qr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ze(e),a=!1}else Ot!==null&&(Nu(Ot),Ot=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||ye.current&1?Ae===0&&(Ae=3):Fc())),e.updateQueue!==null&&(e.flags|=4),Ze(e),null);case 4:return Gr(),bu(t,e),t===null&&oo(e.stateNode.containerInfo),Ze(e),null;case 10:return Ec(e.type._context),Ze(e),null;case 17:return ot(e.type)&&Ds(),Ze(e),null;case 19:if(me(ye),a=e.memoizedState,a===null)return Ze(e),null;if(i=(e.flags&128)!==0,u=a.rendering,u===null)if(i)Ci(a,!1);else{if(Ae!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=Hs(t),u!==null){for(e.flags|=128,Ci(a,!1),i=u.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)a=n,t=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,t=u.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return fe(ye,ye.current&1|2),e.child}t=t.sibling}a.tail!==null&&Pe()>Qr&&(e.flags|=128,i=!0,Ci(a,!1),e.lanes=4194304)}else{if(!i)if(t=Hs(u),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ci(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!_e)return Ze(e),null}else 2*Pe()-a.renderingStartTime>Qr&&n!==1073741824&&(e.flags|=128,i=!0,Ci(a,!1),e.lanes=4194304);a.isBackwards?(u.sibling=e.child,e.child=u):(n=a.last,n!==null?n.sibling=u:e.child=u,a.last=u)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=Pe(),e.sibling=null,n=ye.current,fe(ye,i?n&1|2:n&1),e):(Ze(e),null);case 22:case 23:return Uc(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?at&1073741824&&(Ze(e),e.subtreeFlags&6&&(e.flags|=8192)):Ze(e),null;case 24:return null;case 25:return null}throw Error(D(156,e.tag))}function K0(t,e){switch(xc(e),e.tag){case 1:return ot(e.type)&&Ds(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Gr(),me(it),me(He),Oc(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Cc(e),null;case 13:if(me(ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(D(340));qr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return me(ye),null;case 4:return Gr(),null;case 10:return Ec(e.type._context),null;case 22:case 23:return Uc(),null;case 24:return null;default:return null}}var ls=!1,We=!1,G0=typeof WeakSet=="function"?WeakSet:Set,F=null;function zr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Se(t,e,i)}else n.current=null}function Lu(t,e,n){try{n()}catch(i){Se(t,e,i)}}var pf=!1;function J0(t,e){if(hu=Ms,t=rm(),yc(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,h=-1,d=-1,p=0,m=0,g=t,v=null;t:for(;;){for(var x;g!==n||o!==0&&g.nodeType!==3||(h=u+o),g!==a||i!==0&&g.nodeType!==3||(d=u+i),g.nodeType===3&&(u+=g.nodeValue.length),(x=g.firstChild)!==null;)v=g,g=x;for(;;){if(g===t)break t;if(v===n&&++p===o&&(h=u),v===a&&++m===i&&(d=u),(x=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=x}n=h===-1||d===-1?null:{start:h,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(du={focusedElem:t,selectionRange:n},Ms=!1,F=e;F!==null;)if(e=F,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,F=t;else for(;F!==null;){e=F;try{var E=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var T=E.memoizedProps,O=E.memoizedState,S=e.stateNode,y=S.getSnapshotBeforeUpdate(e.elementType===e.type?T:bt(e.type,T),O);S.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(C){Se(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,F=t;break}F=e.return}return E=pf,pf=!1,E}function Wi(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&t)===t){var a=o.destroy;o.destroy=void 0,a!==void 0&&Lu(e,n,a)}o=o.next}while(o!==i)}}function ca(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Cu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Xm(t){var e=t.alternate;e!==null&&(t.alternate=null,Xm(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ut],delete e[ao],delete e[mu],delete e[I0],delete e[A0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function eg(t){return t.tag===5||t.tag===3||t.tag===4}function mf(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||eg(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ou(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zs));else if(i!==4&&(t=t.child,t!==null))for(Ou(t,e,n),t=t.sibling;t!==null;)Ou(t,e,n),t=t.sibling}function ju(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(ju(t,e,n),t=t.sibling;t!==null;)ju(t,e,n),t=t.sibling}var Be=null,Lt=!1;function dn(t,e,n){for(n=n.child;n!==null;)tg(t,e,n),n=n.sibling}function tg(t,e,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(na,n)}catch{}switch(n.tag){case 5:We||zr(n,e);case 6:var i=Be,o=Lt;Be=null,dn(t,e,n),Be=i,Lt=o,Be!==null&&(Lt?(t=Be,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Lt?(t=Be,n=n.stateNode,t.nodeType===8?El(t.parentNode,n):t.nodeType===1&&El(t,n),no(t)):El(Be,n.stateNode));break;case 4:i=Be,o=Lt,Be=n.stateNode.containerInfo,Lt=!0,dn(t,e,n),Be=i,Lt=o;break;case 0:case 11:case 14:case 15:if(!We&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Lu(n,e,u),o=o.next}while(o!==i)}dn(t,e,n);break;case 1:if(!We&&(zr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(h){Se(n,e,h)}dn(t,e,n);break;case 21:dn(t,e,n);break;case 22:n.mode&1?(We=(i=We)||n.memoizedState!==null,dn(t,e,n),We=i):dn(t,e,n);break;default:dn(t,e,n)}}function gf(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new G0),e.forEach(function(i){var o=ow.bind(null,t,i);n.has(i)||(n.add(i),i.then(o,o))})}}function Et(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var a=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Be=h.stateNode,Lt=!1;break e;case 3:Be=h.stateNode.containerInfo,Lt=!0;break e;case 4:Be=h.stateNode.containerInfo,Lt=!0;break e}h=h.return}if(Be===null)throw Error(D(160));tg(a,u,o),Be=null,Lt=!1;var d=o.alternate;d!==null&&(d.return=null),o.return=null}catch(p){Se(o,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ng(e,t),e=e.sibling}function ng(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Et(e,t),Dt(t),i&4){try{Wi(3,t,t.return),ca(3,t)}catch(T){Se(t,t.return,T)}try{Wi(5,t,t.return)}catch(T){Se(t,t.return,T)}}break;case 1:Et(e,t),Dt(t),i&512&&n!==null&&zr(n,n.return);break;case 5:if(Et(e,t),Dt(t),i&512&&n!==null&&zr(n,n.return),t.flags&32){var o=t.stateNode;try{Yi(o,"")}catch(T){Se(t,t.return,T)}}if(i&4&&(o=t.stateNode,o!=null)){var a=t.memoizedProps,u=n!==null?n.memoizedProps:a,h=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{h==="input"&&a.type==="radio"&&a.name!=null&&Pp(o,a),tu(h,u);var p=tu(h,a);for(u=0;u<d.length;u+=2){var m=d[u],g=d[u+1];m==="style"?Cp(o,g):m==="dangerouslySetInnerHTML"?bp(o,g):m==="children"?Yi(o,g):sc(o,m,g,p)}switch(h){case"input":Jl(o,a);break;case"textarea":Ep(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var x=a.value;x!=null?Br(o,!!a.multiple,x,!1):v!==!!a.multiple&&(a.defaultValue!=null?Br(o,!!a.multiple,a.defaultValue,!0):Br(o,!!a.multiple,a.multiple?[]:"",!1))}o[ao]=a}catch(T){Se(t,t.return,T)}}break;case 6:if(Et(e,t),Dt(t),i&4){if(t.stateNode===null)throw Error(D(162));o=t.stateNode,a=t.memoizedProps;try{o.nodeValue=a}catch(T){Se(t,t.return,T)}}break;case 3:if(Et(e,t),Dt(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{no(e.containerInfo)}catch(T){Se(t,t.return,T)}break;case 4:Et(e,t),Dt(t);break;case 13:Et(e,t),Dt(t),o=t.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Bc=Pe())),i&4&&gf(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(We=(p=We)||m,Et(e,t),We=p):Et(e,t),Dt(t),i&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!m&&t.mode&1)for(F=t,m=t.child;m!==null;){for(g=F=m;F!==null;){switch(v=F,x=v.child,v.tag){case 0:case 11:case 14:case 15:Wi(4,v,v.return);break;case 1:zr(v,v.return);var E=v.stateNode;if(typeof E.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,E.props=e.memoizedProps,E.state=e.memoizedState,E.componentWillUnmount()}catch(T){Se(i,n,T)}}break;case 5:zr(v,v.return);break;case 22:if(v.memoizedState!==null){vf(g);continue}}x!==null?(x.return=v,F=x):vf(g)}m=m.sibling}e:for(m=null,g=t;;){if(g.tag===5){if(m===null){m=g;try{o=g.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(h=g.stateNode,d=g.memoizedProps.style,u=d!=null&&d.hasOwnProperty("display")?d.display:null,h.style.display=Lp("display",u))}catch(T){Se(t,t.return,T)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=p?"":g.memoizedProps}catch(T){Se(t,t.return,T)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===t)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===t)break e;for(;g.sibling===null;){if(g.return===null||g.return===t)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Et(e,t),Dt(t),i&4&&gf(t);break;case 21:break;default:Et(e,t),Dt(t)}}function Dt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(eg(n)){var i=n;break e}n=n.return}throw Error(D(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Yi(o,""),i.flags&=-33);var a=mf(t);ju(t,a,o);break;case 3:case 4:var u=i.stateNode.containerInfo,h=mf(t);Ou(t,h,u);break;default:throw Error(D(161))}}catch(d){Se(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Q0(t,e,n){F=t,rg(t)}function rg(t,e,n){for(var i=(t.mode&1)!==0;F!==null;){var o=F,a=o.child;if(o.tag===22&&i){var u=o.memoizedState!==null||ls;if(!u){var h=o.alternate,d=h!==null&&h.memoizedState!==null||We;h=ls;var p=We;if(ls=u,(We=d)&&!p)for(F=o;F!==null;)u=F,d=u.child,u.tag===22&&u.memoizedState!==null?yf(o):d!==null?(d.return=u,F=d):yf(o);for(;a!==null;)F=a,rg(a),a=a.sibling;F=o,ls=h,We=p}_f(t)}else o.subtreeFlags&8772&&a!==null?(a.return=o,F=a):_f(t)}}function _f(t){for(;F!==null;){var e=F;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||ca(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!We)if(n===null)i.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:bt(e.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&ef(e,a,i);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ef(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&no(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}We||e.flags&512&&Cu(e)}catch(v){Se(e,e.return,v)}}if(e===t){F=null;break}if(n=e.sibling,n!==null){n.return=e.return,F=n;break}F=e.return}}function vf(t){for(;F!==null;){var e=F;if(e===t){F=null;break}var n=e.sibling;if(n!==null){n.return=e.return,F=n;break}F=e.return}}function yf(t){for(;F!==null;){var e=F;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ca(4,e)}catch(d){Se(e,n,d)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var o=e.return;try{i.componentDidMount()}catch(d){Se(e,o,d)}}var a=e.return;try{Cu(e)}catch(d){Se(e,a,d)}break;case 5:var u=e.return;try{Cu(e)}catch(d){Se(e,u,d)}}}catch(d){Se(e,e.return,d)}if(e===t){F=null;break}var h=e.sibling;if(h!==null){h.return=e.return,F=h;break}F=e.return}}var Y0=Math.ceil,Ks=ln.ReactCurrentDispatcher,zc=ln.ReactCurrentOwner,wt=ln.ReactCurrentBatchConfig,se=0,Re=null,be=null,$e=0,at=0,Dr=Mn(0),Ae=0,po=null,ir=0,ha=0,Dc=0,Hi=null,tt=null,Bc=0,Qr=1/0,Qt=null,Gs=!1,Iu=null,Ln=null,us=!1,xn=null,Js=0,Vi=0,Au=null,Es=-1,Ts=0;function Ge(){return se&6?Pe():Es!==-1?Es:Es=Pe()}function Cn(t){return t.mode&1?se&2&&$e!==0?$e&-$e:N0.transition!==null?(Ts===0&&(Ts=Up()),Ts):(t=ue,t!==0||(t=window.event,t=t===void 0?16:Kp(t.type)),t):1}function It(t,e,n,i){if(50<Vi)throw Vi=0,Au=null,Error(D(185));yo(t,n,i),(!(se&2)||t!==Re)&&(t===Re&&(!(se&2)&&(ha|=n),Ae===4&&vn(t,$e)),st(t,i),n===1&&se===0&&!(e.mode&1)&&(Qr=Pe()+500,aa&&Nn()))}function st(t,e){var n=t.callbackNode;Ny(t,e);var i=As(t,t===Re?$e:0);if(i===0)n!==null&&bd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&bd(n),e===1)t.tag===0?M0(wf.bind(null,t)):fm(wf.bind(null,t)),O0(function(){!(se&6)&&Nn()}),n=null;else{switch(Fp(i)){case 1:n=hc;break;case 4:n=Bp;break;case 16:n=Is;break;case 536870912:n=$p;break;default:n=Is}n=hg(n,ig.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ig(t,e){if(Es=-1,Ts=0,se&6)throw Error(D(327));var n=t.callbackNode;if(Wr()&&t.callbackNode!==n)return null;var i=As(t,t===Re?$e:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Qs(t,i);else{e=i;var o=se;se|=2;var a=sg();(Re!==t||$e!==e)&&(Qt=null,Qr=Pe()+500,Yn(t,e));do try{tw();break}catch(h){og(t,h)}while(!0);Pc(),Ks.current=a,se=o,be!==null?e=0:(Re=null,$e=0,e=Ae)}if(e!==0){if(e===2&&(o=su(t),o!==0&&(i=o,e=Mu(t,o))),e===1)throw n=po,Yn(t,0),vn(t,i),st(t,Pe()),n;if(e===6)vn(t,i);else{if(o=t.current.alternate,!(i&30)&&!X0(o)&&(e=Qs(t,i),e===2&&(a=su(t),a!==0&&(i=a,e=Mu(t,a))),e===1))throw n=po,Yn(t,0),vn(t,i),st(t,Pe()),n;switch(t.finishedWork=o,t.finishedLanes=i,e){case 0:case 1:throw Error(D(345));case 2:Vn(t,tt,Qt);break;case 3:if(vn(t,i),(i&130023424)===i&&(e=Bc+500-Pe(),10<e)){if(As(t,0)!==0)break;if(o=t.suspendedLanes,(o&i)!==i){Ge(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=pu(Vn.bind(null,t,tt,Qt),e);break}Vn(t,tt,Qt);break;case 4:if(vn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,o=-1;0<i;){var u=31-jt(i);a=1<<u,u=e[u],u>o&&(o=u),i&=~a}if(i=o,i=Pe()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Y0(i/1960))-i,10<i){t.timeoutHandle=pu(Vn.bind(null,t,tt,Qt),i);break}Vn(t,tt,Qt);break;case 5:Vn(t,tt,Qt);break;default:throw Error(D(329))}}}return st(t,Pe()),t.callbackNode===n?ig.bind(null,t):null}function Mu(t,e){var n=Hi;return t.current.memoizedState.isDehydrated&&(Yn(t,e).flags|=256),t=Qs(t,e),t!==2&&(e=tt,tt=n,e!==null&&Nu(e)),t}function Nu(t){tt===null?tt=t:tt.push.apply(tt,t)}function X0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],a=o.getSnapshot;o=o.value;try{if(!At(a(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vn(t,e){for(e&=~Dc,e&=~ha,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-jt(e),i=1<<n;t[n]=-1,e&=~i}}function wf(t){if(se&6)throw Error(D(327));Wr();var e=As(t,0);if(!(e&1))return st(t,Pe()),null;var n=Qs(t,e);if(t.tag!==0&&n===2){var i=su(t);i!==0&&(e=i,n=Mu(t,i))}if(n===1)throw n=po,Yn(t,0),vn(t,e),st(t,Pe()),n;if(n===6)throw Error(D(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Vn(t,tt,Qt),st(t,Pe()),null}function $c(t,e){var n=se;se|=1;try{return t(e)}finally{se=n,se===0&&(Qr=Pe()+500,aa&&Nn())}}function or(t){xn!==null&&xn.tag===0&&!(se&6)&&Wr();var e=se;se|=1;var n=wt.transition,i=ue;try{if(wt.transition=null,ue=1,t)return t()}finally{ue=i,wt.transition=n,se=e,!(se&6)&&Nn()}}function Uc(){at=Dr.current,me(Dr)}function Yn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,C0(n)),be!==null)for(n=be.return;n!==null;){var i=n;switch(xc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ds();break;case 3:Gr(),me(it),me(He),Oc();break;case 5:Cc(i);break;case 4:Gr();break;case 13:me(ye);break;case 19:me(ye);break;case 10:Ec(i.type._context);break;case 22:case 23:Uc()}n=n.return}if(Re=t,be=t=On(t.current,null),$e=at=e,Ae=0,po=null,Dc=ha=ir=0,tt=Hi=null,Jn!==null){for(e=0;e<Jn.length;e++)if(n=Jn[e],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,i.next=u}n.pending=i}Jn=null}return t}function og(t,e){do{var n=be;try{if(Pc(),Ss.current=qs,Vs){for(var i=we.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}Vs=!1}if(rr=0,Ne=Ie=we=null,Zi=!1,co=0,zc.current=null,n===null||n.return===null){Ae=1,po=e,be=null;break}e:{var a=t,u=n.return,h=n,d=e;if(e=$e,h.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,m=h,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var x=af(u);if(x!==null){x.flags&=-257,lf(x,u,h,a,e),x.mode&1&&sf(a,p,e),e=x,d=p;var E=e.updateQueue;if(E===null){var T=new Set;T.add(d),e.updateQueue=T}else E.add(d);break e}else{if(!(e&1)){sf(a,p,e),Fc();break e}d=Error(D(426))}}else if(_e&&h.mode&1){var O=af(u);if(O!==null){!(O.flags&65536)&&(O.flags|=256),lf(O,u,h,a,e),Sc(Jr(d,h));break e}}a=d=Jr(d,h),Ae!==4&&(Ae=2),Hi===null?Hi=[a]:Hi.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var S=Fm(a,d,e);Xd(a,S);break e;case 1:h=d;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ln===null||!Ln.has(w)))){a.flags|=65536,e&=-e,a.lanes|=e;var C=Zm(a,h,e);Xd(a,C);break e}}a=a.return}while(a!==null)}lg(n)}catch(R){e=R,be===n&&n!==null&&(be=n=n.return);continue}break}while(!0)}function sg(){var t=Ks.current;return Ks.current=qs,t===null?qs:t}function Fc(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Re===null||!(ir&268435455)&&!(ha&268435455)||vn(Re,$e)}function Qs(t,e){var n=se;se|=2;var i=sg();(Re!==t||$e!==e)&&(Qt=null,Yn(t,e));do try{ew();break}catch(o){og(t,o)}while(!0);if(Pc(),se=n,Ks.current=i,be!==null)throw Error(D(261));return Re=null,$e=0,Ae}function ew(){for(;be!==null;)ag(be)}function tw(){for(;be!==null&&!Ty();)ag(be)}function ag(t){var e=cg(t.alternate,t,at);t.memoizedProps=t.pendingProps,e===null?lg(t):be=e,zc.current=null}function lg(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=K0(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ae=6,be=null;return}}else if(n=q0(n,e,at),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);Ae===0&&(Ae=5)}function Vn(t,e,n){var i=ue,o=wt.transition;try{wt.transition=null,ue=1,nw(t,e,n,i)}finally{wt.transition=o,ue=i}return null}function nw(t,e,n,i){do Wr();while(xn!==null);if(se&6)throw Error(D(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(D(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Ry(t,a),t===Re&&(be=Re=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||us||(us=!0,hg(Is,function(){return Wr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=wt.transition,wt.transition=null;var u=ue;ue=1;var h=se;se|=4,zc.current=null,J0(t,n),ng(n,t),S0(du),Ms=!!hu,du=hu=null,t.current=n,Q0(n),by(),se=h,ue=u,wt.transition=a}else t.current=n;if(us&&(us=!1,xn=t,Js=o),a=t.pendingLanes,a===0&&(Ln=null),Oy(n.stateNode),st(t,Pe()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Gs)throw Gs=!1,t=Iu,Iu=null,t;return Js&1&&t.tag!==0&&Wr(),a=t.pendingLanes,a&1?t===Au?Vi++:(Vi=0,Au=t):Vi=0,Nn(),null}function Wr(){if(xn!==null){var t=Fp(Js),e=wt.transition,n=ue;try{if(wt.transition=null,ue=16>t?16:t,xn===null)var i=!1;else{if(t=xn,xn=null,Js=0,se&6)throw Error(D(331));var o=se;for(se|=4,F=t.current;F!==null;){var a=F,u=a.child;if(F.flags&16){var h=a.deletions;if(h!==null){for(var d=0;d<h.length;d++){var p=h[d];for(F=p;F!==null;){var m=F;switch(m.tag){case 0:case 11:case 15:Wi(8,m,a)}var g=m.child;if(g!==null)g.return=m,F=g;else for(;F!==null;){m=F;var v=m.sibling,x=m.return;if(Xm(m),m===p){F=null;break}if(v!==null){v.return=x,F=v;break}F=x}}}var E=a.alternate;if(E!==null){var T=E.child;if(T!==null){E.child=null;do{var O=T.sibling;T.sibling=null,T=O}while(T!==null)}}F=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,F=u;else e:for(;F!==null;){if(a=F,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wi(9,a,a.return)}var S=a.sibling;if(S!==null){S.return=a.return,F=S;break e}F=a.return}}var y=t.current;for(F=y;F!==null;){u=F;var w=u.child;if(u.subtreeFlags&2064&&w!==null)w.return=u,F=w;else e:for(u=y;F!==null;){if(h=F,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:ca(9,h)}}catch(R){Se(h,h.return,R)}if(h===u){F=null;break e}var C=h.sibling;if(C!==null){C.return=h.return,F=C;break e}F=h.return}}if(se=o,Nn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(na,t)}catch{}i=!0}return i}finally{ue=n,wt.transition=e}}return!1}function xf(t,e,n){e=Jr(n,e),e=Fm(t,e,1),t=bn(t,e,1),e=Ge(),t!==null&&(yo(t,1,e),st(t,e))}function Se(t,e,n){if(t.tag===3)xf(t,t,n);else for(;e!==null;){if(e.tag===3){xf(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Ln===null||!Ln.has(i))){t=Jr(n,t),t=Zm(e,t,1),e=bn(e,t,1),t=Ge(),e!==null&&(yo(e,1,t),st(e,t));break}}e=e.return}}function rw(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Ge(),t.pingedLanes|=t.suspendedLanes&n,Re===t&&($e&n)===n&&(Ae===4||Ae===3&&($e&130023424)===$e&&500>Pe()-Bc?Yn(t,0):Dc|=n),st(t,e)}function ug(t,e){e===0&&(t.mode&1?(e=Xo,Xo<<=1,!(Xo&130023424)&&(Xo=4194304)):e=1);var n=Ge();t=sn(t,e),t!==null&&(yo(t,e,n),st(t,n))}function iw(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ug(t,n)}function ow(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(D(314))}i!==null&&i.delete(e),ug(t,n)}var cg;cg=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)rt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return rt=!1,V0(t,e,n);rt=!!(t.flags&131072)}else rt=!1,_e&&e.flags&1048576&&pm(e,Us,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Ps(t,e),t=e.pendingProps;var o=Vr(e,He.current);Zr(e,n),o=Ic(null,e,i,t,o,n);var a=Ac();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(i)?(a=!0,Bs(e)):a=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,bc(e),o.updater=ua,e.stateNode=o,o._reactInternals=e,xu(e,i,t,n),e=Pu(null,e,i,!0,a,n)):(e.tag=0,_e&&a&&wc(e),Ke(null,e,o,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Ps(t,e),t=e.pendingProps,o=i._init,i=o(i._payload),e.type=i,o=e.tag=aw(i),t=bt(i,t),o){case 0:e=ku(null,e,i,t,n);break e;case 1:e=hf(null,e,i,t,n);break e;case 11:e=uf(null,e,i,t,n);break e;case 14:e=cf(null,e,i,bt(i.type,t),n);break e}throw Error(D(306,i,""))}return e;case 0:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:bt(i,o),ku(t,e,i,o,n);case 1:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:bt(i,o),hf(t,e,i,o,n);case 3:e:{if(qm(e),t===null)throw Error(D(387));i=e.pendingProps,a=e.memoizedState,o=a.element,wm(t,e),Ws(e,i,null,n);var u=e.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){o=Jr(Error(D(423)),e),e=df(t,e,i,n,o);break e}else if(i!==o){o=Jr(Error(D(424)),e),e=df(t,e,i,n,o);break e}else for(lt=Tn(e.stateNode.containerInfo.firstChild),ut=e,_e=!0,Ot=null,n=vm(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(qr(),i===o){e=an(t,e,n);break e}Ke(t,e,i,n)}e=e.child}return e;case 5:return xm(e),t===null&&vu(e),i=e.type,o=e.pendingProps,a=t!==null?t.memoizedProps:null,u=o.children,fu(i,o)?u=null:a!==null&&fu(i,a)&&(e.flags|=32),Vm(t,e),Ke(t,e,u,n),e.child;case 6:return t===null&&vu(e),null;case 13:return Km(t,e,n);case 4:return Lc(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Kr(e,null,i,n):Ke(t,e,i,n),e.child;case 11:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:bt(i,o),uf(t,e,i,o,n);case 7:return Ke(t,e,e.pendingProps,n),e.child;case 8:return Ke(t,e,e.pendingProps.children,n),e.child;case 12:return Ke(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,o=e.pendingProps,a=e.memoizedProps,u=o.value,fe(Fs,i._currentValue),i._currentValue=u,a!==null)if(At(a.value,u)){if(a.children===o.children&&!it.current){e=an(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var h=a.dependencies;if(h!==null){u=a.child;for(var d=h.firstContext;d!==null;){if(d.context===i){if(a.tag===1){d=nn(-1,n&-n),d.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?d.next=d:(d.next=m.next,m.next=d),p.pending=d}}a.lanes|=n,d=a.alternate,d!==null&&(d.lanes|=n),yu(a.return,n,e),h.lanes|=n;break}d=d.next}}else if(a.tag===10)u=a.type===e.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(D(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),yu(u,n,e),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===e){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ke(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,i=e.pendingProps.children,Zr(e,n),o=xt(o),i=i(o),e.flags|=1,Ke(t,e,i,n),e.child;case 14:return i=e.type,o=bt(i,e.pendingProps),o=bt(i.type,o),cf(t,e,i,o,n);case 15:return Wm(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,o=e.pendingProps,o=e.elementType===i?o:bt(i,o),Ps(t,e),e.tag=1,ot(i)?(t=!0,Bs(e)):t=!1,Zr(e,n),Um(e,i,o),xu(e,i,o,n),Pu(null,e,i,!0,t,n);case 19:return Gm(t,e,n);case 22:return Hm(t,e,n)}throw Error(D(156,e.tag))};function hg(t,e){return Dp(t,e)}function sw(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(t,e,n,i){return new sw(t,e,n,i)}function Zc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aw(t){if(typeof t=="function")return Zc(t)?1:0;if(t!=null){if(t=t.$$typeof,t===lc)return 11;if(t===uc)return 14}return 2}function On(t,e){var n=t.alternate;return n===null?(n=yt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function bs(t,e,n,i,o,a){var u=2;if(i=t,typeof t=="function")Zc(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case Lr:return Xn(n.children,o,a,e);case ac:u=8,o|=8;break;case Hl:return t=yt(12,n,e,o|2),t.elementType=Hl,t.lanes=a,t;case Vl:return t=yt(13,n,e,o),t.elementType=Vl,t.lanes=a,t;case ql:return t=yt(19,n,e,o),t.elementType=ql,t.lanes=a,t;case xp:return da(n,o,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yp:u=10;break e;case wp:u=9;break e;case lc:u=11;break e;case uc:u=14;break e;case mn:u=16,i=null;break e}throw Error(D(130,t==null?t:typeof t,""))}return e=yt(u,n,e,o),e.elementType=t,e.type=i,e.lanes=a,e}function Xn(t,e,n,i){return t=yt(7,t,i,e),t.lanes=n,t}function da(t,e,n,i){return t=yt(22,t,i,e),t.elementType=xp,t.lanes=n,t.stateNode={isHidden:!1},t}function Al(t,e,n){return t=yt(6,t,null,e),t.lanes=n,t}function Ml(t,e,n){return e=yt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lw(t,e,n,i,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Wc(t,e,n,i,o,a,u,h,d){return t=new lw(t,e,n,h,d),e===1?(e=1,a===!0&&(e|=8)):e=0,a=yt(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},bc(a),t}function uw(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:br,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function dg(t){if(!t)return In;t=t._reactInternals;e:{if(ar(t)!==t||t.tag!==1)throw Error(D(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(D(171))}if(t.tag===1){var n=t.type;if(ot(n))return dm(t,n,e)}return e}function fg(t,e,n,i,o,a,u,h,d){return t=Wc(n,i,!0,t,o,a,u,h,d),t.context=dg(null),n=t.current,i=Ge(),o=Cn(n),a=nn(i,o),a.callback=e??null,bn(n,a,o),t.current.lanes=o,yo(t,o,i),st(t,i),t}function fa(t,e,n,i){var o=e.current,a=Ge(),u=Cn(o);return n=dg(n),e.context===null?e.context=n:e.pendingContext=n,e=nn(a,u),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=bn(o,e,u),t!==null&&(It(t,o,u,a),xs(t,o,u)),u}function Ys(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Sf(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Hc(t,e){Sf(t,e),(t=t.alternate)&&Sf(t,e)}function cw(){return null}var pg=typeof reportError=="function"?reportError:function(t){console.error(t)};function Vc(t){this._internalRoot=t}pa.prototype.render=Vc.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(D(409));fa(t,e,null,null)};pa.prototype.unmount=Vc.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;or(function(){fa(null,t,null,null)}),e[on]=null}};function pa(t){this._internalRoot=t}pa.prototype.unstable_scheduleHydration=function(t){if(t){var e=Hp();t={blockedOn:null,target:t,priority:e};for(var n=0;n<_n.length&&e!==0&&e<_n[n].priority;n++);_n.splice(n,0,t),n===0&&qp(t)}};function qc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ma(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kf(){}function hw(t,e,n,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var p=Ys(u);a.call(p)}}var u=fg(e,i,t,0,null,!1,!1,"",kf);return t._reactRootContainer=u,t[on]=u.current,oo(t.nodeType===8?t.parentNode:t),or(),u}for(;o=t.lastChild;)t.removeChild(o);if(typeof i=="function"){var h=i;i=function(){var p=Ys(d);h.call(p)}}var d=Wc(t,0,!1,null,null,!1,!1,"",kf);return t._reactRootContainer=d,t[on]=d.current,oo(t.nodeType===8?t.parentNode:t),or(function(){fa(e,d,n,i)}),d}function ga(t,e,n,i,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var h=o;o=function(){var d=Ys(u);h.call(d)}}fa(e,u,t,o)}else u=hw(n,e,t,o,i);return Ys(u)}Zp=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Ni(e.pendingLanes);n!==0&&(dc(e,n|1),st(e,Pe()),!(se&6)&&(Qr=Pe()+500,Nn()))}break;case 13:or(function(){var i=sn(t,1);if(i!==null){var o=Ge();It(i,t,1,o)}}),Hc(t,1)}};fc=function(t){if(t.tag===13){var e=sn(t,134217728);if(e!==null){var n=Ge();It(e,t,134217728,n)}Hc(t,134217728)}};Wp=function(t){if(t.tag===13){var e=Cn(t),n=sn(t,e);if(n!==null){var i=Ge();It(n,t,e,i)}Hc(t,e)}};Hp=function(){return ue};Vp=function(t,e){var n=ue;try{return ue=t,e()}finally{ue=n}};ru=function(t,e,n){switch(e){case"input":if(Jl(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var o=sa(i);if(!o)throw Error(D(90));kp(i),Jl(i,o)}}}break;case"textarea":Ep(t,n);break;case"select":e=n.value,e!=null&&Br(t,!!n.multiple,e,!1)}};Ip=$c;Ap=or;var dw={usingClientEntryPoint:!1,Events:[xo,Ir,sa,Op,jp,$c]},Oi={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fw={bundleType:Oi.bundleType,version:Oi.version,rendererPackageName:Oi.rendererPackageName,rendererConfig:Oi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ln.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Rp(t),t===null?null:t.stateNode},findFiberByHostInstance:Oi.findFiberByHostInstance||cw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cs.isDisabled&&cs.supportsFiber)try{na=cs.inject(fw),Ft=cs}catch{}}dt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dw;dt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!qc(e))throw Error(D(200));return uw(t,e,null,n)};dt.createRoot=function(t,e){if(!qc(t))throw Error(D(299));var n=!1,i="",o=pg;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Wc(t,1,!1,null,null,n,!1,i,o),t[on]=e.current,oo(t.nodeType===8?t.parentNode:t),new Vc(e)};dt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(D(188)):(t=Object.keys(t).join(","),Error(D(268,t)));return t=Rp(e),t=t===null?null:t.stateNode,t};dt.flushSync=function(t){return or(t)};dt.hydrate=function(t,e,n){if(!ma(e))throw Error(D(200));return ga(null,t,e,!0,n)};dt.hydrateRoot=function(t,e,n){if(!qc(t))throw Error(D(405));var i=n!=null&&n.hydratedSources||null,o=!1,a="",u=pg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=fg(e,null,t,1,n??null,o,!1,a,u),t[on]=e.current,oo(t),i)for(t=0;t<i.length;t++)n=i[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new pa(e)};dt.render=function(t,e,n){if(!ma(e))throw Error(D(200));return ga(null,t,e,!1,n)};dt.unmountComponentAtNode=function(t){if(!ma(t))throw Error(D(40));return t._reactRootContainer?(or(function(){ga(null,null,t,!1,function(){t._reactRootContainer=null,t[on]=null})}),!0):!1};dt.unstable_batchedUpdates=$c;dt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!ma(n))throw Error(D(200));if(t==null||t._reactInternals===void 0)throw Error(D(38));return ga(t,e,n,!1,i)};dt.version="18.3.1-next-f1338f8080-20240426";function mg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(mg)}catch(t){console.error(t)}}mg(),mp.exports=dt;var pw=mp.exports,gg,Pf=pw;gg=Pf.createRoot,Pf.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mo(){return mo=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},mo.apply(this,arguments)}var Sn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Sn||(Sn={}));const Ef="popstate";function mw(t){t===void 0&&(t={});function e(i,o){let{pathname:a,search:u,hash:h}=i.location;return Ru("",{pathname:a,search:u,hash:h},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:vg(o)}return _w(e,n,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function _g(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gw(){return Math.random().toString(36).substr(2,8)}function Tf(t,e){return{usr:t.state,key:t.key,idx:e}}function Ru(t,e,n,i){return n===void 0&&(n=null),mo({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ri(e):e,{state:n,key:e&&e.key||i||gw()})}function vg(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function ri(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function _w(t,e,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,h=Sn.Pop,d=null,p=m();p==null&&(p=0,u.replaceState(mo({},u.state,{idx:p}),""));function m(){return(u.state||{idx:null}).idx}function g(){h=Sn.Pop;let O=m(),S=O==null?null:O-p;p=O,d&&d({action:h,location:T.location,delta:S})}function v(O,S){h=Sn.Push;let y=Ru(T.location,O,S);p=m()+1;let w=Tf(y,p),C=T.createHref(y);try{u.pushState(w,"",C)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;o.location.assign(C)}a&&d&&d({action:h,location:T.location,delta:1})}function x(O,S){h=Sn.Replace;let y=Ru(T.location,O,S);p=m();let w=Tf(y,p),C=T.createHref(y);u.replaceState(w,"",C),a&&d&&d({action:h,location:T.location,delta:0})}function E(O){let S=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof O=="string"?O:vg(O);return y=y.replace(/ $/,"%20"),Le(S,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,S)}let T={get action(){return h},get location(){return t(o,u)},listen(O){if(d)throw new Error("A history only accepts one active listener");return o.addEventListener(Ef,g),d=O,()=>{o.removeEventListener(Ef,g),d=null}},createHref(O){return e(o,O)},createURL:E,encodeLocation(O){let S=E(O);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:x,go(O){return u.go(O)}};return T}var bf;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(bf||(bf={}));function vw(t,e,n){return n===void 0&&(n="/"),yw(t,e,n)}function yw(t,e,n,i){let o=typeof e=="string"?ri(e):e,a=xg(o.pathname||"/",n);if(a==null)return null;let u=yg(t);ww(u);let h=null;for(let d=0;h==null&&d<u.length;++d){let p=Iw(a);h=Cw(u[d],p)}return h}function yg(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(a,u,h)=>{let d={relativePath:h===void 0?a.path||"":h,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};d.relativePath.startsWith("/")&&(Le(d.relativePath.startsWith(i),'Absolute route path "'+d.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),d.relativePath=d.relativePath.slice(i.length));let p=er([i,d.relativePath]),m=n.concat(d);a.children&&a.children.length>0&&(Le(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),yg(a.children,e,m,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:bw(p,a.index),routesMeta:m})};return t.forEach((a,u)=>{var h;if(a.path===""||!((h=a.path)!=null&&h.includes("?")))o(a,u);else for(let d of wg(a.path))o(a,u,d)}),e}function wg(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=wg(i.join("/")),h=[];return h.push(...u.map(d=>d===""?a:[a,d].join("/"))),o&&h.push(...u),h.map(d=>t.startsWith("/")&&d===""?"/":d)}function ww(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Lw(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const xw=/^:[\w-]+$/,Sw=3,kw=2,Pw=1,Ew=10,Tw=-2,Lf=t=>t==="*";function bw(t,e){let n=t.split("/"),i=n.length;return n.some(Lf)&&(i+=Tw),e&&(i+=kw),n.filter(o=>!Lf(o)).reduce((o,a)=>o+(xw.test(a)?Sw:a===""?Pw:Ew),i)}function Lw(t,e){return t.length===e.length&&t.slice(0,-1).every((i,o)=>i===e[o])?t[t.length-1]-e[e.length-1]:0}function Cw(t,e,n){let{routesMeta:i}=t,o={},a="/",u=[];for(let h=0;h<i.length;++h){let d=i[h],p=h===i.length-1,m=a==="/"?e:e.slice(a.length)||"/",g=Ow({path:d.relativePath,caseSensitive:d.caseSensitive,end:p},m),v=d.route;if(!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:er([a,g.pathname]),pathnameBase:Rw(er([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=er([a,g.pathnameBase]))}return u}function Ow(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=jw(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),h=o.slice(1);return{params:i.reduce((p,m,g)=>{let{paramName:v,isOptional:x}=m;if(v==="*"){let T=h[g]||"";u=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const E=h[g];return x&&!E?p[v]=void 0:p[v]=(E||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:t}}function jw(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),_g(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,d)=>(i.push({paramName:h,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function Iw(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return _g(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function xg(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function Aw(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:o=""}=typeof t=="string"?ri(t):t;return{pathname:n?n.startsWith("/")?n:Mw(n,e):e,search:zw(i),hash:Dw(o)}}function Mw(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nl(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Nw(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Sg(t,e){let n=Nw(t);return e?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function kg(t,e,n,i){i===void 0&&(i=!1);let o;typeof t=="string"?o=ri(t):(o=mo({},t),Le(!o.pathname||!o.pathname.includes("?"),Nl("?","pathname","search",o)),Le(!o.pathname||!o.pathname.includes("#"),Nl("#","pathname","hash",o)),Le(!o.search||!o.search.includes("#"),Nl("#","search","hash",o)));let a=t===""||o.pathname==="",u=a?"/":o.pathname,h;if(u==null)h=n;else{let g=e.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),g-=1;o.pathname=v.join("/")}h=g>=0?e[g]:"/"}let d=Aw(o,h),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&n.endsWith("/");return!d.pathname.endsWith("/")&&(p||m)&&(d.pathname+="/"),d}const er=t=>t.join("/").replace(/\/\/+/g,"/"),Rw=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),zw=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Dw=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Bw(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Pg=["post","put","patch","delete"];new Set(Pg);const $w=["get",...Pg];new Set($w);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function go(){return go=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},go.apply(this,arguments)}const Kc=I.createContext(null),Uw=I.createContext(null),ko=I.createContext(null),_a=I.createContext(null),lr=I.createContext({outlet:null,matches:[],isDataRoute:!1}),Eg=I.createContext(null);function Po(){return I.useContext(_a)!=null}function Gc(){return Po()||Le(!1),I.useContext(_a).location}function Tg(t){I.useContext(ko).static||I.useLayoutEffect(t)}function Fw(){let{isDataRoute:t}=I.useContext(lr);return t?tx():Zw()}function Zw(){Po()||Le(!1);let t=I.useContext(Kc),{basename:e,future:n,navigator:i}=I.useContext(ko),{matches:o}=I.useContext(lr),{pathname:a}=Gc(),u=JSON.stringify(Sg(o,n.v7_relativeSplatPath)),h=I.useRef(!1);return Tg(()=>{h.current=!0}),I.useCallback(function(p,m){if(m===void 0&&(m={}),!h.current)return;if(typeof p=="number"){i.go(p);return}let g=kg(p,JSON.parse(u),a,m.relative==="path");t==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:er([e,g.pathname])),(m.replace?i.replace:i.push)(g,m.state,m)},[e,i,u,a,t])}function Ww(t,e){return Hw(t,e)}function Hw(t,e,n,i){Po()||Le(!1);let{navigator:o}=I.useContext(ko),{matches:a}=I.useContext(lr),u=a[a.length-1],h=u?u.params:{};u&&u.pathname;let d=u?u.pathnameBase:"/";u&&u.route;let p=Gc(),m;if(e){var g;let O=typeof e=="string"?ri(e):e;d==="/"||(g=O.pathname)!=null&&g.startsWith(d)||Le(!1),m=O}else m=p;let v=m.pathname||"/",x=v;if(d!=="/"){let O=d.replace(/^\//,"").split("/");x="/"+v.replace(/^\//,"").split("/").slice(O.length).join("/")}let E=vw(t,{pathname:x}),T=Jw(E&&E.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:er([d,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?d:er([d,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),a,n,i);return e&&T?I.createElement(_a.Provider,{value:{location:go({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:Sn.Pop}},T):T}function Vw(){let t=ex(),e=Bw(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),n?I.createElement("pre",{style:o},n):null,null)}const qw=I.createElement(Vw,null);class Kw extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?I.createElement(lr.Provider,{value:this.props.routeContext},I.createElement(Eg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Gw(t){let{routeContext:e,match:n,children:i}=t,o=I.useContext(Kc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),I.createElement(lr.Provider,{value:e},i)}function Jw(t,e,n,i){var o;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=(o=n)==null?void 0:o.errors;if(h!=null){let m=u.findIndex(g=>g.route.id&&(h==null?void 0:h[g.route.id])!==void 0);m>=0||Le(!1),u=u.slice(0,Math.min(u.length,m+1))}let d=!1,p=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<u.length;m++){let g=u[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:x}=n,E=g.route.loader&&v[g.route.id]===void 0&&(!x||x[g.route.id]===void 0);if(g.route.lazy||E){d=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((m,g,v)=>{let x,E=!1,T=null,O=null;n&&(x=h&&g.route.id?h[g.route.id]:void 0,T=g.route.errorElement||qw,d&&(p<0&&v===0?(nx("route-fallback"),E=!0,O=null):p===v&&(E=!0,O=g.route.hydrateFallbackElement||null)));let S=e.concat(u.slice(0,v+1)),y=()=>{let w;return x?w=T:E?w=O:g.route.Component?w=I.createElement(g.route.Component,null):g.route.element?w=g.route.element:w=m,I.createElement(Gw,{match:g,routeContext:{outlet:m,matches:S,isDataRoute:n!=null},children:w})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?I.createElement(Kw,{location:n.location,revalidation:n.revalidation,component:T,error:x,children:y(),routeContext:{outlet:null,matches:S,isDataRoute:!0}}):y()},null)}var bg=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(bg||{}),Lg=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lg||{});function Qw(t){let e=I.useContext(Kc);return e||Le(!1),e}function Yw(t){let e=I.useContext(Uw);return e||Le(!1),e}function Xw(t){let e=I.useContext(lr);return e||Le(!1),e}function Cg(t){let e=Xw(),n=e.matches[e.matches.length-1];return n.route.id||Le(!1),n.route.id}function ex(){var t;let e=I.useContext(Eg),n=Yw(),i=Cg();return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function tx(){let{router:t}=Qw(bg.UseNavigateStable),e=Cg(Lg.UseNavigateStable),n=I.useRef(!1);return Tg(()=>{n.current=!0}),I.useCallback(function(o,a){a===void 0&&(a={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,go({fromRouteId:e},a)))},[t,e])}const Cf={};function nx(t,e,n){Cf[t]||(Cf[t]=!0)}function rx(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Og(t){let{to:e,replace:n,state:i,relative:o}=t;Po()||Le(!1);let{future:a,static:u}=I.useContext(ko),{matches:h}=I.useContext(lr),{pathname:d}=Gc(),p=Fw(),m=kg(e,Sg(h,a.v7_relativeSplatPath),d,o==="path"),g=JSON.stringify(m);return I.useEffect(()=>p(JSON.parse(g),{replace:n,state:i,relative:o}),[p,g,o,n,i]),null}function Ls(t){Le(!1)}function ix(t){let{basename:e="/",children:n=null,location:i,navigationType:o=Sn.Pop,navigator:a,static:u=!1,future:h}=t;Po()&&Le(!1);let d=e.replace(/^\/*/,"/"),p=I.useMemo(()=>({basename:d,navigator:a,static:u,future:go({v7_relativeSplatPath:!1},h)}),[d,h,a,u]);typeof i=="string"&&(i=ri(i));let{pathname:m="/",search:g="",hash:v="",state:x=null,key:E="default"}=i,T=I.useMemo(()=>{let O=xg(m,d);return O==null?null:{location:{pathname:O,search:g,hash:v,state:x,key:E},navigationType:o}},[d,m,g,v,x,E,o]);return T==null?null:I.createElement(ko.Provider,{value:p},I.createElement(_a.Provider,{children:n,value:T}))}function ox(t){let{children:e,location:n}=t;return Ww(zu(e),n)}new Promise(()=>{});function zu(t,e){e===void 0&&(e=[]);let n=[];return I.Children.forEach(t,(i,o)=>{if(!I.isValidElement(i))return;let a=[...e,o];if(i.type===I.Fragment){n.push.apply(n,zu(i.props.children,a));return}i.type!==Ls&&Le(!1),!i.props.index||!i.props.children||Le(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=zu(i.props.children,a)),n.push(u)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const sx="6";try{window.__reactRouterVersion=sx}catch{}const ax="startTransition",Of=ry[ax];function lx(t){let{basename:e,children:n,future:i,window:o}=t,a=I.useRef();a.current==null&&(a.current=mw({window:o,v5Compat:!0}));let u=a.current,[h,d]=I.useState({action:u.action,location:u.location}),{v7_startTransition:p}=i||{},m=I.useCallback(g=>{p&&Of?Of(()=>d(g)):d(g)},[d,p]);return I.useLayoutEffect(()=>u.listen(m),[u,m]),I.useEffect(()=>rx(i),[i]),I.createElement(ix,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:u,future:i})}var jf;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(jf||(jf={}));var If;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(If||(If={}));const ux="modulepreload",cx=function(t){return"/"+t},Af={},Eo=function(e,n,i){let o=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));o=Promise.allSettled(n.map(d=>{if(d=cx(d),d in Af)return;Af[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const g=document.createElement("link");if(g.rel=p?"stylesheet":ux,p||(g.as="script"),g.crossOrigin="",g.href=d,h&&g.setAttribute("nonce",h),document.head.appendChild(g),p)return new Promise((v,x)=>{g.addEventListener("load",v),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(u){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=u,window.dispatchEvent(h),!h.defaultPrevented)throw u}return o.then(u=>{for(const h of u||[])h.status==="rejected"&&a(h.reason);return e().catch(a)})},hx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Eo(async()=>{const{default:i}=await Promise.resolve().then(()=>ii);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)};class Jc extends Error{constructor(e,n="FunctionsError",i){super(e),this.name=n,this.context=i}}class dx extends Jc{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Mf extends Jc{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Nf extends Jc{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Du;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Du||(Du={}));var fx=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(i.next(m))}catch(g){u(g)}}function d(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((i=i.apply(t,e||[])).next())})};class px{constructor(e,{headers:n={},customFetch:i,region:o=Du.Any}={}){this.url=e,this.headers=n,this.region=o,this.fetch=hx(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var i;return fx(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:u}=n;let h={},{region:d}=n;d||(d=this.region);const p=new URL(`${this.url}/${e}`);d&&d!=="any"&&(h["x-region"]=d,p.searchParams.set("forceFunctionRegion",d));let m;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(h["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(h["Content-Type"]="application/json",m=JSON.stringify(u)));const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:m}).catch(T=>{throw new dx(T)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Mf(g);if(!g.ok)throw new Nf(g);let x=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),E;return x==="application/json"?E=yield g.json():x==="application/octet-stream"?E=yield g.blob():x==="text/event-stream"?E=g:x==="multipart/form-data"?E=yield g.formData():E=yield g.text(),{data:E,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Nf||o instanceof Mf?o.context:void 0}}})}}var nt={},Qc={},va={},To={},ya={},wa={},mx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yr=mx();const gx=Yr.fetch,jg=Yr.fetch.bind(Yr),Ig=Yr.Headers,_x=Yr.Request,vx=Yr.Response,ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:Ig,Request:_x,Response:vx,default:jg,fetch:gx},Symbol.toStringTag,{value:"Module"})),yx=Uv(ii);var xa={};Object.defineProperty(xa,"__esModule",{value:!0});let wx=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};xa.default=wx;var Ag=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wa,"__esModule",{value:!0});const xx=Ag(yx),Sx=Ag(xa);let kx=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=xx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const i=this.fetch;let o=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var u,h,d;let p=null,m=null,g=null,v=a.status,x=a.statusText;if(a.ok){if(this.method!=="HEAD"){const S=await a.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?m=S:m=JSON.parse(S))}const T=(u=this.headers.Prefer)===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),O=(h=a.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");T&&O&&O.length>1&&(g=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(p={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,v=406,x="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const T=await a.text();try{p=JSON.parse(T),Array.isArray(p)&&a.status===404&&(m=[],p=null,v=200,x="OK")}catch{a.status===404&&T===""?(v=204,x="No Content"):p={message:T}}if(p&&this.isMaybeSingle&&(!((d=p==null?void 0:p.details)===null||d===void 0)&&d.includes("0 rows"))&&(p=null,v=200,x="OK"),p&&this.shouldThrowOnError)throw new Sx.default(p)}return{error:p,data:m,count:g,status:v,statusText:x}});return this.shouldThrowOnError||(o=o.catch(a=>{var u,h,d;return{error:{message:`${(u=a==null?void 0:a.name)!==null&&u!==void 0?u:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(h=a==null?void 0:a.stack)!==null&&h!==void 0?h:""}`,hint:"",code:`${(d=a==null?void 0:a.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),o.then(e,n)}returns(){return this}overrideTypes(){return this}};wa.default=kx;var Px=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ya,"__esModule",{value:!0});const Ex=Px(wa);let Tx=class extends Ex.default{select(e){let n=!1;const i=(e??"*").split("").map(o=>/\s/.test(o)&&!n?"":(o==='"'&&(n=!n),o)).join("");return this.url.searchParams.set("select",i),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:i,foreignTable:o,referencedTable:a=o}={}){const u=a?`${a}.order`:"order",h=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${h?`${h},`:""}${e}.${n?"asc":"desc"}${i===void 0?"":i?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this}range(e,n,{foreignTable:i,referencedTable:o=i}={}){const a=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(a,`${e}`),this.url.searchParams.set(u,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:i=!1,buffers:o=!1,wal:a=!1,format:u="text"}={}){var h;const d=[e?"analyze":null,n?"verbose":null,i?"settings":null,o?"buffers":null,a?"wal":null].filter(Boolean).join("|"),p=(h=this.headers.Accept)!==null&&h!==void 0?h:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${u}; for="${p}"; options=${d};`,u==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};ya.default=Tx;var bx=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(To,"__esModule",{value:!0});const Lx=bx(ya);let Cx=class extends Lx.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const i=Array.from(new Set(n)).map(o=>typeof o=="string"&&new RegExp("[,()]").test(o)?`"${o}"`:`${o}`).join(",");return this.url.searchParams.append(e,`in.(${i})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:i,type:o}={}){let a="";o==="plain"?a="pl":o==="phrase"?a="ph":o==="websearch"&&(a="w");const u=i===void 0?"":`(${i})`;return this.url.searchParams.append(e,`${a}fts${u}.${n}`),this}match(e){return Object.entries(e).forEach(([n,i])=>{this.url.searchParams.append(n,`eq.${i}`)}),this}not(e,n,i){return this.url.searchParams.append(e,`not.${n}.${i}`),this}or(e,{foreignTable:n,referencedTable:i=n}={}){const o=i?`${i}.or`:"or";return this.url.searchParams.append(o,`(${e})`),this}filter(e,n,i){return this.url.searchParams.append(e,`${n}.${i}`),this}};To.default=Cx;var Ox=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(va,"__esModule",{value:!0});const ji=Ox(To);let jx=class{constructor(e,{headers:n={},schema:i,fetch:o}){this.url=e,this.headers=n,this.schema=i,this.fetch=o}select(e,{head:n=!1,count:i}={}){const o=n?"HEAD":"GET";let a=!1;const u=(e??"*").split("").map(h=>/\s/.test(h)&&!a?"":(h==='"'&&(a=!a),h)).join("");return this.url.searchParams.set("select",u),i&&(this.headers.Prefer=`count=${i}`),new ji.default({method:o,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:i=!0}={}){const o="POST",a=[];if(this.headers.Prefer&&a.push(this.headers.Prefer),n&&a.push(`count=${n}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const u=e.reduce((h,d)=>h.concat(Object.keys(d)),[]);if(u.length>0){const h=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",h.join(","))}}return new ji.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:i=!1,count:o,defaultToNull:a=!0}={}){const u="POST",h=[`resolution=${i?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&h.push(this.headers.Prefer),o&&h.push(`count=${o}`),a||h.push("missing=default"),this.headers.Prefer=h.join(","),Array.isArray(e)){const d=e.reduce((p,m)=>p.concat(Object.keys(m)),[]);if(d.length>0){const p=[...new Set(d)].map(m=>`"${m}"`);this.url.searchParams.set("columns",p.join(","))}}return new ji.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const i="PATCH",o=[];return this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push(`count=${n}`),this.headers.Prefer=o.join(","),new ji.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",i=[];return e&&i.push(`count=${e}`),this.headers.Prefer&&i.unshift(this.headers.Prefer),this.headers.Prefer=i.join(","),new ji.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};va.default=jx;var Sa={},ka={};Object.defineProperty(ka,"__esModule",{value:!0});ka.version=void 0;ka.version="0.0.0-automated";Object.defineProperty(Sa,"__esModule",{value:!0});Sa.DEFAULT_HEADERS=void 0;const Ix=ka;Sa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ix.version}`};var Mg=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Qc,"__esModule",{value:!0});const Ax=Mg(va),Mx=Mg(To),Nx=Sa;let Rx=class Ng{constructor(e,{headers:n={},schema:i,fetch:o}={}){this.url=e,this.headers=Object.assign(Object.assign({},Nx.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=o}from(e){const n=new URL(`${this.url}/${e}`);return new Ax.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Ng(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:i=!1,get:o=!1,count:a}={}){let u;const h=new URL(`${this.url}/rpc/${e}`);let d;i||o?(u=i?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{h.searchParams.append(m,g)})):(u="POST",d=n);const p=Object.assign({},this.headers);return a&&(p.Prefer=`count=${a}`),new Mx.default({method:u,url:h,headers:p,schema:this.schemaName,body:d,fetch:this.fetch,allowEmpty:!1})}};Qc.default=Rx;var oi=ct&&ct.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(nt,"__esModule",{value:!0});nt.PostgrestError=nt.PostgrestBuilder=nt.PostgrestTransformBuilder=nt.PostgrestFilterBuilder=nt.PostgrestQueryBuilder=nt.PostgrestClient=void 0;const Rg=oi(Qc);nt.PostgrestClient=Rg.default;const zg=oi(va);nt.PostgrestQueryBuilder=zg.default;const Dg=oi(To);nt.PostgrestFilterBuilder=Dg.default;const Bg=oi(ya);nt.PostgrestTransformBuilder=Bg.default;const $g=oi(wa);nt.PostgrestBuilder=$g.default;const Ug=oi(xa);nt.PostgrestError=Ug.default;var zx=nt.default={PostgrestClient:Rg.default,PostgrestQueryBuilder:zg.default,PostgrestFilterBuilder:Dg.default,PostgrestTransformBuilder:Bg.default,PostgrestBuilder:$g.default,PostgrestError:Ug.default};const{PostgrestClient:Dx,PostgrestQueryBuilder:$1,PostgrestFilterBuilder:U1,PostgrestTransformBuilder:F1,PostgrestBuilder:Z1,PostgrestError:W1}=zx;class Bx{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const i=this.getWebSocketConstructor();return new i(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const $x="2.15.1",Ux=`realtime-js/${$x}`,Fx="1.0.0",Bu=1e4,Zx=1e3,Wx=100;var qi;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(qi||(qi={}));var Oe;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Oe||(Oe={}));var Ct;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ct||(Ct={}));var $u;(function(t){t.websocket="websocket"})($u||($u={}));var Kn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(Kn||(Kn={}));class Hx{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),i=new TextDecoder;return this._decodeBroadcast(e,n,i)}_decodeBroadcast(e,n,i){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const h=i.decode(e.slice(u,u+o));u=u+o;const d=i.decode(e.slice(u,u+a));u=u+a;const p=JSON.parse(i.decode(e.slice(u,e.byteLength)));return{ref:null,topic:h,event:d,payload:p}}}class Fg{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(de||(de={}));const Rf=(t,e,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(e).reduce((a,u)=>(a[u]=Vx(u,t,e,o),a),{})},Vx=(t,e,n,i)=>{const o=e.find(h=>h.name===t),a=o==null?void 0:o.type,u=n[t];return a&&!i.includes(a)?Zg(a,u):Uu(u)},Zg=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Jx(e,n)}switch(t){case de.bool:return qx(e);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return Kx(e);case de.json:case de.jsonb:return Gx(e);case de.timestamp:return Qx(e);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return Uu(e);default:return Uu(e)}},Uu=t=>t,qx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Kx=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Gx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Jx=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,i=t[n];if(t[0]==="{"&&i==="}"){let a;const u=t.slice(1,n);try{a=JSON.parse("["+u+"]")}catch{a=u?u.split(","):[]}return a.map(h=>Zg(e,h))}return t},Qx=t=>typeof t=="string"?t.replace(" ","T"):t,Wg=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class Rl{constructor(e,n,i={},o=Bu){this.channel=e,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var i;return this._hasReceived(e)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var zf;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(zf||(zf={}));class Ki{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ki.syncState(this.state,o,a,u),this.pendingDiffs.forEach(d=>{this.state=Ki.syncDiff(this.state,d,a,u)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ki.syncDiff(this.state,o,a,u),h())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,i,o){const a=this.cloneDeep(e),u=this.transformState(n),h={},d={};return this.map(a,(p,m)=>{u[p]||(d[p]=m)}),this.map(u,(p,m)=>{const g=a[p];if(g){const v=m.map(O=>O.presence_ref),x=g.map(O=>O.presence_ref),E=m.filter(O=>x.indexOf(O.presence_ref)<0),T=g.filter(O=>v.indexOf(O.presence_ref)<0);E.length>0&&(h[p]=E),T.length>0&&(d[p]=T)}else h[p]=m}),this.syncDiff(a,{joins:h,leaves:d},i,o)}static syncDiff(e,n,i,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(h,d)=>{var p;const m=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(d),m.length>0){const g=e[h].map(x=>x.presence_ref),v=m.filter(x=>g.indexOf(x.presence_ref)<0);e[h].unshift(...v)}i(h,m,d)}),this.map(u,(h,d)=>{let p=e[h];if(!p)return;const m=d.map(g=>g.presence_ref);p=p.filter(g=>m.indexOf(g.presence_ref)<0),e[h]=p,o(h,p,d),p.length===0&&delete e[h]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(i=>n(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,i)=>{const o=e[i];return"metas"in o?n[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=o,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Df;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Df||(Df={}));var Gi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Gi||(Gi={}));var Yt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Yt||(Yt={}));class Yc{constructor(e,n={config:{}},i){this.topic=e,this.params=n,this.socket=i,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Rl(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Fg(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ki(this),this.broadcastEndpointURL=Wg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:a,presence:u,private:h}}=this.params,d=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Gi.PRESENCE]&&this.bindings[Gi.PRESENCE].length>0,m={},g={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:d,private:h};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Yt.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Yt.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(Yt.SUBSCRIBED);return}else{const E=this.bindings.postgres_changes,T=(x=E==null?void 0:E.length)!==null&&x!==void 0?x:0,O=[];for(let S=0;S<T;S++){const y=E[S],{filter:{event:w,schema:C,table:R,filter:z}}=y,A=v&&v[S];if(A&&A.event===w&&A.schema===C&&A.table===R&&A.filter===z)O.push(Object.assign(Object.assign({},y),{id:A.id}));else{this.unsubscribe(),this.state=Oe.errored,e==null||e(Yt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,e&&e(Yt.SUBSCRIBED);return}}).receive("error",v=>{this.state=Oe.errored,e==null||e(Yt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Yt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,i){return this.state===Oe.joined&&e===Gi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,i)}async send(e,n={}){var i,o;if(!this._canPush()&&e.type==="broadcast"){const{event:a,payload:u}=e,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=p.body)===null||o===void 0?void 0:o.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,h,d;const p=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((d=(h=(u=this.params)===null||u===void 0?void 0:u.config)===null||h===void 0?void 0:h.broadcast)===null||d===void 0)&&d.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Oe.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Rl(this,Ct.leave,{},e),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(e,n,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(e,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Rl(this,e,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Wx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,i){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,i){var o,a;const u=e.toLocaleLowerCase(),{close:h,error:d,leave:p,join:m}=Ct;if(i&&[h,d,p,m].indexOf(u)>=0&&i!==this._joinRef())return;let v=this._onMessage(u,n,i);if(n&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(x=>{var E,T,O;return((E=x.filter)===null||E===void 0?void 0:E.event)==="*"||((O=(T=x.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===u}).map(x=>x.callback(v,i)):(a=this.bindings[u])===null||a===void 0||a.filter(x=>{var E,T,O,S,y,w;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in x){const C=x.id,R=(E=x.filter)===null||E===void 0?void 0:E.event;return C&&((T=n.ids)===null||T===void 0?void 0:T.includes(C))&&(R==="*"||(R==null?void 0:R.toLocaleLowerCase())===((O=n.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const C=(y=(S=x==null?void 0:x.filter)===null||S===void 0?void 0:S.event)===null||y===void 0?void 0:y.toLocaleLowerCase();return C==="*"||C===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===u}).map(x=>{if(typeof v=="object"&&"ids"in v){const E=v.data,{schema:T,table:O,commit_timestamp:S,type:y,errors:w}=E;v=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:S,eventType:y,new:{},old:{},errors:w}),this._getPayloadRecords(E))}x.callback(v,i)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,i){const o=e.toLocaleLowerCase(),a={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(e,n){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Yc.isEqual(o.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const i in e)if(e[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ct.close,{},e)}_onError(e){this._on(Ct.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=Rf(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=Rf(e.columns,e.old_record)),n}}const Bf=()=>{},hs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Yx=[1e3,2e3,5e3,1e4],Xx=1e4,eS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class tS{constructor(e,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Bu,this.transport=null,this.heartbeatIntervalMs=hs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Bf,this.ref=0,this.reconnectTimer=null,this.logger=Bf,this.conn=null,this.sendBuffer=[],this.serializer=new Hx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...u)=>Eo(async()=>{const{default:h}=await Promise.resolve().then(()=>ii);return{default:h}},void 0).then(({default:h})=>h(...u)).catch(h=>{throw new Error(`Failed to load @supabase/node-fetch: ${h.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${$u.websocket}`,this.httpEndpoint=Wg(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Fx}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,i){this.logger(e,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case qi.connecting:return Kn.Connecting;case qi.open:return Kn.Open;case qi.closing:return Kn.Closing;default:return Kn.Closed}}isConnected(){return this.connectionState()===Kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const i=`realtime:${e}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new Yc(`realtime:${e}`,n,this);return this.channels.push(a),a}}push(e){const{topic:n,event:i,payload:o,ref:a}=e,u=()=>{this.encode(e,h=>{var d;(d=this.conn)===null||d===void 0||d.send(h)})};this.log("push",`${n} ${i} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Zx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},hs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:a,ref:u}=n,h=u?`(${u})`:"",d=a.status||"";this.log("receive",`${d} ${i} ${o} ${h}`.trim(),a),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ct.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const i=e.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${e}${i}${o}`}_workerObjectUrl(e){let n;if(e)n=e;else{const i=new Blob([eS],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:Ux};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ct.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${e} callback`,o)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Fg(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},hs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,i,o,a,u,h,d,p;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(i=e==null?void 0:e.timeout)!==null&&i!==void 0?i:Bu,this.heartbeatIntervalMs=(o=e==null?void 0:e.heartbeatIntervalMs)!==null&&o!==void 0?o:hs.HEARTBEAT_INTERVAL,this.worker=(a=e==null?void 0:e.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=e==null?void 0:e.accessToken)!==null&&u!==void 0?u:null,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=e==null?void 0:e.reconnectAfterMs)!==null&&h!==void 0?h:m=>Yx[m-1]||Xx,this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:(m,g)=>g(JSON.stringify(m)),this.decode=(p=e==null?void 0:e.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class Xc extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function je(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class nS extends Xc{constructor(e,n,i){super(e),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Fu extends Xc{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var rS=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(i.next(m))}catch(g){u(g)}}function d(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((i=i.apply(t,e||[])).next())})};const Hg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Eo(async()=>{const{default:i}=await Promise.resolve().then(()=>ii);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},iS=()=>rS(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Eo(()=>Promise.resolve().then(()=>ii),void 0)).Response:Response}),Zu=t=>{if(Array.isArray(t))return t.map(n=>Zu(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));e[o]=Zu(i)}),e},oS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var ur=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(i.next(m))}catch(g){u(g)}}function d(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((i=i.apply(t,e||[])).next())})};const zl=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sS=(t,e,n)=>ur(void 0,void 0,void 0,function*(){const i=yield iS();t instanceof i&&!(n!=null&&n.noResolveJson)?t.json().then(o=>{const a=t.status||500,u=(o==null?void 0:o.statusCode)||a+"";e(new nS(zl(o),a,u))}).catch(o=>{e(new Fu(zl(o),o))}):e(new Fu(zl(t),t))}),aS=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!i?o:(oS(i)?(o.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),o.body=JSON.stringify(i)):o.body=i,e!=null&&e.duplex&&(o.duplex=e.duplex),Object.assign(Object.assign({},o),n))};function bo(t,e,n,i,o,a){return ur(this,void 0,void 0,function*(){return new Promise((u,h)=>{t(n,aS(e,i,o,a)).then(d=>{if(!d.ok)throw d;return i!=null&&i.noResolveJson?d:d.json()}).then(d=>u(d)).catch(d=>sS(d,h,i))})})}function Xs(t,e,n,i){return ur(this,void 0,void 0,function*(){return bo(t,"GET",e,n,i)})}function $t(t,e,n,i,o){return ur(this,void 0,void 0,function*(){return bo(t,"POST",e,i,o,n)})}function Wu(t,e,n,i,o){return ur(this,void 0,void 0,function*(){return bo(t,"PUT",e,i,o,n)})}function lS(t,e,n,i){return ur(this,void 0,void 0,function*(){return bo(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function Vg(t,e,n,i,o){return ur(this,void 0,void 0,function*(){return bo(t,"DELETE",e,i,o,n)})}var qe=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(i.next(m))}catch(g){u(g)}}function d(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((i=i.apply(t,e||[])).next())})};const uS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$f={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class cS{constructor(e,n={},i,o){this.url=e,this.headers=n,this.bucketId=i,this.fetch=Hg(o)}uploadOrUpdate(e,n,i,o){return qe(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},$f),o);let h=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(u.upsert)});const d=u.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",u.cacheControl),d&&a.append("metadata",this.encodeMetadata(d))):(a=i,h["cache-control"]=`max-age=${u.cacheControl}`,h["content-type"]=u.contentType,d&&(h["x-metadata"]=this.toBase64(this.encodeMetadata(d)))),o!=null&&o.headers&&(h=Object.assign(Object.assign({},h),o.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),g=yield(e=="PUT"?Wu:$t)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:h},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(je(a))return{data:null,error:a};throw a}})}upload(e,n,i){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,i)})}uploadToSignedUrl(e,n,i,o){return qe(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(e),u=this._getFinalPath(a),h=new URL(this.url+`/object/upload/sign/${u}`);h.searchParams.set("token",n);try{let d;const p=Object.assign({upsert:$f.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(d=new FormData,d.append("cacheControl",p.cacheControl),d.append("",i)):typeof FormData<"u"&&i instanceof FormData?(d=i,d.append("cacheControl",p.cacheControl)):(d=i,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const g=yield Wu(this.fetch,h.toString(),d,{headers:m});return{data:{path:a,fullPath:g.Key},error:null}}catch(d){if(je(d))return{data:null,error:d};throw d}})}createSignedUploadUrl(e,n){return qe(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield $t(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+a.url),h=u.searchParams.get("token");if(!h)throw new Xc("No token returned by API");return{data:{signedUrl:u.toString(),path:e,token:h},error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}update(e,n,i){return qe(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,i)})}move(e,n,i){return qe(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}copy(e,n,i){return qe(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}createSignedUrl(e,n,i){return qe(this,void 0,void 0,function*(){try{let o=this._getFinalPath(e),a=yield $t(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}createSignedUrls(e,n,i){return qe(this,void 0,void 0,function*(){try{const o=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}download(e,n){return qe(this,void 0,void 0,function*(){const o=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),u=a?`?${a}`:"";try{const h=this._getFinalPath(e);return{data:yield(yield Xs(this.fetch,`${this.url}/${o}/${h}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(h){if(je(h))return{data:null,error:h};throw h}})}info(e){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const i=yield Xs(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Zu(i),error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}exists(e){return qe(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield lS(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(je(i)&&i instanceof Fu){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(e,n){const i=this._getFinalPath(e),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const h=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let p=o.join("&");return p!==""&&(p=`?${p}`),{data:{publicUrl:encodeURI(`${this.url}/${h}/public/${i}${p}`)}}}remove(e){return qe(this,void 0,void 0,function*(){try{return{data:yield Vg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}list(e,n,i){return qe(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},uS),n),{prefix:e||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(je(o))return{data:null,error:o};throw o}})}listV2(e,n){return qe(this,void 0,void 0,function*(){try{const i=Object.assign({},e);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const hS="2.11.0",dS={"X-Client-Info":`storage-js/${hS}`};var wr=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(i.next(m))}catch(g){u(g)}}function d(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((i=i.apply(t,e||[])).next())})};class fS{constructor(e,n={},i,o){const a=new URL(e);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},dS),n),this.fetch=Hg(i)}listBuckets(){return wr(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(je(e))return{data:null,error:e};throw e}})}getBucket(e){return wr(this,void 0,void 0,function*(){try{return{data:yield Xs(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return wr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return wr(this,void 0,void 0,function*(){try{return{data:yield Wu(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(je(i))return{data:null,error:i};throw i}})}emptyBucket(e){return wr(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}deleteBucket(e){return wr(this,void 0,void 0,function*(){try{return{data:yield Vg(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(je(n))return{data:null,error:n};throw n}})}}class pS extends fS{constructor(e,n={},i,o){super(e,n,i,o)}from(e){return new cS(this.url,this.headers,e,this.fetch)}}const mS="2.55.0";let zi="";typeof Deno<"u"?zi="deno":typeof document<"u"?zi="web":typeof navigator<"u"&&navigator.product==="ReactNative"?zi="react-native":zi="node";const gS={"X-Client-Info":`supabase-js-${zi}/${mS}`},_S={headers:gS},vS={schema:"public"},yS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},wS={};var xS=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(i.next(m))}catch(g){u(g)}}function d(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((i=i.apply(t,e||[])).next())})};const SS=t=>{let e;return t?e=t:typeof fetch>"u"?e=jg:e=fetch,(...n)=>e(...n)},kS=()=>typeof Headers>"u"?Ig:Headers,PS=(t,e,n)=>{const i=SS(n),o=kS();return(a,u)=>xS(void 0,void 0,void 0,function*(){var h;const d=(h=yield e())!==null&&h!==void 0?h:t;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${d}`),i(a,Object.assign(Object.assign({},u),{headers:p}))})};var ES=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(i.next(m))}catch(g){u(g)}}function d(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((i=i.apply(t,e||[])).next())})};function TS(t){return t.endsWith("/")?t:t+"/"}function bS(t,e){var n,i;const{db:o,auth:a,realtime:u,global:h}=t,{db:d,auth:p,realtime:m,global:g}=e,v={db:Object.assign(Object.assign({},d),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},m),u),storage:{},global:Object.assign(Object.assign(Object.assign({},g),h),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(i=h==null?void 0:h.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>ES(this,void 0,void 0,function*(){return""})};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}const qg="2.71.1",Er=30*1e3,Hu=3,Dl=Hu*Er,LS="http://localhost:9999",CS="supabase.auth.token",OS={"X-Client-Info":`gotrue-js/${qg}`},Vu="X-Supabase-Api-Version",Kg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,IS=10*60*1e3;class eh extends Error{constructor(e,n,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Q(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class AS extends eh{constructor(e,n,i){super(e,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function MS(t){return Q(t)&&t.name==="AuthApiError"}class Gg extends eh{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Rn extends eh{constructor(e,n,i,o){super(e,i,o),this.name=n,this.status=i}}class pn extends Rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function NS(t){return Q(t)&&t.name==="AuthSessionMissingError"}class ds extends Rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fs extends Rn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class ps extends Rn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function RS(t){return Q(t)&&t.name==="AuthImplicitGrantRedirectError"}class Uf extends Rn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class qu extends Rn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function Bl(t){return Q(t)&&t.name==="AuthRetryableFetchError"}class Ff extends Rn{constructor(e,n,i){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Ku extends Rn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ea="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Zf=` 	
\r=`.split(""),zS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Zf.length;e+=1)t[Zf[e].charCodeAt(0)]=-2;for(let e=0;e<ea.length;e+=1)t[ea[e].charCodeAt(0)]=e;return t})();function Wf(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(ea[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;n(ea[i]),e.queuedBits-=6}}function Jg(t,e,n){const i=zS[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Hf(t){const e=[],n=u=>{e.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{$S(u,i,n)};for(let u=0;u<t.length;u+=1)Jg(t.charCodeAt(u),o,a);return e.join("")}function DS(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function BS(t,e){for(let n=0;n<t.length;n+=1){let i=t.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(t.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}DS(i,e)}}function $S(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let i=1;i<6;i+=1)if(!(t>>7-i&1)){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function US(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};for(let o=0;o<t.length;o+=1)Jg(t.charCodeAt(o),n,i);return new Uint8Array(e)}function FS(t){const e=[];return BS(t,n=>e.push(n)),new Uint8Array(e)}function ZS(t){const e=[],n={queue:0,queuedBits:0},i=o=>{e.push(o)};return t.forEach(o=>Wf(o,n,i)),Wf(null,n,i),e.join("")}function WS(t){return Math.round(Date.now()/1e3)+t}function HS(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Tt=()=>typeof window<"u"&&typeof document<"u",Zn={tested:!1,writable:!1},Qg=()=>{if(!Tt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zn.tested)return Zn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zn.tested=!0,Zn.writable=!0}catch{Zn.tested=!0,Zn.writable=!1}return Zn.writable};function VS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((o,a)=>{e[a]=o})}catch{}return n.searchParams.forEach((i,o)=>{e[o]=i}),e}const Yg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>Eo(async()=>{const{default:i}=await Promise.resolve().then(()=>ii);return{default:i}},void 0).then(({default:i})=>i(...n)):e=fetch,(...n)=>e(...n)},qS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Tr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Wn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},fn=async(t,e)=>{await t.removeItem(e)};class Pa{constructor(){this.promise=new Pa.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Pa.promiseConstructor=Promise;function $l(t){const e=t.split(".");if(e.length!==3)throw new Ku("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!jS.test(e[i]))throw new Ku("JWT not in base64url format");return{header:JSON.parse(Hf(e[0])),payload:JSON.parse(Hf(e[1])),signature:US(e[2]),raw:{header:e[0],payload:e[1]}}}async function KS(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function GS(t,e){return new Promise((i,o)=>{(async()=>{for(let a=0;a<1/0;a++)try{const u=await t(a);if(!e(a,null,u)){i(u);return}}catch(u){if(!e(a,u)){o(u);return}}})()})}function JS(t){return("0"+t.toString(16)).substr(-2)}function QS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=n.length;let o="";for(let a=0;a<56;a++)o+=n.charAt(Math.floor(Math.random()*i));return o}return crypto.getRandomValues(e),Array.from(e,JS).join("")}async function YS(t){const n=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",n),o=new Uint8Array(i);return Array.from(o).map(a=>String.fromCharCode(a)).join("")}async function XS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await YS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function xr(t,e,n=!1){const i=QS();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Tr(t,`${e}-code-verifier`,o);const a=await XS(i);return[a,i===a?"plain":"s256"]}const ek=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function tk(t){const e=t.headers.get(Vu);if(!e||!e.match(ek))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function nk(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function rk(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const ik=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(t){if(!ik.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ul(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Vf(t){return JSON.parse(JSON.stringify(t))}var ok=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};const qn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),sk=[502,503,504];async function qf(t){var e;if(!qS(t))throw new qu(qn(t),0);if(sk.includes(t.status))throw new qu(qn(t),t.status);let n;try{n=await t.json()}catch(a){throw new Gg(qn(a),a)}let i;const o=tk(t);if(o&&o.getTime()>=Kg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new Ff(qn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new pn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new Ff(qn(n),t.status,n.weak_password.reasons);throw new AS(qn(n),t.status||500,i)}const ak=(t,e,n,i)=>{const o={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function ee(t,e,n,i){var o;const a=Object.assign({},i==null?void 0:i.headers);a[Vu]||(a[Vu]=Kg["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const h=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",d=await lk(t,e,n+h,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(d):{data:Object.assign({},d),error:null}}async function lk(t,e,n,i,o,a){const u=ak(e,i,o,a);let h;try{h=await t(n,Object.assign({},u))}catch(d){throw console.error(d),new qu(qn(d),0)}if(h.ok||await qf(h),i!=null&&i.noResolveJson)return h;try{return await h.json()}catch(d){await qf(d)}}function Jt(t){var e;let n=null;dk(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=WS(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:i},error:null}}function Kf(t){const e=Jt(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function yn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function uk(t){return{data:t,error:null}}function ck(t){const{action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a}=t,u=ok(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a},d=Object.assign({},u);return{data:{properties:h,user:d},error:null}}function hk(t){return t}function dk(t){return t.access_token&&t.refresh_token&&t.expires_in}const Fl=["global","local","others"];var fk=function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(t);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(t,i[o])&&(n[i[o]]=t[i[o]]);return n};class pk{constructor({url:e="",headers:n={},fetch:i}){this.url=e,this.headers=n,this.fetch=Yg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Fl[0]){if(Fl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fl.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:yn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:n}=e,i=fk(e,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ck,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:yn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,i,o,a,u,h,d;try{const p={nextPage:null,lastPage:0,total:0},m=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=e==null?void 0:e.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:hk});if(m.error)throw m.error;const g=await m.json(),v=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,x=(d=(h=m.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&d!==void 0?d:[];return x.length>0&&(x.forEach(E=>{const T=parseInt(E.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(E.split(";")[1].split("=")[1]);p[`${O}Page`]=T}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(Q(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Sr(e);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:yn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sr(e);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:yn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,n=!1){Sr(e);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:yn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Sr(e.userId);try{const{data:n,error:i}=await ee(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sr(e.userId),Sr(e.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Gf(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function mk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kr={debug:!!(globalThis&&Qg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Xg extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class gk extends Xg{}async function _k(t,e,n){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;return e>0&&setTimeout(()=>{i.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,o.name);try{return await n()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,o.name)}}else{if(e===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new gk(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(kr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}mk();const vk={url:LS,storageKey:CS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:OS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Jf(t,e,n){return await n()}const Pr={};class _o{constructor(e){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_o.nextInstanceID,_o.nextInstanceID+=1,this.instanceID>0&&Tt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},vk),e);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new pk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Yg(o.fetch),this.lock=o.lock||Jf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Tt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=_k:this.lock=Jf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Qg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Gf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Gf(this.memoryStorage)),Tt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Pr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Pr[this.storageKey]=Object.assign(Object.assign({},Pr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${qg}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=VS(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Tt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),RS(a)){const d=(e=a.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:h}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",h),await this._saveSession(u),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new Gg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,i,o;try{const a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=e==null?void 0:e.options)===null||o===void 0?void 0:o.captchaToken}},xform:Jt}),{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var n,i,o;try{let a;if("email"in e){const{email:m,password:g,options:v}=e;let x=null,E=null;this.flowType==="pkce"&&([x,E]=await xr(this.storage,this.storageKey)),a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:x,code_challenge_method:E},xform:Jt})}else if("phone"in e){const{phone:m,password:g,options:v}=e;a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Jt})}else throw new fs("You must provide either an email or phone number and a password");const{data:u,error:h}=a;if(h||!u)return{data:{user:null,session:null},error:h};const d=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let n;if("email"in e){const{email:a,password:u,options:h}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kf})}else if("phone"in e){const{phone:a,password:u,options:h}=e;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Kf})}else throw new fs("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new ds}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,i,o,a;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=e.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=e.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,i,o,a,u,h,d,p,m,g,v,x;let E,T;if("message"in e)E=e.message,T=e.signature;else{const{chain:O,wallet:S,statement:y,options:w}=e;let C;if(Tt())if(typeof S=="object")C=S;else{const z=window;if("solana"in z&&typeof z.solana=="object"&&("signIn"in z.solana&&typeof z.solana.signIn=="function"||"signMessage"in z.solana&&typeof z.solana.signMessage=="function"))C=z.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=S}const R=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const z=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:R.host,uri:R.href}),y?{statement:y}:null));let A;if(Array.isArray(z)&&z[0]&&typeof z[0]=="object")A=z[0];else if(z&&typeof z=="object"&&"signedMessage"in z&&"signature"in z)A=z;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in A&&"signature"in A&&(typeof A.signedMessage=="string"||A.signedMessage instanceof Uint8Array)&&A.signature instanceof Uint8Array)E=typeof A.signedMessage=="string"?A.signedMessage:new TextDecoder().decode(A.signedMessage),T=A.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");E=[`${R.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${R.href}`,`Issued At: ${(o=(i=w==null?void 0:w.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((u=w==null?void 0:w.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((h=w==null?void 0:w.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((d=w==null?void 0:w.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((p=w==null?void 0:w.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((g=(m=w==null?void 0:w.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...w.signInWithSolana.resources.map(A=>`- ${A}`)]:[]].join(`
`);const z=await C.signMessage(new TextEncoder().encode(E),"utf8");if(!z||!(z instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=z}}try{const{data:O,error:S}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:E,signature:ZS(T)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(x=e.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Jt});if(S)throw S;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new ds}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:S})}catch(O){if(Q(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(e){const n=await Wn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:a,error:u}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Jt});if(await fn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new ds}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(Q(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:n,provider:i,token:o,access_token:a,nonce:u}=e,h=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Jt}),{data:d,error:p}=h;return p?{data:{user:null,session:null},error:p}:!d||!d.session||!d.user?{data:{user:null,session:null},error:new ds}:(d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),{data:d,error:p})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,i,o,a,u;try{if("email"in e){const{email:h,options:d}=e;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await xr(this.storage,this.storageKey));const{error:g}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(n=d==null?void 0:d.data)!==null&&n!==void 0?n:{},create_user:(i=d==null?void 0:d.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:d==null?void 0:d.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in e){const{phone:h,options:d}=e,{data:p,error:m}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(o=d==null?void 0:d.data)!==null&&o!==void 0?o:{},create_user:(a=d==null?void 0:d.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken},channel:(u=d==null?void 0:d.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new fs("You must provide either an email or phone number.")}catch(h){if(Q(h))return{data:{user:null,session:null},error:h};throw h}}async verifyOtp(e){var n,i;try{let o,a;"options"in e&&(o=(n=e.options)===null||n===void 0?void 0:n.redirectTo,a=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:h}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Jt});if(h)throw h;if(!u)throw new Error("An error occurred on token verification.");const d=u.session,p=u.user;return d!=null&&d.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),{data:{user:p,session:d},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(e){var n,i,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await xr(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=e==null?void 0:e.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:uk})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new pn;const{error:o}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(e){if(Q(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:i,type:o,options:a}=e,{error:u}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in e){const{phone:i,type:o,options:a}=e,{data:u,error:h}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:h}}throw new fs("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Dl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const u=await Wn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?e.user=u.user:e.user=Ul()}if(this.storage.isServer&&e.user){let u=this.suppressGetSessionWarning;e=new Proxy(e,{get:(d,p,m)=>(!u&&p==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,p,m))})}return{data:{session:e},error:null}}const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:yn}):await this._useSession(async n=>{var i,o,a;const{data:u,error:h}=n;if(h)throw h;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new pn}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:yn})})}catch(n){if(Q(n))return NS(n)&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new pn;const u=o.session;let h=null,d=null;this.flowType==="pkce"&&e.email!=null&&([h,d]=await xr(this.storage,this.storageKey));const{data:p,error:m}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:d}),jwt:u.access_token,xform:yn});if(m)throw m;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new pn;const n=Date.now()/1e3;let i=n,o=!0,a=null;const{payload:u}=$l(e.access_token);if(u.exp&&(i=u.exp,o=i<=n),o){const{session:h,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return{data:{user:null,session:null},error:d};if(!h)return{data:{user:null,session:null},error:null};a=h}else{const{data:h,error:d}=await this._getUser(e.access_token);if(d)throw d;a={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var i;if(!e){const{data:u,error:h}=n;if(h)throw h;e=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(e!=null&&e.refresh_token))throw new pn;const{session:o,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Tt())throw new ps("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ps(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Uf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ps("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Uf("No code detected.");const{data:y,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:h,expires_at:d,token_type:p}=e;if(!a||!h||!u||!p)throw new ps("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(h);let v=m+g;d&&(v=parseInt(d));const x=v-m;x*1e3<=Er&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${g}s`);const E=v-g;m-E>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",E,v,m):m-E<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",E,v,m);const{data:T,error:O}=await this._getUser(a);if(O)throw O;const S={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:g,expires_at:v,refresh_token:u,token_type:p,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(i){if(Q(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Wn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{error:a};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:h}=await this.admin.signOut(u,e);if(h&&!(MS(h)&&(h.status===404||h.status===401||h.status===403)))return{error:h}}return e!=="others"&&(await this._removeSession(),await fn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=HS(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async n=>{var i,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",e,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(e))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}})}async resetPasswordForEmail(e,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await xr(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:i,error:o}=await this._useSession(async a=>{var u,h,d,p,m;const{data:g,error:v}=a;if(v)throw v;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(u=e.options)===null||u===void 0?void 0:u.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",x,{headers:this.headers,jwt:(m=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Tt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:e.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Q(i))return{data:{provider:e.provider,url:null},error:i};throw i}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:u}=n;if(u)throw u;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await GS(async o=>(o>0&&await KS(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Jt})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Bl(a)&&Date.now()+u-i<Er})}catch(i){if(this._debug(n,"error",i),Q(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),Tt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Wn(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Tr(this.userStorage,this.storageKey+"-user",u)),o.user=(e=u==null?void 0:u.user)!==null&&e!==void 0?e:Ul()}else if(o&&!o.user&&!o.user){const u=await Wn(this.storage,this.storageKey+"-user");u&&(u!=null&&u.user)?(o.user=u.user,await fn(this.storage,this.storageKey+"-user"),await Tr(this.storage,this.storageKey,o)):o.user=Ul()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Dl;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Dl}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Bl(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:h}=await this._getUser(o.access_token);!h&&(u!=null&&u.user)?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var n,i;if(!e)throw new pn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Pa;const{data:a,error:u}=await this._refreshAccessToken(e);if(u)throw u;if(!a.session)throw new pn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const h={session:a.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(a){if(this._debug(o,"error",a),Q(a)){const u={session:null,error:a};return Bl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(e,n,i=!0){const o=`#_notifyAllSubscribers(${e})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,n)}catch(d){a.push(d)}});if(await Promise.all(u),a.length>0){for(let h=0;h<a.length;h+=1)console.error(a[h]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Tr(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=Vf(o);await Tr(this.storage,this.storageKey,a)}else{const o=Vf(n);await Tr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await fn(this.storage,this.storageKey),await fn(this.storage,this.storageKey+"-code-verifier"),await fn(this.storage,this.storageKey+"-user"),this.userStorage&&await fn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Tt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Er);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-e)/Er);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Er}ms, refresh threshold is ${Hu} ticks`),o<=Hu&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Xg)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Tt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,u]=await xr(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(h.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${o.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await ee(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var i,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:d,error:p}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(e.factorType==="totp"&&(!((o=d==null?void 0:d.totp)===null||o===void 0)&&o.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),{data:d,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:h}=await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return h?{data:null,error:h}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:h})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await ee(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:i}=await this._challenge({factorId:e.factorId});return i?{data:null,error:i}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(e==null?void 0:e.factors)||[],o=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,i;const{data:{session:o},error:a}=e;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=$l(o.access_token);let h=null;u.aal&&(h=u.aal);let d=h;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(g=>g.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(d="aal2");const m=u.amr||[];return{data:{currentLevel:h,nextLevel:d,currentAuthenticationMethods:m},error:null}}))}async fetchJwk(e,n={keys:[]}){let i=n.keys.find(h=>h.kid===e);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+IS>o)return i;const{data:a,error:u}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,n={}){try{let i=e;if(!i){const{data:x,error:E}=await this.getSession();if(E||!x.session)return{data:null,error:E};i=x.session.access_token}const{header:o,payload:a,signature:u,raw:{header:h,payload:d}}=$l(i);n!=null&&n.allowExpired||nk(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:x}=await this.getUser(i);if(x)throw x;return{data:{claims:a,header:o,signature:u},error:null}}const m=rk(o.alg),g=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,u,FS(`${h}.${d}`)))throw new Ku("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}}}_o.nextInstanceID=0;const yk=_o;class wk extends yk{constructor(e){super(e)}}var xk=function(t,e,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function h(m){try{p(i.next(m))}catch(g){u(g)}}function d(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(h,d)}p((i=i.apply(t,e||[])).next())})};class Sk{constructor(e,n,i){var o,a,u;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const h=TS(e),d=new URL(h);this.realtimeUrl=new URL("realtime/v1",d),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",d),this.storageUrl=new URL("storage/v1",d),this.functionsUrl=new URL("functions/v1",d);const p=`sb-${d.hostname.split(".")[0]}-auth-token`,m={db:vS,realtime:wS,auth:Object.assign(Object.assign({},yS),{storageKey:p}),global:_S},g=bS(i??{},m);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,x)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(x)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=PS(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new Dx(new URL("rest/v1",d).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new pS(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new px(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},i={}){return this.rest.rpc(e,n,i)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return xk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(e=i.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:a,flowType:u,lock:h,debug:d},p,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wk({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:i,storage:o,flowType:u,lock:h,debug:d,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new tS(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,i)=>{this._handleTokenChanged(n,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(e,n,i){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const kk=(t,e,n)=>new Sk(t,e,n);function Pk(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Pk()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e_="https://khxedyqupxeyogeyqmty.supabase.co",Ek="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtoeGVkeXF1cHhleW9nZXlxbXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NDU0MzksImV4cCI6MjA3MTAyMTQzOX0.5MF7c57Hpt4PuvzT9dsBNLsOcrpdlMwefpXbuWu9BnE";console.log("Supabase URL:",e_);console.log("Supabase Anon Key:","Presente");const ne=kk(e_,Ek);function zn(){const[t,e]=I.useState(null),[n,i]=I.useState(!0);return I.useEffect(()=>{if(console.log("useAuth: Iniciando..."),!ne){console.log("useAuth: Supabase no configurado, retornando null"),e(null),i(!1);return}console.log("useAuth: Verificando sesso..."),ne.auth.getSession().then(({data:{session:d}})=>{console.log("useAuth: Sesso atual:",d?"Sim":"No"),e((d==null?void 0:d.user)??null),i(!1)});const{data:{subscription:h}}=ne.auth.onAuthStateChange(async(d,p)=>{console.log("useAuth: Evento de auth:",d),e((p==null?void 0:p.user)??null),i(!1)});return()=>h.unsubscribe()},[]),{user:t,loading:n,signIn:async(h,d)=>{var p,m,g,v;if(!ne)throw new Error("Supabase no configurado");try{console.log("useAuth: Tentando login...");const{data:x,error:E}=await ne.auth.signInWithPassword({email:h,password:d});if(E)throw console.error("useAuth: Erro no login:",E),E;if(console.log("useAuth: Login realizado com sucesso"),x.user)try{const{error:T}=await ne.from("users").select("id").eq("id",x.user.id).single();if(T&&T.code==="PGRST116"){console.log("useAuth: Criando usurio na tabela users..."),console.log("useAuth: Dados do usurio:",{id:x.user.id,name:(p=x.user.user_metadata)==null?void 0:p.name,team:(m=x.user.user_metadata)==null?void 0:m.team,email:x.user.email});const{error:O}=await ne.from("users").insert([{id:x.user.id,name:((g=x.user.user_metadata)==null?void 0:g.name)||"Jogador",team:((v=x.user.user_metadata)==null?void 0:v.team)||"green",email:x.user.email||"",score:0}]);O?console.error("useAuth: Erro ao criar usurio na tabela:",O):console.log("useAuth: Usurio criado na tabela com sucesso")}else console.log("useAuth: Usurio j existe na tabela users")}catch(T){console.error("useAuth: Erro ao verificar/criar usurio na tabela:",T)}return{data:x,error:null}}catch(x){return console.error("useAuth: Erro no login:",x),{data:null,error:x}}},signUp:async(h,d,p,m)=>{if(!ne)throw new Error("Supabase no configurado");try{console.log("useAuth: Tentando registro...");const{data:g,error:v}=await ne.auth.signUp({email:h,password:d,options:{data:{name:p,team:m}}});if(v)throw console.error("useAuth: Erro no registro:",v),v;if(console.log("useAuth: Registro realizado com sucesso"),g.user&&!g.user.email_confirmed_at)return console.log("useAuth: Email precisa ser confirmado"),{data:g,error:null,message:"Conta criada! Verifique seu email para confirmar o endereo antes de fazer login."};if(g.user&&g.user.email_confirmed_at)try{const{error:x}=await ne.from("users").insert([{id:g.user.id,name:p,team:m,email:h,score:0}]);x&&console.error("useAuth: Erro ao inserir usurio:",x)}catch(x){console.error("useAuth: Erro ao inserir usurio:",x)}return{data:g,error:null}}catch(g){return console.error("useAuth: Erro no registro:",g),{data:null,error:g}}},signOut:async()=>{if(!ne){console.log("useAuth: Supabase no configurado");return}try{console.log("useAuth: Fazendo logout...");const{data:{user:h}}=await ne.auth.getUser();h&&await ne.from("users").update({current_position:null}).eq("id",h.id);const{error:d}=await ne.auth.signOut();if(d)throw console.error("useAuth: Erro ao fazer logout:",d),d;console.log("useAuth: Logout realizado com sucesso"),e(null)}catch(h){throw console.error("useAuth: Erro ao fazer logout:",h),h}}}}const Tk={},Qf=t=>{let e;const n=new Set,i=(m,g)=>{const v=typeof m=="function"?m(e):m;if(!Object.is(v,e)){const x=e;e=g??(typeof v!="object"||v===null)?v:Object.assign({},e,v),n.forEach(E=>E(e,x))}},o=()=>e,d={setState:i,getState:o,getInitialState:()=>p,subscribe:m=>(n.add(m),()=>n.delete(m)),destroy:()=>{(Tk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},p=e=t(i,o,d);return d},bk=t=>t?Qf(t):Qf;var t_={exports:{}},n_={},r_={exports:{}},i_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xr=I;function Lk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ck=typeof Object.is=="function"?Object.is:Lk,Ok=Xr.useState,jk=Xr.useEffect,Ik=Xr.useLayoutEffect,Ak=Xr.useDebugValue;function Mk(t,e){var n=e(),i=Ok({inst:{value:n,getSnapshot:e}}),o=i[0].inst,a=i[1];return Ik(function(){o.value=n,o.getSnapshot=e,Zl(o)&&a({inst:o})},[t,n,e]),jk(function(){return Zl(o)&&a({inst:o}),t(function(){Zl(o)&&a({inst:o})})},[t]),Ak(n),n}function Zl(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ck(t,n)}catch{return!0}}function Nk(t,e){return e()}var Rk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nk:Mk;i_.useSyncExternalStore=Xr.useSyncExternalStore!==void 0?Xr.useSyncExternalStore:Rk;r_.exports=i_;var zk=r_.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ea=I,Dk=zk;function Bk(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var $k=typeof Object.is=="function"?Object.is:Bk,Uk=Dk.useSyncExternalStore,Fk=Ea.useRef,Zk=Ea.useEffect,Wk=Ea.useMemo,Hk=Ea.useDebugValue;n_.useSyncExternalStoreWithSelector=function(t,e,n,i,o){var a=Fk(null);if(a.current===null){var u={hasValue:!1,value:null};a.current=u}else u=a.current;a=Wk(function(){function d(x){if(!p){if(p=!0,m=x,x=i(x),o!==void 0&&u.hasValue){var E=u.value;if(o(E,x))return g=E}return g=x}if(E=g,$k(m,x))return E;var T=i(x);return o!==void 0&&o(E,T)?(m=x,E):(m=x,g=T)}var p=!1,m,g,v=n===void 0?null:n;return[function(){return d(e())},v===null?void 0:function(){return d(v())}]},[e,n,i,o]);var h=Uk(t,a[0],a[1]);return Zk(function(){u.hasValue=!0,u.value=h},[h]),Hk(h),h};t_.exports=n_;var Vk=t_.exports;const qk=Xu(Vk),o_={},{useDebugValue:Kk}=Ji,{useSyncExternalStoreWithSelector:Gk}=qk;let Yf=!1;const Jk=t=>t;function Qk(t,e=Jk,n){(o_?"production":void 0)!=="production"&&n&&!Yf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Yf=!0);const i=Gk(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Kk(i),i}const Xf=t=>{(o_?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?bk(t):t,n=(i,o)=>Qk(e,i,o);return Object.assign(n,e),n},Yk=t=>t?Xf(t):Xf,Ii=t=>{const e=(t||"").toString().toLowerCase().trim();return e==="red"?"red":e==="blue"?"blue":(e==="green"||console.warn("normalizeTeam: Equipe invlida:",t,"usando fallback green"),"green")},Ta=Yk((t,e)=>({territories:[],players:[],currentPlayer:null,loading:!1,error:null,fetchTerritories:async()=>{if(!ne){console.log("gameStore: Supabase no configurado"),t({error:"Supabase no configurado",loading:!1});return}t({loading:!0,error:null});try{console.log("gameStore: Buscando territrios...");const{data:n,error:i}=await ne.from("territories").select("*");if(i){console.error("gameStore: Erro ao buscar territrios:",i),t({error:i.message,loading:!1});return}console.log("gameStore: Territrios encontrados:",(n==null?void 0:n.length)||0),t({territories:n||[],loading:!1})}catch(n){console.error("gameStore: Erro ao buscar territrios:",n),t({error:"Erro ao carregar territrios",loading:!1})}},fetchPlayers:async()=>{if(!ne){console.log("gameStore: Supabase no configurado"),t({error:"Supabase no configurado",loading:!1});return}t({loading:!0,error:null});try{console.log("gameStore: Buscando jogadores...");const{data:n,error:i}=await ne.from("users").select("*");if(i){console.error("gameStore: Erro ao buscar jogadores:",i),t({error:i.message,loading:!1});return}const o=(n||[]).map(a=>({id:a.id,name:a.name,team:Ii(a.team),position:a.current_position?a.current_position.replace(/[()]/g,"").split(",").map(Number):null,score:a.score}));console.log("gameStore: Jogadores encontrados:",o.length),t({players:o,loading:!1})}catch(n){console.error("gameStore: Erro ao buscar jogadores:",n),t({error:"Erro ao carregar jogadores",loading:!1})}},updatePlayerPosition:async n=>{var a,u,h,d;const o=localStorage.getItem("gameMode")==="mock";if(ne)try{const{data:{user:p}}=await ne.auth.getUser();if(p){const{data:m,error:g}=await ne.from("users").select("team, name").eq("id",p.id).single();if(g)console.log("gameStore: Erro ao buscar dados do usurio:",g);else if(m){const v=Ii(m.team);t(()=>({currentPlayer:{id:p.id,name:m.name||"Jogador",team:v,position:n,score:0}}))}}}catch(p){console.log("gameStore: Erro ao buscar dados do usurio:",p)}if(o){if(e().currentPlayer)t(p=>({currentPlayer:p.currentPlayer?{...p.currentPlayer,position:n}:null,players:p.players.map(m=>{var g;return m.id===((g=p.currentPlayer)==null?void 0:g.id)?{...m,position:n}:m})}));else{let p="green",m="Jogador Mock",g="mock-player";if(ne)try{const{data:{user:v}}=await ne.auth.getUser();if(v){g=v.id;const{data:x,error:E}=await ne.from("users").select("team, name").eq("id",v.id).single();E?(console.log("gameStore: Erro ao buscar dados do usurio:",E),p=Ii((a=v.user_metadata)==null?void 0:a.team),m=((u=v.user_metadata)==null?void 0:u.name)||"Jogador"):x?(p=Ii(x.team),m=x.name||"Jogador"):(p=Ii((h=v.user_metadata)==null?void 0:h.team),m=((d=v.user_metadata)==null?void 0:d.name)||"Jogador")}}catch(v){console.log("gameStore: Erro ao buscar dados do usurio:",v)}t(()=>({currentPlayer:{id:g,name:m,team:p,position:n,score:0}}))}return}if(ne)try{const{data:{user:p}}=await ne.auth.getUser();if(!p)return;const m=`(${n[0]},${n[1]})`,{error:g}=await ne.from("users").update({current_position:m}).eq("id",p.id);if(g){console.error("gameStore: Erro ao atualizar posio:",g);return}}catch(p){console.error("Erro ao atualizar posio do usurio:",p)}},captureTerritory:async n=>{console.log("gameStore: Capturando territrio:",n),console.log("gameStore: Territrio capturado com sucesso")},resetGame:()=>{console.log("gameStore: Resetando jogo..."),t({territories:[],players:[],currentPlayer:null})}}));function si(){const[t,e]=I.useState(null),[n,i]=I.useState(null),[o,a]=I.useState(!1),u=I.useRef(null),h=I.useRef(null),{updatePlayerPosition:d}=Ta(),p=v=>{e(v),h.current=v,setTimeout(()=>{d(v)},0)};return I.useEffect(()=>{localStorage.getItem("gameMode");{const v=[41.1333,-8.6167];e(v),h.current=v,i(null),a(!0),d(v)}if(!ne){i("Supabase no configurado");return}if(!navigator.geolocation){i("Geolocalizao no disponvel neste dispositivo");return}return a(!0),navigator.geolocation.getCurrentPosition(v=>{const x=[v.coords.latitude,v.coords.longitude];e(x),i(null),d(x)},v=>{console.error("useGeo: Erro ao obter posio inicial:",v),i(`Erro GPS: ${v.message}`),a(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),u.current=navigator.geolocation.watchPosition(v=>{const x=[v.coords.latitude,v.coords.longitude];e(x),i(null),d(x)},v=>{console.error("useGeo: Erro no rastreamento:",v),i(`Erro GPS: ${v.message}`)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),()=>{u.current&&(navigator.geolocation.clearWatch(u.current),u.current=null)}},[]),I.useEffect(()=>{t&&(h.current=t)},[t]),{position:t,error:n,isTracking:o,startTracking:()=>{if(!navigator.geolocation){i("Geolocalizao no disponvel");return}a(!0),u.current=navigator.geolocation.watchPosition(v=>{const x=[v.coords.latitude,v.coords.longitude];e(x),i(null),d(x)},v=>{console.error("useGeo: Erro no rastreamento manual:",v),i(`Erro GPS: ${v.message}`)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},stopTracking:()=>{u.current&&(navigator.geolocation.clearWatch(u.current),u.current=null),a(!1)},updatePosition:p}}function Xk(){const{position:t}=si();I.useEffect(()=>{const e=setInterval(()=>{t&&Ta.getState().updatePlayerPosition(t)},500);return()=>{clearInterval(e)}},[t])}function e1(){const{signIn:t,signUp:e}=zn(),[n,i]=I.useState(!1),[o,a]=I.useState(""),[u,h]=I.useState(""),[d,p]=I.useState(""),[m,g]=I.useState("green"),[v,x]=I.useState(!1),[E,T]=I.useState(""),O=async S=>{S.preventDefault(),x(!0),T("");try{if(n){const{error:y,message:w}=await e(o,u,d,m);if(y)throw y;w&&(T(w),a(""),h(""),p(""),g("green"))}else{const{error:y}=await t(o,u);if(y)throw y}}catch(y){T(y.message)}finally{x(!1)}};return P.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:P.jsxs("div",{className:"max-w-md w-full space-y-8",children:[P.jsxs("div",{children:[P.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:n?"Criar Conta":"Entrar no Jogo Geo"}),P.jsx("p",{className:"mt-2 text-center text-sm text-gray-400",children:n?"Junte-se  batalha territorial!":"Conquiste territrios para sua equipe!"})]}),P.jsxs("form",{className:"mt-8 space-y-6",onSubmit:O,children:[P.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n&&P.jsxs("div",{children:[P.jsx("label",{htmlFor:"name",className:"sr-only",children:"Nome"}),P.jsx("input",{id:"name",name:"name",type:"text",required:n,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-500 text-white bg-gray-800 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Nome completo",value:d,onChange:S=>p(S.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email"}),P.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-500 text-white bg-gray-800 ${n?"":"rounded-t-md"} focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Email",value:o,onChange:S=>a(S.target.value)})]}),P.jsxs("div",{children:[P.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),P.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-500 text-white bg-gray-800 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Senha",value:u,onChange:S=>h(S.target.value)})]})]}),n&&P.jsxs("div",{children:[P.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Escolha sua equipe:"}),P.jsx("div",{className:"grid grid-cols-3 gap-3",children:["green","blue","red"].map(S=>P.jsxs("button",{type:"button",onClick:()=>g(S),className:`p-3 rounded-lg border-2 transition-colors ${m===S?"border-white bg-opacity-20":"border-gray-600 hover:border-gray-500"} ${S==="green"?"bg-green-600":S==="blue"?"bg-blue-600":"bg-red-600"}`,children:[P.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-1 ${S==="green"?"bg-green-400":S==="blue"?"bg-blue-400":"bg-red-400"}`}),P.jsx("span",{className:"text-xs text-white capitalize",children:S})]},S))})]}),E&&P.jsx("div",{className:`text-sm text-center ${E.includes("Verifique seu email")?"text-green-400":"text-red-400"}`,children:E}),P.jsx("div",{children:P.jsx("button",{type:"submit",disabled:v,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:v?"Carregando...":n?"Criar Conta":"Entrar"})}),P.jsx("div",{className:"text-center",children:P.jsx("button",{type:"button",onClick:()=>i(!n),className:"text-green-400 hover:text-green-300 text-sm",children:n?"J tem uma conta? Entrar":"No tem conta? Criar conta"})})]})]})})}function t1(t,e){const n=I.useRef(e);I.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const n1=1;function r1(t){return Object.freeze({__version:n1,map:t})}function th(t,e){return Object.freeze({...t,...e})}const s_=I.createContext(null),a_=s_.Provider;function nh(){const t=I.useContext(s_);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function l_(t){function e(n,i){const{instance:o,context:a}=t(n).current;return I.useImperativeHandle(i,()=>o),n.children==null?null:Ji.createElement(a_,{value:a},n.children)}return I.forwardRef(e)}function i1(t){function e(n,i){const{instance:o}=t(n).current;return I.useImperativeHandle(i,()=>o),null}return I.forwardRef(e)}function u_(t,e){const n=I.useRef();I.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function rh(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}var Gu={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(ct,function(n){var i="1.9.4";function o(r){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)r[s]=f[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var l=Array.prototype.slice;if(r.bind)return r.bind.apply(r,l.call(arguments,1));var c=l.call(arguments,2);return function(){return r.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var h=0;function d(r){return"_leaflet_id"in r||(r._leaflet_id=++h),r._leaflet_id}function p(r,s,l){var c,f,_,k;return k=function(){c=!1,f&&(_.apply(l,f),f=!1)},_=function(){c?f=arguments:(r.apply(l,arguments),setTimeout(k,s),c=!0)},_}function m(r,s,l){var c=s[1],f=s[0],_=c-f;return r===c&&l?r:((r-f)%_+_)%_+f}function g(){return!1}function v(r,s){if(s===!1)return r;var l=Math.pow(10,s===void 0?6:s);return Math.round(r*l)/l}function x(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function E(r){return x(r).split(/\s+/)}function T(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var l in s)r.options[l]=s[l];return r.options}function O(r,s,l){var c=[];for(var f in r)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(r[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var S=/\{ *([\w_ -]+) *\}/g;function y(r,s){return r.replace(S,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var w=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function C(r,s){for(var l=0;l<r.length;l++)if(r[l]===s)return l;return-1}var R="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function z(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var A=0;function B(r){var s=+new Date,l=Math.max(0,16-(s-A));return A=s+l,window.setTimeout(r,l)}var H=window.requestAnimationFrame||z("RequestAnimationFrame")||B,Z=window.cancelAnimationFrame||z("CancelAnimationFrame")||z("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function re(r,s,l){if(l&&H===B)r.call(s);else return H.call(window,u(r,s))}function ge(r){r&&Z.call(window,r)}var Wt={__proto__:null,extend:o,create:a,bind:u,get lastId(){return h},stamp:d,throttle:p,wrapNum:m,falseFn:g,formatNum:v,trim:x,splitWords:E,setOptions:T,getParamString:O,template:y,isArray:w,indexOf:C,emptyImageUrl:R,requestFn:H,cancelFn:Z,requestAnimFrame:re,cancelAnimFrame:ge};function Ye(){}Ye.extend=function(r){var s=function(){T(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return r.statics&&o(s,r.statics),r.includes&&(La(r.includes),o.apply(null,[c].concat(r.includes))),o(c,r),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,r.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,k=c._initHooks.length;_<k;_++)c._initHooks[_].call(this)}},s},Ye.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},Ye.mergeOptions=function(r){return o(this.prototype.options,r),this},Ye.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),l=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function La(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=w(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ze={on:function(r,s,l){if(typeof r=="object")for(var c in r)this._on(c,r[c],s);else{r=E(r);for(var f=0,_=r.length;f<_;f++)this._on(r[f],s,l)}return this},off:function(r,s,l){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var c in r)this._off(c,r[c],s);else{r=E(r);for(var f=arguments.length===1,_=0,k=r.length;_<k;_++)f?this._off(r[_]):this._off(r[_],s,l)}return this},_on:function(r,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(f)}},_off:function(r,s,l){var c,f,_;if(this._events&&(c=this._events[r],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,_=c.length;f<_;f++)c[f].fn=g;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var k=this._listens(r,s,l);if(k!==!1){var b=c[k];this._firingCount&&(b.fn=g,this._events[r]=c=c.slice()),c.splice(k,1)}}},fire:function(r,s,l){if(!this.listens(r,l))return this;var c=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[r];if(f){this._firingCount=this._firingCount+1||1;for(var _=0,k=f.length;_<k;_++){var b=f[_],j=b.fn;b.once&&this.off(r,j,b.ctx),j.call(b.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(r,s,l,c){typeof r!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var _=this._events&&this._events[r];if(_&&_.length&&this._listens(r,f,l)!==!1)return!0;if(c){for(var k in this._eventParents)if(this._eventParents[k].listens(r,s,l,c))return!0}return!1},_listens:function(r,s,l){if(!this._events)return!1;var c=this._events[r]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,_=c.length;f<_;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(r,s,l){if(typeof r=="object")for(var c in r)this._on(c,r[c],s,!0);else{r=E(r);for(var f=0,_=r.length;f<_;f++)this._on(r[f],s,l,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[d(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[d(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};ze.addEventListener=ze.on,ze.removeEventListener=ze.clearAllEventListeners=ze.off,ze.addOneTimeEventListener=ze.once,ze.fireEvent=ze.fire,ze.hasEventListeners=ze.listens;var Ht=Ye.extend(ze);function M(r,s,l){this.x=l?Math.round(r):r,this.y=l?Math.round(s):s}var K=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};M.prototype={clone:function(){return new M(this.x,this.y)},add:function(r){return this.clone()._add($(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract($(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new M(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new M(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(r){r=$(r);var s=r.x-this.x,l=r.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(r){return r=$(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=$(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function $(r,s,l){return r instanceof M?r:w(r)?new M(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new M(r.x,r.y):new M(r,s,l)}function q(r,s){if(r)for(var l=s?[r,s]:r,c=0,f=l.length;c<f;c++)this.extend(l[c])}q.prototype={extend:function(r){var s,l;if(!r)return this;if(r instanceof M||typeof r[0]=="number"||"x"in r)s=l=$(r);else if(r=oe(r),s=r.min,l=r.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(r){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,l;return typeof r[0]=="number"||r instanceof M?r=$(r):r=oe(r),r instanceof q?(s=r.min,l=r.max):s=l=r,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(r){r=oe(r);var s=this.min,l=this.max,c=r.min,f=r.max,_=f.x>=s.x&&c.x<=l.x,k=f.y>=s.y&&c.y<=l.y;return _&&k},overlaps:function(r){r=oe(r);var s=this.min,l=this.max,c=r.min,f=r.max,_=f.x>s.x&&c.x<l.x,k=f.y>s.y&&c.y<l.y;return _&&k},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*r,f=Math.abs(s.y-l.y)*r;return oe($(s.x-c,s.y-f),$(l.x+c,l.y+f))},equals:function(r){return r?(r=oe(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function oe(r,s){return!r||r instanceof q?r:new q(r,s)}function Ce(r,s){if(r)for(var l=s?[r,s]:r,c=0,f=l.length;c<f;c++)this.extend(l[c])}Ce.prototype={extend:function(r){var s=this._southWest,l=this._northEast,c,f;if(r instanceof ae)c=r,f=r;else if(r instanceof Ce){if(c=r._southWest,f=r._northEast,!c||!f)return this}else return r?this.extend(G(r)||ce(r)):this;return!s&&!l?(this._southWest=new ae(c.lat,c.lng),this._northEast=new ae(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(r){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*r,f=Math.abs(s.lng-l.lng)*r;return new Ce(new ae(s.lat-c,s.lng-f),new ae(l.lat+c,l.lng+f))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ae||"lat"in r?r=G(r):r=ce(r);var s=this._southWest,l=this._northEast,c,f;return r instanceof Ce?(c=r.getSouthWest(),f=r.getNorthEast()):c=f=r,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(r){r=ce(r);var s=this._southWest,l=this._northEast,c=r.getSouthWest(),f=r.getNorthEast(),_=f.lat>=s.lat&&c.lat<=l.lat,k=f.lng>=s.lng&&c.lng<=l.lng;return _&&k},overlaps:function(r){r=ce(r);var s=this._southWest,l=this._northEast,c=r.getSouthWest(),f=r.getNorthEast(),_=f.lat>s.lat&&c.lat<l.lat,k=f.lng>s.lng&&c.lng<l.lng;return _&&k},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=ce(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(r,s){return r instanceof Ce?r:new Ce(r,s)}function ae(r,s,l){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,l!==void 0&&(this.alt=+l)}ae.prototype={equals:function(r,s){if(!r)return!1;r=G(r);var l=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return l<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+v(this.lat,r)+", "+v(this.lng,r)+")"},distanceTo:function(r){return un.distance(this,G(r))},wrap:function(){return un.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,l=s/Math.cos(Math.PI/180*this.lat);return ce([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function G(r,s,l){return r instanceof ae?r:w(r)&&typeof r[0]!="object"?r.length===3?new ae(r[0],r[1],r[2]):r.length===2?new ae(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ae(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new ae(r,s,l)}var Xe={latLngToPoint:function(r,s){var l=this.projection.project(r),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(r,s){var l=this.scale(s),c=this.transformation.untransform(r,l);return this.projection.unproject(c)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(r),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new q(c,f)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?m(r.lng,this.wrapLng,!0):r.lng,l=this.wrapLat?m(r.lat,this.wrapLat,!0):r.lat,c=r.alt;return new ae(l,s,c)},wrapLatLngBounds:function(r){var s=r.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return r;var _=r.getSouthWest(),k=r.getNorthEast(),b=new ae(_.lat-c,_.lng-f),j=new ae(k.lat-c,k.lng-f);return new Ce(b,j)}},un=o({},Xe,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var l=Math.PI/180,c=r.lat*l,f=s.lat*l,_=Math.sin((s.lat-r.lat)*l/2),k=Math.sin((s.lng-r.lng)*l/2),b=_*_+Math.cos(c)*Math.cos(f)*k*k,j=2*Math.atan2(Math.sqrt(b),Math.sqrt(1-b));return this.R*j}}),oh=6378137,Ca={R:oh,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,r.lat),-l),f=Math.sin(c*s);return new M(this.R*r.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(r){var s=180/Math.PI;return new ae((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=oh*Math.PI;return new q([-r,-r],[r,r])}()};function Oa(r,s,l,c){if(w(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=l,this._d=c}Oa.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new M((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function ui(r,s,l,c){return new Oa(r,s,l,c)}var ja=o({},un,{code:"EPSG:3857",projection:Ca,transformation:function(){var r=.5/(Math.PI*Ca.R);return ui(r,.5,-r,.5)}()}),p_=o({},ja,{code:"EPSG:900913"});function sh(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function ah(r,s){var l="",c,f,_,k,b,j;for(c=0,_=r.length;c<_;c++){for(b=r[c],f=0,k=b.length;f<k;f++)j=b[f],l+=(f?"L":"M")+j.x+" "+j.y;l+=s?W.svg?"z":"x":""}return l||"M0 0"}var Ia=document.documentElement.style,Lo="ActiveXObject"in window,m_=Lo&&!document.addEventListener,lh="msLaunchUri"in navigator&&!("documentMode"in document),Aa=Mt("webkit"),uh=Mt("android"),ch=Mt("android 2")||Mt("android 3"),g_=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),__=uh&&Mt("Google")&&g_<537&&!("AudioNode"in window),Ma=!!window.opera,hh=!lh&&Mt("chrome"),dh=Mt("gecko")&&!Aa&&!Ma&&!Lo,v_=!hh&&Mt("safari"),fh=Mt("phantom"),ph="OTransition"in Ia,y_=navigator.platform.indexOf("Win")===0,mh=Lo&&"transition"in Ia,Na="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ch,gh="MozPerspective"in Ia,w_=!window.L_DISABLE_3D&&(mh||Na||gh)&&!ph&&!fh,ci=typeof orientation<"u"||Mt("mobile"),x_=ci&&Aa,S_=ci&&Na,_h=!window.PointerEvent&&window.MSPointerEvent,vh=!!(window.PointerEvent||_h),yh="ontouchstart"in window||!!window.TouchEvent,k_=!window.L_NO_TOUCH&&(yh||vh),P_=ci&&Ma,E_=ci&&dh,T_=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,b_=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",g,s),window.removeEventListener("testPassiveEventSupport",g,s)}catch{}return r}(),L_=function(){return!!document.createElement("canvas").getContext}(),Ra=!!(document.createElementNS&&sh("svg").createSVGRect),C_=!!Ra&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),O_=!Ra&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),j_=navigator.platform.indexOf("Mac")===0,I_=navigator.platform.indexOf("Linux")===0;function Mt(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var W={ie:Lo,ielt9:m_,edge:lh,webkit:Aa,android:uh,android23:ch,androidStock:__,opera:Ma,chrome:hh,gecko:dh,safari:v_,phantom:fh,opera12:ph,win:y_,ie3d:mh,webkit3d:Na,gecko3d:gh,any3d:w_,mobile:ci,mobileWebkit:x_,mobileWebkit3d:S_,msPointer:_h,pointer:vh,touch:k_,touchNative:yh,mobileOpera:P_,mobileGecko:E_,retina:T_,passiveEvents:b_,canvas:L_,svg:Ra,vml:O_,inlineSvg:C_,mac:j_,linux:I_},wh=W.msPointer?"MSPointerDown":"pointerdown",xh=W.msPointer?"MSPointerMove":"pointermove",Sh=W.msPointer?"MSPointerUp":"pointerup",kh=W.msPointer?"MSPointerCancel":"pointercancel",za={touchstart:wh,touchmove:xh,touchend:Sh,touchcancel:kh},Ph={touchstart:D_,touchmove:Co,touchend:Co,touchcancel:Co},cr={},Eh=!1;function A_(r,s,l){return s==="touchstart"&&z_(),Ph[s]?(l=Ph[s].bind(this,l),r.addEventListener(za[s],l,!1),l):(console.warn("wrong event specified:",s),g)}function M_(r,s,l){if(!za[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(za[s],l,!1)}function N_(r){cr[r.pointerId]=r}function R_(r){cr[r.pointerId]&&(cr[r.pointerId]=r)}function Th(r){delete cr[r.pointerId]}function z_(){Eh||(document.addEventListener(wh,N_,!0),document.addEventListener(xh,R_,!0),document.addEventListener(Sh,Th,!0),document.addEventListener(kh,Th,!0),Eh=!0)}function Co(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in cr)s.touches.push(cr[l]);s.changedTouches=[s],r(s)}}function D_(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&De(s),Co(r,s)}function B_(r){var s={},l,c;for(c in r)l=r[c],s[c]=l&&l.bind?l.bind(r):l;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var $_=200;function U_(r,s){r.addEventListener("dblclick",s);var l=0,c;function f(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var k=jh(_);if(!(k.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!k.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var b=Date.now();b-l<=$_?(c++,c===2&&s(B_(_))):c=1,l=b}}}return r.addEventListener("click",f),{dblclick:s,simDblclick:f}}function F_(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var Da=Io(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hi=Io(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),bh=hi==="webkitTransition"||hi==="OTransition"?hi+"End":"transitionend";function Lh(r){return typeof r=="string"?document.getElementById(r):r}function di(r,s){var l=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(r,null);l=c?c[s]:null}return l==="auto"?null:l}function le(r,s,l){var c=document.createElement(r);return c.className=s||"",l&&l.appendChild(c),c}function ve(r){var s=r.parentNode;s&&s.removeChild(r)}function Oo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function hr(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function dr(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function Ba(r,s){if(r.classList!==void 0)return r.classList.contains(s);var l=jo(r);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function Y(r,s){if(r.classList!==void 0)for(var l=E(s),c=0,f=l.length;c<f;c++)r.classList.add(l[c]);else if(!Ba(r,s)){var _=jo(r);$a(r,(_?_+" ":"")+s)}}function ke(r,s){r.classList!==void 0?r.classList.remove(s):$a(r,x((" "+jo(r)+" ").replace(" "+s+" "," ")))}function $a(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function jo(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function pt(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&Z_(r,s)}function Z_(r,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=r.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):r.style.filter+=" progid:"+c+"(opacity="+s+")"}function Io(r){for(var s=document.documentElement.style,l=0;l<r.length;l++)if(r[l]in s)return r[l];return!1}function Dn(r,s,l){var c=s||new M(0,0);r.style[Da]=(W.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Ee(r,s){r._leaflet_pos=s,W.any3d?Dn(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function Bn(r){return r._leaflet_pos||new M(0,0)}var fi,pi,Ua;if("onselectstart"in document)fi=function(){J(window,"selectstart",De)},pi=function(){he(window,"selectstart",De)};else{var mi=Io(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fi=function(){if(mi){var r=document.documentElement.style;Ua=r[mi],r[mi]="none"}},pi=function(){mi&&(document.documentElement.style[mi]=Ua,Ua=void 0)}}function Fa(){J(window,"dragstart",De)}function Za(){he(window,"dragstart",De)}var Ao,Wa;function Ha(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(Mo(),Ao=r,Wa=r.style.outlineStyle,r.style.outlineStyle="none",J(window,"keydown",Mo))}function Mo(){Ao&&(Ao.style.outlineStyle=Wa,Ao=void 0,Wa=void 0,he(window,"keydown",Mo))}function Ch(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Va(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var W_={__proto__:null,TRANSFORM:Da,TRANSITION:hi,TRANSITION_END:bh,get:Lh,getStyle:di,create:le,remove:ve,empty:Oo,toFront:hr,toBack:dr,hasClass:Ba,addClass:Y,removeClass:ke,setClass:$a,getClass:jo,setOpacity:pt,testProp:Io,setTransform:Dn,setPosition:Ee,getPosition:Bn,get disableTextSelection(){return fi},get enableTextSelection(){return pi},disableImageDrag:Fa,enableImageDrag:Za,preventOutline:Ha,restoreOutline:Mo,getSizedParentNode:Ch,getScale:Va};function J(r,s,l,c){if(s&&typeof s=="object")for(var f in s)Ka(r,f,s[f],l);else{s=E(s);for(var _=0,k=s.length;_<k;_++)Ka(r,s[_],l,c)}return this}var Nt="_leaflet_events";function he(r,s,l,c){if(arguments.length===1)Oh(r),delete r[Nt];else if(s&&typeof s=="object")for(var f in s)Ga(r,f,s[f],l);else if(s=E(s),arguments.length===2)Oh(r,function(b){return C(s,b)!==-1});else for(var _=0,k=s.length;_<k;_++)Ga(r,s[_],l,c);return this}function Oh(r,s){for(var l in r[Nt]){var c=l.split(/\d/)[0];(!s||s(c))&&Ga(r,c,null,null,l)}}var qa={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ka(r,s,l,c){var f=s+d(l)+(c?"_"+d(c):"");if(r[Nt]&&r[Nt][f])return this;var _=function(b){return l.call(c||r,b||window.event)},k=_;!W.touchNative&&W.pointer&&s.indexOf("touch")===0?_=A_(r,s,_):W.touch&&s==="dblclick"?_=U_(r,_):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(qa[s]||s,_,W.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(_=function(b){b=b||window.event,Qa(r,b)&&k(b)},r.addEventListener(qa[s],_,!1)):r.addEventListener(s,k,!1):r.attachEvent("on"+s,_),r[Nt]=r[Nt]||{},r[Nt][f]=_}function Ga(r,s,l,c,f){f=f||s+d(l)+(c?"_"+d(c):"");var _=r[Nt]&&r[Nt][f];if(!_)return this;!W.touchNative&&W.pointer&&s.indexOf("touch")===0?M_(r,s,_):W.touch&&s==="dblclick"?F_(r,_):"removeEventListener"in r?r.removeEventListener(qa[s]||s,_,!1):r.detachEvent("on"+s,_),r[Nt][f]=null}function $n(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Ja(r){return Ka(r,"wheel",$n),this}function gi(r){return J(r,"mousedown touchstart dblclick contextmenu",$n),r._leaflet_disable_click=!0,this}function De(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Un(r){return De(r),$n(r),this}function jh(r){if(r.composedPath)return r.composedPath();for(var s=[],l=r.target;l;)s.push(l),l=l.parentNode;return s}function Ih(r,s){if(!s)return new M(r.clientX,r.clientY);var l=Va(s),c=l.boundingClientRect;return new M((r.clientX-c.left)/l.x-s.clientLeft,(r.clientY-c.top)/l.y-s.clientTop)}var H_=W.linux&&W.chrome?window.devicePixelRatio:W.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ah(r){return W.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/H_:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Qa(r,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==r;)l=l.parentNode}catch{return!1}return l!==r}var V_={__proto__:null,on:J,off:he,stopPropagation:$n,disableScrollPropagation:Ja,disableClickPropagation:gi,preventDefault:De,stop:Un,getPropagationPath:jh,getMousePosition:Ih,getWheelDelta:Ah,isExternalTarget:Qa,addListener:J,removeListener:he},Mh=Ht.extend({run:function(r,s,l,c){this.stop(),this._el=r,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Bn(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=re(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var l=this._startPos.add(this._offset.multiplyBy(r));s&&l._round(),Ee(this._el,l),this.fire("step")},_complete:function(){ge(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ie=Ht.extend({options:{crs:ja,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=T(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(G(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hi&&W.any3d&&!W.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),J(this._proxy,bh,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(G(r),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,l.zoom):this._tryAnimatedPan(r,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(W.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),_=r instanceof M?r:this.latLngToContainerPoint(r),k=_.subtract(f).multiplyBy(1-1/c),b=this.containerPointToLatLng(f.add(k));return this.setView(b,s,{zoom:l})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():ce(r);var l=$(s.paddingTopLeft||s.padding||[0,0]),c=$(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(r,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:r.getCenter(),zoom:f};var _=c.subtract(l).divideBy(2),k=this.project(r.getSouthWest(),f),b=this.project(r.getNorthEast(),f),j=this.unproject(k.add(b).divideBy(2).add(_),f);return{center:j,zoom:f}},fitBounds:function(r,s){if(r=ce(r),!r.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(r,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=$(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Mh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Y(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,l){if(l=l||{},l.animate===!1||!W.any3d)return this.setView(r,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(r),_=this.getSize(),k=this._zoom;r=G(r),s=s===void 0?k:s;var b=Math.max(_.x,_.y),j=b*this.getZoomScale(k,s),N=f.distanceTo(c)||1,U=1.42,V=U*U;function X(Te){var Vo=Te?-1:1,Mv=Te?j:b,Nv=j*j-b*b+Vo*V*V*N*N,Rv=2*Mv*V*N,ll=Nv/Rv,pd=Math.sqrt(ll*ll+1)-ll,zv=pd<1e-9?-18:Math.log(pd);return zv}function Ve(Te){return(Math.exp(Te)-Math.exp(-Te))/2}function Me(Te){return(Math.exp(Te)+Math.exp(-Te))/2}function gt(Te){return Ve(Te)/Me(Te)}var et=X(0);function vr(Te){return b*(Me(et)/Me(et+U*Te))}function Ov(Te){return b*(Me(et)*gt(et+U*Te)-Ve(et))/V}function jv(Te){return 1-Math.pow(1-Te,1.5)}var Iv=Date.now(),dd=(X(1)-et)/U,Av=l.duration?1e3*l.duration:1e3*dd*.8;function fd(){var Te=(Date.now()-Iv)/Av,Vo=jv(Te)*dd;Te<=1?(this._flyToFrame=re(fd,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(Ov(Vo)/N)),k),this.getScaleZoom(b/vr(Vo),k),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),fd.call(this),this},flyToBounds:function(r,s){var l=this._getBoundsCenterZoom(r,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(r){return r=ce(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,ce(r));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var l=$(s.paddingTopLeft||s.padding||[0,0]),c=$(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),_=this.project(r),k=this.getPixelBounds(),b=oe([k.min.add(l),k.max.subtract(c)]),j=b.getSize();if(!b.contains(_)){this._enforcingBounds=!0;var N=_.subtract(b.getCenter()),U=b.extend(_).getSize().subtract(j);f.x+=N.x<0?-U.x:U.x,f.y+=N.y<0?-U.y:U.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),_=c.subtract(f);return!_.x&&!_.y?this:(r.animate&&r.pan?this.panBy(_):(r.pan&&this._rawPanBy(_),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,r):navigator.geolocation.getCurrentPosition(s,l,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,l=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,l=r.coords.longitude,c=new ae(s,l),f=c.toBounds(r.coords.accuracy*2),_=this._locateOptions;if(_.setView){var k=this.getBoundsZoom(f);this.setView(c,_.maxZoom?Math.min(k,_.maxZoom):k)}var b={latlng:c,bounds:f,timestamp:r.timestamp};for(var j in r.coords)typeof r.coords[j]=="number"&&(b[j]=r.coords[j]);this.fire("locationfound",b)}},addHandler:function(r,s){if(!s)return this;var l=this[r]=new s(this);return this._handlers.push(l),this.options[r]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),ve(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(ge(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)ve(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var l="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),c=le("div",l,s||this._mapPane);return r&&(this._panes[r]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),l=this.unproject(r.getTopRight());return new Ce(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,l){r=ce(r),l=$(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),_=this.getMaxZoom(),k=r.getNorthWest(),b=r.getSouthEast(),j=this.getSize().subtract(l),N=oe(this.project(b,c),this.project(k,c)).getSize(),U=W.any3d?this.options.zoomSnap:1,V=j.x/N.x,X=j.y/N.y,Ve=s?Math.max(V,X):Math.min(V,X);return c=this.getScaleZoom(Ve,c),U&&(c=Math.round(c/(U/100))*(U/100),c=s?Math.ceil(c/U)*U:Math.floor(c/U)*U),Math.max(f,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new M(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var l=this._getTopLeftPoint(r,s);return new q(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(r)/l.scale(s)},getScaleZoom:function(r,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(r*l.scale(s));return isNaN(c)?1/0:c},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(G(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng($(r),s)},layerPointToLatLng:function(r){var s=$(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(G(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(G(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ce(r))},distance:function(r,s){return this.options.crs.distance(G(r),G(s))},containerPointToLayerPoint:function(r){return $(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return $(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint($(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(r)))},mouseEventToContainerPoint:function(r){return Ih(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=Lh(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");J(s,"scroll",this._onScroll,this),this._containerId=d(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&W.any3d,Y(r,"leaflet-container"+(W.touch?" leaflet-touch":"")+(W.retina?" leaflet-retina":"")+(W.ielt9?" leaflet-oldie":"")+(W.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=di(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Ee(this._mapPane,new M(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(r.markerPane,"leaflet-zoom-hide"),Y(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,l){Ee(this._mapPane,new M(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(r,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return ge(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Ee(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[d(this._container)]=this;var s=r?he:J;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),W.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){ge(this._resizeRequest),this._resizeRequest=re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",_=r.target||r.srcElement,k=!1;_;){if(c=this._targets[d(_)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){k=!0;break}if(c&&c.listens(s,!0)&&(f&&!Qa(_,r)||(l.push(c),f))||_===this._container)break;_=_.parentNode}return!l.length&&!k&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var l=r.type;l==="mousedown"&&Ha(s),this._fireDOMEvent(r,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,l){if(r.type==="click"){var c=o({},r);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(r,s);if(l){for(var _=[],k=0;k<l.length;k++)l[k].listens(s,!0)&&_.push(l[k]);f=_.concat(f)}if(f.length){s==="contextmenu"&&De(r);var b=f[0],j={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var N=b.getLatLng&&(!b._radius||b._radius<=10);j.containerPoint=N?this.latLngToContainerPoint(b.getLatLng()):this.mouseEventToContainerPoint(r),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=N?b.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(k=0;k<f.length;k++)if(f[k].fire(s,j,!0),j.originalEvent._stopped||f[k].options.bubblingMouseEvents===!1&&C(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return Bn(this._mapPane)||new M(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var l=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var l=this.getSize()._divideBy(2);return this.project(r,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(r,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(r,s,l){var c=this._getNewPixelOrigin(l,s);return oe([this.project(r.getSouthWest(),s)._subtract(c),this.project(r.getNorthWest(),s)._subtract(c),this.project(r.getSouthEast(),s)._subtract(c),this.project(r.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,l){if(!l)return r;var c=this.project(r,s),f=this.getSize().divideBy(2),_=new q(c.subtract(f),c.add(f)),k=this._getBoundsOffset(_,l,s);return Math.abs(k.x)<=1&&Math.abs(k.y)<=1?r:this.unproject(c.add(k),s)},_limitOffset:function(r,s){if(!s)return r;var l=this.getPixelBounds(),c=new q(l.min.add(r),l.max.add(r));return r.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(r,s,l){var c=oe(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(r.min),_=c.max.subtract(r.max),k=this._rebound(f.x,-_.x),b=this._rebound(f.y,-_.y);return new M(k,b)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),l=this.getMaxZoom(),c=W.any3d?this.options.zoomSnap:1;return c&&(r=Math.round(r/c)*c),Math.max(s,Math.min(l,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var l=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var r=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var l=Da,c=this._proxy.style[l];Dn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ve(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();Dn(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(r)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(re(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function q_(r,s){return new ie(r,s)}var kt=Ye.extend({options:{position:"topright"},initialize:function(r){T(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),l=this.getPosition(),c=r._controlCorners[l];return Y(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(ve(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),_i=function(r){return new kt(r)};ie.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",l=this._controlContainer=le("div",s+"control-container",this._container);function c(f,_){var k=s+f+" "+s+_;r[f+_]=le("div",k,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)ve(this._controlCorners[r]);ve(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Nh=kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(r,s,l){T(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in r)this._addLayer(r[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return kt.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(d(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=le("div",r),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),gi(s),Ja(s);var c=this._section=le("section",r+"-list");l&&(this._map.on("click",this.collapse,this),J(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=le("a",r+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),J(f,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){De(_),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=le("div",r+"-base",c),this._separator=le("div",r+"-separator",c),this._overlaysList=le("div",r+"-overlays",c),s.appendChild(c)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&d(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,l){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Oo(this._baseLayersList),Oo(this._overlaysList),this._layerControlInputs=[];var r,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,r=r||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(r=r&&f>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(d(r.target)),l=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(r,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(r){var s=document.createElement("label"),l=this._map.hasLayer(r.layer),c;r.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+d(this),l),this._layerControlInputs.push(c),c.layerId=d(r.layer),J(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+r.name;var _=document.createElement("span");s.appendChild(_),_.appendChild(c),_.appendChild(f);var k=r.overlay?this._overlaysList:this._baseLayersList;return k.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var _=r.length-1;_>=0;_--)s=r[_],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])&&this._map.removeLayer(f[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,l,c=this._map.getZoom(),f=r.length-1;f>=0;f--)s=r[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,J(r,"click",De),this.expand();var s=this;setTimeout(function(){he(r,"click",De),s._preventClick=!1})}}),K_=function(r,s,l){return new Nh(r,s,l)},Ya=kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",l=le("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,l,c,f){var _=le("a",l,c);return _.innerHTML=r,_.href="#",_.title=s,_.setAttribute("role","button"),_.setAttribute("aria-label",s),gi(_),J(_,"click",Un),J(_,"click",f,this),J(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";ke(this._zoomInButton,s),ke(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Y(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Y(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ya,this.addControl(this.zoomControl))});var G_=function(r){return new Ya(r)},Rh=kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",l=le("div",s),c=this.options;return this._addScales(c,s+"-line",l),r.on(c.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),l},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,l){r.metric&&(this._mScale=le("div",s,l)),r.imperial&&(this._iScale=le("div",s,l))},_update:function(){var r=this._map,s=r.getSize().y/2,l=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/r)},_updateImperial:function(r){var s=r*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(r,s,l){r.style.width=Math.round(this.options.maxWidth*l)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),l=r/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),J_=function(r){return new Rh(r)},Q_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Xa=kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(W.inlineSvg?Q_+" ":"")+"Leaflet</a>"},initialize:function(r){T(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=le("div","leaflet-control-attribution"),gi(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),r.length&&l.push(r.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new Xa().addTo(this)});var Y_=function(r){return new Xa(r)};kt.Layers=Nh,kt.Zoom=Ya,kt.Scale=Rh,kt.Attribution=Xa,_i.layers=K_,_i.zoom=G_,_i.scale=J_,_i.attribution=Y_;var Rt=Ye.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Rt.addTo=function(r,s){return r.addHandler(s,this),this};var X_={Events:ze},zh=W.touch?"touchstart mousedown":"mousedown",cn=Ht.extend({options:{clickTolerance:3},initialize:function(r,s,l,c){T(this,c),this._element=r,this._dragStartTarget=s||r,this._preventOutline=l},enable:function(){this._enabled||(J(this._dragStartTarget,zh,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(cn._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,zh,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Ba(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){cn._dragging===this&&this.finishDrag();return}if(!(cn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(cn._dragging=this,this._preventOutline&&Ha(this._element),Fa(),fi(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,l=Ch(this._element);this._startPoint=new M(s.clientX,s.clientY),this._startPos=Bn(this._element),this._parentScale=Va(l);var c=r.type==="mousedown";J(document,c?"mousemove":"touchmove",this._onMove,this),J(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,l=new M(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,De(r),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Ee(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Za(),pi();var s=this._moved&&this._moving;this._moving=!1,cn._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Dh(r,s,l){var c,f=[1,4,2,8],_,k,b,j,N,U,V,X;for(_=0,U=r.length;_<U;_++)r[_]._code=Fn(r[_],s);for(b=0;b<4;b++){for(V=f[b],c=[],_=0,U=r.length,k=U-1;_<U;k=_++)j=r[_],N=r[k],j._code&V?N._code&V||(X=No(N,j,V,s,l),X._code=Fn(X,s),c.push(X)):(N._code&V&&(X=No(N,j,V,s,l),X._code=Fn(X,s),c.push(X)),c.push(j));r=c}return r}function Bh(r,s){var l,c,f,_,k,b,j,N,U;if(!r||r.length===0)throw new Error("latlngs not passed");mt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var V=G([0,0]),X=ce(r),Ve=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());Ve<1700&&(V=el(r));var Me=r.length,gt=[];for(l=0;l<Me;l++){var et=G(r[l]);gt.push(s.project(G([et.lat-V.lat,et.lng-V.lng])))}for(b=j=N=0,l=0,c=Me-1;l<Me;c=l++)f=gt[l],_=gt[c],k=f.y*_.x-_.y*f.x,j+=(f.x+_.x)*k,N+=(f.y+_.y)*k,b+=k*3;b===0?U=gt[0]:U=[j/b,N/b];var vr=s.unproject($(U));return G([vr.lat+V.lat,vr.lng+V.lng])}function el(r){for(var s=0,l=0,c=0,f=0;f<r.length;f++){var _=G(r[f]);s+=_.lat,l+=_.lng,c++}return G([s/c,l/c])}var ev={__proto__:null,clipPolygon:Dh,polygonCenter:Bh,centroid:el};function $h(r,s){if(!s||!r.length)return r.slice();var l=s*s;return r=rv(r,l),r=nv(r,l),r}function Uh(r,s,l){return Math.sqrt(vi(r,s,l,!0))}function tv(r,s,l){return vi(r,s,l)}function nv(r,s){var l=r.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,tl(r,f,s,0,l-1);var _,k=[];for(_=0;_<l;_++)f[_]&&k.push(r[_]);return k}function tl(r,s,l,c,f){var _=0,k,b,j;for(b=c+1;b<=f-1;b++)j=vi(r[b],r[c],r[f],!0),j>_&&(k=b,_=j);_>l&&(s[k]=1,tl(r,s,l,c,k),tl(r,s,l,k,f))}function rv(r,s){for(var l=[r[0]],c=1,f=0,_=r.length;c<_;c++)iv(r[c],r[f])>s&&(l.push(r[c]),f=c);return f<_-1&&l.push(r[_-1]),l}var Fh;function Zh(r,s,l,c,f){var _=c?Fh:Fn(r,l),k=Fn(s,l),b,j,N;for(Fh=k;;){if(!(_|k))return[r,s];if(_&k)return!1;b=_||k,j=No(r,s,b,l,f),N=Fn(j,l),b===_?(r=j,_=N):(s=j,k=N)}}function No(r,s,l,c,f){var _=s.x-r.x,k=s.y-r.y,b=c.min,j=c.max,N,U;return l&8?(N=r.x+_*(j.y-r.y)/k,U=j.y):l&4?(N=r.x+_*(b.y-r.y)/k,U=b.y):l&2?(N=j.x,U=r.y+k*(j.x-r.x)/_):l&1&&(N=b.x,U=r.y+k*(b.x-r.x)/_),new M(N,U,f)}function Fn(r,s){var l=0;return r.x<s.min.x?l|=1:r.x>s.max.x&&(l|=2),r.y<s.min.y?l|=4:r.y>s.max.y&&(l|=8),l}function iv(r,s){var l=s.x-r.x,c=s.y-r.y;return l*l+c*c}function vi(r,s,l,c){var f=s.x,_=s.y,k=l.x-f,b=l.y-_,j=k*k+b*b,N;return j>0&&(N=((r.x-f)*k+(r.y-_)*b)/j,N>1?(f=l.x,_=l.y):N>0&&(f+=k*N,_+=b*N)),k=r.x-f,b=r.y-_,c?k*k+b*b:new M(f,_)}function mt(r){return!w(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Wh(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mt(r)}function Hh(r,s){var l,c,f,_,k,b,j,N;if(!r||r.length===0)throw new Error("latlngs not passed");mt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var U=G([0,0]),V=ce(r),X=V.getNorthWest().distanceTo(V.getSouthWest())*V.getNorthEast().distanceTo(V.getNorthWest());X<1700&&(U=el(r));var Ve=r.length,Me=[];for(l=0;l<Ve;l++){var gt=G(r[l]);Me.push(s.project(G([gt.lat-U.lat,gt.lng-U.lng])))}for(l=0,c=0;l<Ve-1;l++)c+=Me[l].distanceTo(Me[l+1])/2;if(c===0)N=Me[0];else for(l=0,_=0;l<Ve-1;l++)if(k=Me[l],b=Me[l+1],f=k.distanceTo(b),_+=f,_>c){j=(_-c)/f,N=[b.x-j*(b.x-k.x),b.y-j*(b.y-k.y)];break}var et=s.unproject($(N));return G([et.lat+U.lat,et.lng+U.lng])}var ov={__proto__:null,simplify:$h,pointToSegmentDistance:Uh,closestPointOnSegment:tv,clipSegment:Zh,_getEdgeIntersection:No,_getBitCode:Fn,_sqClosestPointOnSegment:vi,isFlat:mt,_flat:Wh,polylineCenter:Hh},nl={project:function(r){return new M(r.lng,r.lat)},unproject:function(r){return new ae(r.y,r.x)},bounds:new q([-180,-90],[180,90])},rl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,l=this.R,c=r.lat*s,f=this.R_MINOR/l,_=Math.sqrt(1-f*f),k=_*Math.sin(c),b=Math.tan(Math.PI/4-c/2)/Math.pow((1-k)/(1+k),_/2);return c=-l*Math.log(Math.max(b,1e-10)),new M(r.lng*s*l,c)},unproject:function(r){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),_=Math.exp(-r.y/l),k=Math.PI/2-2*Math.atan(_),b=0,j=.1,N;b<15&&Math.abs(j)>1e-7;b++)N=f*Math.sin(k),N=Math.pow((1-N)/(1+N),f/2),j=Math.PI/2-2*Math.atan(_*N)-k,k+=j;return new ae(k*s,r.x*s/l)}},sv={__proto__:null,LonLat:nl,Mercator:rl,SphericalMercator:Ca},av=o({},un,{code:"EPSG:3395",projection:rl,transformation:function(){var r=.5/(Math.PI*rl.R);return ui(r,.5,-r,.5)}()}),Vh=o({},un,{code:"EPSG:4326",projection:nl,transformation:ui(1/180,1,-1/180,.5)}),lv=o({},Xe,{projection:nl,transformation:ui(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var l=s.lng-r.lng,c=s.lat-r.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Xe.Earth=un,Xe.EPSG3395=av,Xe.EPSG3857=ja,Xe.EPSG900913=p_,Xe.EPSG4326=Vh,Xe.Simple=lv;var Pt=Ht.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[d(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[d(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=d(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=d(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return d(r)in this._layers},eachLayer:function(r,s){for(var l in this._layers)r.call(s,this._layers[l]);return this},_addLayers:function(r){r=r?w(r)?r:[r]:[];for(var s=0,l=r.length;s<l;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[d(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=d(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;r=f.minZoom===void 0?r:Math.min(r,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fr=Pt.extend({initialize:function(r,s){T(this,s),this._layers={};var l,c;if(r)for(l=0,c=r.length;l<c;l++)this.addLayer(r[l])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[r]&&c[r].apply(c,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var l in this._layers)r.call(s,this._layers[l]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return d(r)}}),uv=function(r,s){return new fr(r,s)},Vt=fr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),fr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),fr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ce;for(var s in this._layers){var l=this._layers[s];r.extend(l.getBounds?l.getBounds():l.getLatLng())}return r}}),cv=function(r,s){return new Vt(r,s)},pr=Ye.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){T(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var l=this._getIconUrl(r);if(!l){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(r,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=$(c),_=$(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(l.className||""),_&&(r.style.marginLeft=-_.x+"px",r.style.marginTop=-_.y+"px"),f&&(r.style.width=f.x+"px",r.style.height=f.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return W.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function hv(r){return new pr(r)}var yi=pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof yi.imagePath!="string"&&(yi.imagePath=this._detectIconPath()),(this.options.imagePath||yi.imagePath)+pr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(l,c,f){var _=c.exec(l);return _&&_[f]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=le("div","leaflet-default-icon-path",document.body),s=di(r,"background-image")||di(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),qh=Rt.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new cn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,_=Bn(s._icon),k=l.getPixelBounds(),b=l.getPixelOrigin(),j=oe(k.min._subtract(b).add(f),k.max._subtract(b).subtract(f));if(!j.contains(_)){var N=$((Math.max(j.max.x,_.x)-j.max.x)/(k.max.x-j.max.x)-(Math.min(j.min.x,_.x)-j.min.x)/(k.min.x-j.min.x),(Math.max(j.max.y,_.y)-j.max.y)/(k.max.y-j.max.y)-(Math.min(j.min.y,_.y)-j.min.y)/(k.min.y-j.min.y)).multiplyBy(c);l.panBy(N,{animate:!1}),this._draggable._newPos._add(N),this._draggable._startPos._add(N),Ee(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=re(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(ge(this._panRequest),this._panRequest=re(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,l=s._shadow,c=Bn(s._icon),f=s._map.layerPointToLatLng(c);l&&Ee(l,c),s._latlng=f,r.latlng=f,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){ge(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ro=Pt.extend({options:{icon:new yi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){T(this,s),this._latlng=G(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=G(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=r.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,r.title&&(l.title=r.title),l.tagName==="IMG"&&(l.alt=r.alt||"")),Y(l,s),r.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&J(l,"focus",this._panOnFocus,this);var f=r.icon.createShadow(this._shadow),_=!1;f!==this._shadow&&(this._removeShadow(),_=!0),f&&(Y(f,s),f.alt=""),this._shadow=f,r.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&_&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),ve(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&ve(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Ee(this._icon,r),this._shadow&&Ee(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),qh)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new qh(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&pt(this._icon,r),this._shadow&&pt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,l=s.iconSize?$(s.iconSize):$(0,0),c=s.iconAnchor?$(s.iconAnchor):$(0,0);r.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function dv(r,s){return new Ro(r,s)}var hn=Pt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return T(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),zo=hn.extend({options:{fill:!0,radius:10},initialize:function(r,s){T(this,s),this._latlng=G(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=G(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return hn.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,l=this._clickTolerance(),c=[r+l,s+l];this._pxBounds=new q(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function fv(r,s){return new zo(r,s)}var il=zo.extend({initialize:function(r,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),T(this,s),this._latlng=G(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:hn.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===un.distance){var f=Math.PI/180,_=this._mRadius/un.R/f,k=l.project([s+_,r]),b=l.project([s-_,r]),j=k.add(b).divideBy(2),N=l.unproject(j).lat,U=Math.acos((Math.cos(_*f)-Math.sin(s*f)*Math.sin(N*f))/(Math.cos(s*f)*Math.cos(N*f)))/f;(isNaN(U)||U===0)&&(U=_/Math.cos(Math.PI/180*s)),this._point=j.subtract(l.getPixelOrigin()),this._radius=isNaN(U)?0:j.x-l.project([N,r-U]).x,this._radiusY=j.y-k.y}else{var V=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(V).x}this._updateBounds()}});function pv(r,s,l){return new il(r,s,l)}var qt=hn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){T(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,l=null,c=vi,f,_,k=0,b=this._parts.length;k<b;k++)for(var j=this._parts[k],N=1,U=j.length;N<U;N++){f=j[N-1],_=j[N];var V=c(r,f,_,!0);V<s&&(s=V,l=c(r,f,_))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Hh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=G(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ce,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],l=mt(r),c=0,f=r.length;c<f;c++)l?(s[c]=G(r[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(r[c]);return s},_project:function(){var r=new q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new M(r,r);this._rawPxBounds&&(this._pxBounds=new q([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,l){var c=r[0]instanceof ae,f=r.length,_,k;if(c){for(k=[],_=0;_<f;_++)k[_]=this._map.latLngToLayerPoint(r[_]),l.extend(k[_]);s.push(k)}else for(_=0;_<f;_++)this._projectLatlngs(r[_],s,l)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,_,k,b,j;for(l=0,f=0,_=this._rings.length;l<_;l++)for(j=this._rings[l],c=0,k=j.length;c<k-1;c++)b=Zh(j[c],j[c+1],r,c,!0),b&&(s[f]=s[f]||[],s[f].push(b[0]),(b[1]!==j[c+1]||c===k-2)&&(s[f].push(b[1]),f++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,l=0,c=r.length;l<c;l++)r[l]=$h(r[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var l,c,f,_,k,b,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(l=0,_=this._parts.length;l<_;l++)for(b=this._parts[l],c=0,k=b.length,f=k-1;c<k;f=c++)if(!(!s&&c===0)&&Uh(r,b[f],b[c])<=j)return!0;return!1}});function mv(r,s){return new qt(r,s)}qt._flat=Wh;var mr=qt.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Bh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=qt.prototype._convertLatLngs.call(this,r),l=s.length;return l>=2&&s[0]instanceof ae&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(r){qt.prototype._setLatLngs.call(this,r),mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,l=new M(s,s);if(r=new q(r.min.subtract(l),r.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,_;c<f;c++)_=Dh(this._rings[c],r,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,l,c,f,_,k,b,j,N;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(_=0,j=this._parts.length;_<j;_++)for(l=this._parts[_],k=0,N=l.length,b=N-1;k<N;b=k++)c=l[k],f=l[b],c.y>r.y!=f.y>r.y&&r.x<(f.x-c.x)*(r.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||qt.prototype._containsPoint.call(this,r,!0)}});function gv(r,s){return new mr(r,s)}var Kt=Vt.extend({initialize:function(r,s){T(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=w(r)?r:r.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var _=this.options;if(_.filter&&!_.filter(r))return this;var k=Do(r,_);return k?(k.feature=Uo(r),k.defaultOptions=k.options,this.resetStyle(k),_.onEachFeature&&_.onEachFeature(r,k),this.addLayer(k)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function Do(r,s){var l=r.type==="Feature"?r.geometry:r,c=l?l.coordinates:null,f=[],_=s&&s.pointToLayer,k=s&&s.coordsToLatLng||ol,b,j,N,U;if(!c&&!l)return null;switch(l.type){case"Point":return b=k(c),Kh(_,r,b,s);case"MultiPoint":for(N=0,U=c.length;N<U;N++)b=k(c[N]),f.push(Kh(_,r,b,s));return new Vt(f);case"LineString":case"MultiLineString":return j=Bo(c,l.type==="LineString"?0:1,k),new qt(j,s);case"Polygon":case"MultiPolygon":return j=Bo(c,l.type==="Polygon"?1:2,k),new mr(j,s);case"GeometryCollection":for(N=0,U=l.geometries.length;N<U;N++){var V=Do({geometry:l.geometries[N],type:"Feature",properties:r.properties},s);V&&f.push(V)}return new Vt(f);case"FeatureCollection":for(N=0,U=l.features.length;N<U;N++){var X=Do(l.features[N],s);X&&f.push(X)}return new Vt(f);default:throw new Error("Invalid GeoJSON object.")}}function Kh(r,s,l,c){return r?r(s,l):new Ro(l,c&&c.markersInheritOptions&&c)}function ol(r){return new ae(r[1],r[0],r[2])}function Bo(r,s,l){for(var c=[],f=0,_=r.length,k;f<_;f++)k=s?Bo(r[f],s-1,l):(l||ol)(r[f]),c.push(k);return c}function sl(r,s){return r=G(r),r.alt!==void 0?[v(r.lng,s),v(r.lat,s),v(r.alt,s)]:[v(r.lng,s),v(r.lat,s)]}function $o(r,s,l,c){for(var f=[],_=0,k=r.length;_<k;_++)f.push(s?$o(r[_],mt(r[_])?0:s-1,l,c):sl(r[_],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function gr(r,s){return r.feature?o({},r.feature,{geometry:s}):Uo(s)}function Uo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var al={toGeoJSON:function(r){return gr(this,{type:"Point",coordinates:sl(this.getLatLng(),r)})}};Ro.include(al),il.include(al),zo.include(al),qt.include({toGeoJSON:function(r){var s=!mt(this._latlngs),l=$o(this._latlngs,s?1:0,!1,r);return gr(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),mr.include({toGeoJSON:function(r){var s=!mt(this._latlngs),l=s&&!mt(this._latlngs[0]),c=$o(this._latlngs,l?2:s?1:0,!0,r);return s||(c=[c]),gr(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),fr.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(r).geometry.coordinates)}),gr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var _=f.toGeoJSON(r);if(l)c.push(_.geometry);else{var k=Uo(_);k.type==="FeatureCollection"?c.push.apply(c,k.features):c.push(k)}}}),l?gr(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Gh(r,s){return new Kt(r,s)}var _v=Gh,Fo=Pt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,l){this._url=r,this._bounds=ce(s),T(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){ve(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&hr(this._image),this},bringToBack:function(){return this._map&&dr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ce(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:le("img");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=g,s.onmousemove=g,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Dn(this._image,l,s)},_reset:function(){var r=this._image,s=new q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();Ee(r,s.min),r.style.width=l.x+"px",r.style.height=l.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),vv=function(r,s,l){return new Fo(r,s,l)},Jh=Fo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:le("video");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=g,s.onmousemove=g,s.onloadeddata=u(this.fire,this,"load"),r){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}w(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var k=le("source");k.src=this._url[_],s.appendChild(k)}}});function yv(r,s,l){return new Jh(r,s,l)}var Qh=Fo.extend({_initImage:function(){var r=this._image=this._url;Y(r,"leaflet-image-layer"),this._zoomAnimated&&Y(r,"leaflet-zoom-animated"),this.options.className&&Y(r,this.options.className),r.onselectstart=g,r.onmousemove=g}});function wv(r,s,l){return new Qh(r,s,l)}var zt=Pt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof ae||w(r))?(this._latlng=G(r),T(this,s)):(T(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&pt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(u(ve,void 0,this._container),200)):ve(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=G(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hr(this._container),this},bringToBack:function(){return this._map&&dr(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof Vt){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=$(this.options.offset),l=this._getAnchor();this._zoomAnimated?Ee(this._container,r.add(l)):s=s.add(r).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(r,s,l,c){var f=s;return f instanceof r||(f=new r(c).setContent(s)),l&&f.setLatLng(l),f}}),Pt.include({_initOverlay:function(r,s,l,c){var f=l;return f instanceof r?(T(f,c),f._source=this):(f=s&&!c?s:new r(c,this),f.setContent(l)),f}});var Zo=zt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,zt.prototype.openOn.call(this,r)},onAdd:function(r){zt.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof hn||this._source.on("preclick",$n))},onRemove:function(r){zt.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof hn||this._source.off("preclick",$n))},getEvents:function(){var r=zt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=le("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=le("div",r+"-content-wrapper",s);if(this._contentNode=le("div",r+"-content",l),gi(s),Ja(this._contentNode),J(s,"contextmenu",$n),this._tipContainer=le("div",r+"-tip-container",s),this._tip=le("div",r+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=le("a",r+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',J(c,"click",function(f){De(f),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var l=r.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=r.offsetHeight,f=this.options.maxHeight,_="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",Y(r,_)):ke(r,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),l=this._getAnchor();Ee(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(di(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new M(this._containerLeft,-l-this._containerBottom);f._add(Bn(this._container));var _=r.layerPointToContainerPoint(f),k=$(this.options.autoPanPadding),b=$(this.options.autoPanPaddingTopLeft||k),j=$(this.options.autoPanPaddingBottomRight||k),N=r.getSize(),U=0,V=0;_.x+c+j.x>N.x&&(U=_.x+c-N.x+j.x),_.x-U-b.x<0&&(U=_.x-b.x),_.y+l+j.y>N.y&&(V=_.y+l-N.y+j.y),_.y-V-b.y<0&&(V=_.y-b.y),(U||V)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([U,V]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),xv=function(r,s){return new Zo(r,s)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(r,s,l){return this._initOverlay(Zo,r,s,l).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),Pt.include({bindPopup:function(r,s){return this._popup=this._initOverlay(Zo,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof Vt||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Un(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof hn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Wo=zt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){zt.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){zt.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=zt.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,l,c=this._map,f=this._container,_=c.latLngToContainerPoint(c.getCenter()),k=c.layerPointToContainerPoint(r),b=this.options.direction,j=f.offsetWidth,N=f.offsetHeight,U=$(this.options.offset),V=this._getAnchor();b==="top"?(s=j/2,l=N):b==="bottom"?(s=j/2,l=0):b==="center"?(s=j/2,l=N/2):b==="right"?(s=0,l=N/2):b==="left"?(s=j,l=N/2):k.x<_.x?(b="right",s=0,l=N/2):(b="left",s=j+(U.x+V.x)*2,l=N/2),r=r.subtract($(s,l,!0)).add(U).add(V),ke(f,"leaflet-tooltip-right"),ke(f,"leaflet-tooltip-left"),ke(f,"leaflet-tooltip-top"),ke(f,"leaflet-tooltip-bottom"),Y(f,"leaflet-tooltip-"+b),Ee(f,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&pt(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Sv=function(r,s){return new Wo(r,s)};ie.include({openTooltip:function(r,s,l){return this._initOverlay(Wo,r,s,l).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),Pt.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wo,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof Vt||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(J(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),J(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,l,c;this._tooltip.options.sticky&&r.originalEvent&&(l=this._map.mouseEventToContainerPoint(r.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Yh=pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),l=this.options;if(l.html instanceof Element?(Oo(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=$(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function kv(r){return new Yh(r)}pr.Default=yi;var wi=Pt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:W.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){T(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),ve(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof M?r:new M(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,l=-r(-1/0,1/0),c=0,f=s.length,_;c<f;c++)_=s[c].style.zIndex,s[c]!==this._container&&_&&(l=r(l,+_));isFinite(l)&&(this.options.zIndex=l+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!W.ielt9){pt(this._container,this.options.opacity);var r=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var _=Math.min(1,(r-f.loaded)/200);pt(f.el,_),_<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(ge(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===r?(this._levels[l].el.style.zIndex=s-Math.abs(r-l),this._onUpdateLevel(l)):(ve(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[r],f=this._map;return c||(c=this._levels[r]={},c.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),r).round(),c.zoom=r,this._setZoomTransform(c,f.getCenter(),f.getZoom()),g(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var r,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)ve(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,l,c){var f=Math.floor(r/2),_=Math.floor(s/2),k=l-1,b=new M(+f,+_);b.z=+k;var j=this._tileCoordsToKey(b),N=this._tiles[j];return N&&N.active?(N.retain=!0,!0):(N&&N.loaded&&(N.retain=!0),k>c?this._retainParent(f,_,k,c):!1)},_retainChildren:function(r,s,l,c){for(var f=2*r;f<2*r+2;f++)for(var _=2*s;_<2*s+2;_++){var k=new M(f,_);k.z=l+1;var b=this._tileCoordsToKey(k),j=this._tiles[b];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);l+1<c&&this._retainChildren(f,_,l+1,c)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var _=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||_)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(r),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],r,s)},_setZoomTransform:function(r,s,l){var c=this._map.getZoomScale(l,r.zoom),f=r.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();W.any3d?Dn(r.el,f,c):Ee(r.el,f)},_resetGrid:function(){var r=this._map,s=r.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(r.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(r.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(r,this._tileZoom).floor(),_=s.getSize().divideBy(c*2);return new q(f.subtract(_),f.add(_))},_update:function(r){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(r),f=this._pxBoundsToTileRange(c),_=f.getCenter(),k=[],b=this.options.keepBuffer,j=new q(f.getBottomLeft().subtract([b,-b]),f.getTopRight().add([b,-b]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var N in this._tiles){var U=this._tiles[N].coords;(U.z!==this._tileZoom||!j.contains(new M(U.x,U.y)))&&(this._tiles[N].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(r,l);return}for(var V=f.min.y;V<=f.max.y;V++)for(var X=f.min.x;X<=f.max.x;X++){var Ve=new M(X,V);if(Ve.z=this._tileZoom,!!this._isValidTile(Ve)){var Me=this._tiles[this._tileCoordsToKey(Ve)];Me?Me.current=!0:k.push(Ve)}}if(k.sort(function(et,vr){return et.distanceTo(_)-vr.distanceTo(_)}),k.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gt=document.createDocumentFragment();for(X=0;X<k.length;X++)this._addTile(k[X],gt);this._level.el.appendChild(gt)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(r.x<l.min.x||r.x>l.max.x)||!s.wrapLat&&(r.y<l.min.y||r.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(r);return ce(this.options.bounds).overlaps(c)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,l=this.getTileSize(),c=r.scaleBy(l),f=c.add(l),_=s.unproject(c,r.z),k=s.unproject(f,r.z);return[_,k]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),l=new Ce(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),l=new M(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(r){var s=this._tiles[r];s&&(ve(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Y(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=g,r.onmousemove=g,W.ielt9&&this.options.opacity<1&&pt(r,this.options.opacity)},_addTile:function(r,s){var l=this._getTilePos(r),c=this._tileCoordsToKey(r),f=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(f),this.createTile.length<2&&re(u(this._tileReady,this,r,null,f)),Ee(f,l),this._tiles[c]={el:f,coords:r,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:r})},_tileReady:function(r,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:r});var c=this._tileCoordsToKey(r);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(pt(l.el,0),ge(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(Y(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),W.ielt9||!this._map._fadeAnimated?re(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new M(this._wrapX?m(r.x,this._wrapX):r.x,this._wrapY?m(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new q(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function Pv(r){return new wi(r)}var _r=wi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=T(this,s),s.detectRetina&&W.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var l=document.createElement("img");return J(l,"load",u(this._tileOnLoad,this,s,l)),J(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(r),l},getTileUrl:function(r){var s={r:W.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(r,s){W.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),r(l,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(r=s-r),r+c},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=g,s.onerror=g,!s.complete)){s.src=R;var l=this._tiles[r].coords;ve(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",R),wi.prototype._removeTile.call(this,r)},_tileReady:function(r,s,l){if(!(!this._map||l&&l.getAttribute("src")===R))return wi.prototype._tileReady.call(this,r,s,l)}});function Xh(r,s){return new _r(r,s)}var ed=_r.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=T(this,s);var f=s.detectRetina&&W.retina?2:1,_=this.getTileSize();l.width=_.x*f,l.height=_.y*f,this.wmsParams=l},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,_r.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),l=this._crs,c=oe(l.project(s[0]),l.project(s[1])),f=c.min,_=c.max,k=(this._wmsVersion>=1.3&&this._crs===Vh?[f.y,f.x,_.y,_.x]:[f.x,f.y,_.x,_.y]).join(","),b=_r.prototype.getTileUrl.call(this,r);return b+O(this.wmsParams,b,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+k},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function Ev(r,s){return new ed(r,s)}_r.WMS=ed,Xh.wms=Ev;var Gt=Pt.extend({options:{padding:.1},initialize:function(r){T(this,r),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),_=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(r,s));W.any3d?Dn(this._container,_,l):Ee(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new q(l,l.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),td=Gt.extend({options:{tolerance:0},getEvents:function(){var r=Gt.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Gt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");J(r,"mousemove",this._onMouseMove,this),J(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),J(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){ge(this._redrawRequest),delete this._ctx,ve(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gt.prototype._update.call(this);var r=this._bounds,s=this._container,l=r.getSize(),c=W.retina?2:1;Ee(s,r.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",W.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Gt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[d(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete r._order,delete this._layers[d(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}r.options._dashArray=l}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||re(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new q,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)r=c.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var l,c,f,_,k=r._parts,b=k.length,j=this._ctx;if(b){for(j.beginPath(),l=0;l<b;l++){for(c=0,f=k[l].length;c<f;c++)_=k[l][c],j[c?"lineTo":"moveTo"](_.x,_.y);s&&j.closePath()}this._fillStroke(j,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,l=this._ctx,c=Math.max(Math.round(r._radius),1),f=(Math.max(Math.round(r._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,r)}},_fillStroke:function(r,s){var l=s.options;l.fill&&(r.globalAlpha=l.fillOpacity,r.fillStyle=l.fillColor||l.color,r.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=l.opacity,r.lineWidth=l.weight,r.strokeStyle=l.color,r.lineCap=l.lineCap,r.lineJoin=l.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(ke(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(r),c&&(Y(this._container,"leaflet-interactive"),this._fireEvent([c],r,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,l){this._map._fireDOMEvent(s,l||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function nd(r){return W.canvas?new td(r):null}var xi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Tv={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Gt.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=xi("shape");Y(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=xi("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;ve(s),r.removeInteractiveTarget(s),delete this._layers[d(r)]},_updateStyle:function(r){var s=r._stroke,l=r._fill,c=r.options,f=r._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=r._stroke=xi("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=w(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),r._stroke=null),c.fill?(l||(l=r._fill=xi("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),l=Math.round(r._radius),c=Math.round(r._radiusY||l);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){hr(r._container)},_bringToBack:function(r){dr(r._container)}},Ho=W.vml?xi:sh,Si=Gt.extend({_initContainer:function(){this._container=Ho("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ho("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ve(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Gt.prototype._update.call(this);var r=this._bounds,s=r.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),Ee(l,r.min),l.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=Ho("path");r.options.className&&Y(s,r.options.className),r.options.interactive&&Y(s,"leaflet-interactive"),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){ve(r._path),r.removeInteractiveTarget(r._path),delete this._layers[d(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,l=r.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,ah(r._parts,s))},_updateCircle:function(r){var s=r._point,l=Math.max(Math.round(r._radius),1),c=Math.max(Math.round(r._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",_=r._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(r,_)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){hr(r._path)},_bringToBack:function(r){dr(r._path)}});W.vml&&Si.include(Tv);function rd(r){return W.svg||W.vml?new Si(r):null}ie.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&nd(r)||rd(r)}});var id=mr.extend({initialize:function(r,s){mr.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ce(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function bv(r,s){return new id(r,s)}Si.create=Ho,Si.pointsToPath=ah,Kt.geometryToLayer=Do,Kt.coordsToLatLng=ol,Kt.coordsToLatLngs=Bo,Kt.latLngToCoords=sl,Kt.latLngsToCoords=$o,Kt.getFeature=gr,Kt.asFeature=Uo,ie.mergeOptions({boxZoom:!0});var od=Rt.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){J(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ve(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fi(),Fa(),this._startPoint=this._map.mouseEventToContainerPoint(r),J(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new q(this._point,this._startPoint),l=s.getSize();Ee(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(ve(this._box),ke(this._container,"leaflet-crosshair")),pi(),Za(),he(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",od),ie.mergeOptions({doubleClickZoom:!0});var sd=Rt.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=r.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(r.containerPoint,f)}});ie.addInitHook("addHandler","doubleClickZoom",sd),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ad=Rt.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new cn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ce(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%r+s-l,_=(c+s+l)%r-s-l,k=Math.abs(f+l)<Math.abs(_+l)?f:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=k},_onDragEnd:function(r){var s=this._map,l=s.options,c=!l.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,k=l.easeLinearity,b=f.multiplyBy(k/_),j=b.distanceTo([0,0]),N=Math.min(l.inertiaMaxSpeed,j),U=b.multiplyBy(N/j),V=N/(l.inertiaDeceleration*k),X=U.multiplyBy(-V/2).round();!X.x&&!X.y?s.fire("moveend"):(X=s._limitOffset(X,s.options.maxBounds),re(function(){s.panBy(X,{duration:V,easeLinearity:k,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",ad),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ld=Rt.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),J(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,l=r.scrollTop||s.scrollTop,c=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*r,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[r,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,r];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=r;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-r},_addHooks:function(){J(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],r.shiftKey&&(c=$(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset($(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Un(r)}}});ie.addInitHook("addHandler","keyboard",ld),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ud=Rt.extend({addHooks:function(){J(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=Ah(r),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),Un(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),l=this._map.options.zoomSnap||0;r._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=l?Math.ceil(f/l)*l:f,k=r._limitZoom(s+(this._delta>0?_:-_))-s;this._delta=0,this._startTime=null,k&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+k):r.setZoomAround(this._lastMousePos,s+k))}});ie.addInitHook("addHandler","scrollWheelZoom",ud);var Lv=600;ie.mergeOptions({tapHold:W.touchNative&&W.safari&&W.mobile,tapTolerance:15});var cd=Rt.extend({addHooks:function(){J(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new M(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(J(document,"touchend",De),J(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Lv),J(document,"touchend touchcancel contextmenu",this._cancel,this),J(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){he(document,"touchend",De),he(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new M(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var l=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});ie.addInitHook("addHandler","tapHold",cd),ie.mergeOptions({touchZoom:W.touch,bounceAtZoomLimits:!0});var hd=Rt.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),J(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(r.touches[0]),c=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),J(document,"touchmove",this._onTouchMove,this),J(document,"touchend touchcancel",this._onTouchEnd,this),De(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(r.touches[0]),c=s.mouseEventToContainerPoint(r.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var _=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&_.x===0&&_.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),ge(this._animRequest);var k=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=re(k,this,!0),De(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,ge(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",hd),ie.BoxZoom=od,ie.DoubleClickZoom=sd,ie.Drag=ad,ie.Keyboard=ld,ie.ScrollWheelZoom=ud,ie.TapHold=cd,ie.TouchZoom=hd,n.Bounds=q,n.Browser=W,n.CRS=Xe,n.Canvas=td,n.Circle=il,n.CircleMarker=zo,n.Class=Ye,n.Control=kt,n.DivIcon=Yh,n.DivOverlay=zt,n.DomEvent=V_,n.DomUtil=W_,n.Draggable=cn,n.Evented=Ht,n.FeatureGroup=Vt,n.GeoJSON=Kt,n.GridLayer=wi,n.Handler=Rt,n.Icon=pr,n.ImageOverlay=Fo,n.LatLng=ae,n.LatLngBounds=Ce,n.Layer=Pt,n.LayerGroup=fr,n.LineUtil=ov,n.Map=ie,n.Marker=Ro,n.Mixin=X_,n.Path=hn,n.Point=M,n.PolyUtil=ev,n.Polygon=mr,n.Polyline=qt,n.Popup=Zo,n.PosAnimation=Mh,n.Projection=sv,n.Rectangle=id,n.Renderer=Gt,n.SVG=Si,n.SVGOverlay=Qh,n.TileLayer=_r,n.Tooltip=Wo,n.Transformation=Oa,n.Util=Wt,n.VideoOverlay=Jh,n.bind=u,n.bounds=oe,n.canvas=nd,n.circle=pv,n.circleMarker=fv,n.control=_i,n.divIcon=kv,n.extend=o,n.featureGroup=cv,n.geoJSON=Gh,n.geoJson=_v,n.gridLayer=Pv,n.icon=hv,n.imageOverlay=vv,n.latLng=G,n.latLngBounds=ce,n.layerGroup=uv,n.map=q_,n.marker=dv,n.point=$,n.polygon=gv,n.polyline=mv,n.popup=xv,n.rectangle=bv,n.setOptions=T,n.stamp=d,n.svg=rd,n.svgOverlay=wv,n.tileLayer=Xh,n.tooltip=Sv,n.transformation=ui,n.version=i,n.videoOverlay=yv;var Cv=window.L;n.noConflict=function(){return window.L=Cv,this},window.L=n})})(Gu,Gu.exports);var ai=Gu.exports;const c_=Xu(ai);function ba(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function ih(t,e){return e==null?function(i,o){const a=I.useRef();return a.current||(a.current=t(i,o)),a}:function(i,o){const a=I.useRef();a.current||(a.current=t(i,o));const u=I.useRef(i),{instance:h}=a.current;return I.useEffect(function(){u.current!==i&&(e(h,i,u.current),u.current=i)},[h,i,o]),a}}function h_(t,e){I.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var a;(a=e.layerContainer)==null||a.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function d_(t){return function(n){const i=nh(),o=t(rh(n,i),i);return t1(i.map,n.attribution),u_(o.current,n.eventHandlers),h_(o.current,i),o}}function o1(t,e){const n=I.useRef();I.useEffect(function(){if(e.pathOptions!==n.current){const o=e.pathOptions??{};t.instance.setStyle(o),n.current=o}},[t,e])}function s1(t){return function(n){const i=nh(),o=t(rh(n,i),i);return u_(o.current,n.eventHandlers),h_(o.current,i),o1(o.current,n),o}}function a1(t,e){const n=ih(t,e),i=d_(n);return l_(i)}function f_(t,e){const n=ih(t,e),i=s1(n);return l_(i)}function l1(t,e){const n=ih(t,e),i=d_(n);return i1(i)}function u1(t,e,n){const{opacity:i,zIndex:o}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),o!=null&&o!==n.zIndex&&t.setZIndex(o)}function c1(){return nh().map}function Ju(){return Ju=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ju.apply(this,arguments)}function h1({bounds:t,boundsOptions:e,center:n,children:i,className:o,id:a,placeholder:u,style:h,whenReady:d,zoom:p,...m},g){const[v]=I.useState({className:o,id:a,style:h}),[x,E]=I.useState(null);I.useImperativeHandle(g,()=>(x==null?void 0:x.map)??null,[x]);const T=I.useCallback(S=>{if(S!==null&&x===null){const y=new ai.Map(S,m);n!=null&&p!=null?y.setView(n,p):t!=null&&y.fitBounds(t,e),d!=null&&y.whenReady(d),E(r1(y))}},[]);I.useEffect(()=>()=>{x==null||x.map.remove()},[x]);const O=x?Ji.createElement(a_,{value:x},i):u??null;return Ji.createElement("div",Ju({},v,{ref:T}),O)}const d1=I.forwardRef(h1),f1=a1(function({position:e,...n},i){const o=new ai.Marker(e,n);return ba(o,th(i,{overlayContainer:o}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),ep=f_(function({positions:e,...n},i){const o=new ai.Polygon(e,n);return ba(o,th(i,{overlayContainer:o}))},function(e,n,i){n.positions!==i.positions&&e.setLatLngs(n.positions)}),tp=f_(function({positions:e,...n},i){const o=new ai.Polyline(e,n);return ba(o,th(i,{overlayContainer:o}))},function(e,n,i){n.positions!==i.positions&&e.setLatLngs(n.positions)}),p1=l1(function({url:e,...n},i){const o=new ai.TileLayer(e,rh(n,i));return ba(o,i)},function(e,n,i){u1(e,n,i);const{url:o}=n;o!=null&&o!==i.url&&e.setUrl(o)}),np=t=>{const e=(t||"").toString().toLowerCase().trim();return e==="red"?"red":e==="blue"?"blue":(e==="green"||console.warn("normalizeTeam: Equipe invlida:",t,"usando fallback green"),"green")};function li(){const{user:t}=zn(),[e,n]=I.useState([]),[i,o]=I.useState([]);I.useEffect(()=>{if(!t)return;if(a(),u(),setTimeout(()=>{u(),a()},1e3),localStorage.getItem("gameMode")==="mock"){const v=setInterval(()=>{a(),u()},2e3);return()=>clearInterval(v)}const m=ne.channel("territories").on("postgres_changes",{event:"*",schema:"public",table:"territories"},()=>{a()}).subscribe(),g=ne.channel("users").on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>{u()}).subscribe();return()=>{m.unsubscribe(),g.unsubscribe()}},[t]);const a=async()=>{try{const{data:d,error:p}=await ne.from("territories").select("*").order("created_at",{ascending:!1});if(p)throw p;n(d||[])}catch(d){console.error("Erro ao buscar territrios:",d)}},u=async()=>{try{const{data:d,error:p}=await ne.from("users").select("*");if(p)throw p;const m=(d||[]).map(g=>({...g,team:np(g.team),current_position:g.current_position?g.current_position.replace(/[()]/g,"").split(",").map(Number):null}));o(m)}catch(d){console.error("Erro ao buscar usurios online:",d)}};return{territories:e,onlineUsers:i,addTerritory:async(d,p,m)=>{if(t)try{const{data:g,error:v}=await ne.from("users").select("team").eq("id",t.id).single();v&&console.error("addTerritory: Erro ao buscar dados do usurio:",v);const x=np(m||(g==null?void 0:g.team)||t.team),{data:E,error:T}=await ne.from("territories").insert({team_id:x,player_id:t.id,polygon:d,area:p,conquered_at:new Date().toISOString()}).select().single();if(T)throw T;const{data:O,error:S}=await ne.from("users").select("score").eq("id",t.id).single();if(S)throw S;const y=((O==null?void 0:O.score)||0)+p,{error:w}=await ne.from("users").update({score:y}).eq("id",t.id);if(w)throw w;return await Promise.all([a(),u()]),E}catch(g){throw console.error("Erro ao adicionar territrio:",g),g}},fetchTerritories:a,fetchOnlineUsers:u}}function m1({onMove:t,enabled:e=!0}){const n=I.useRef(new Set),i=I.useRef(null);return I.useEffect(()=>{if(!e)return;const o=u=>{const h=u.key.toLowerCase();["w","a","s","d","arrowup","arrowdown","arrowleft","arrowright"].includes(h)&&u.preventDefault(),n.current.add(h),h==="w"||h==="arrowup"?t("up"):h==="s"||h==="arrowdown"?t("down"):h==="a"||h==="arrowleft"?t("left"):(h==="d"||h==="arrowright")&&t("right"),i.current||(i.current=setInterval(()=>{const d=Array.from(n.current);d.includes("w")||d.includes("arrowup")?t("up"):d.includes("s")||d.includes("arrowdown")?t("down"):d.includes("a")||d.includes("arrowleft")?t("left"):(d.includes("d")||d.includes("arrowright"))&&t("right")},50))},a=u=>{const h=u.key.toLowerCase();n.current.delete(h),n.current.size===0&&i.current&&(clearInterval(i.current),i.current=null)};return window.addEventListener("keydown",o),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",a),i.current&&clearInterval(i.current)}},[t,e]),{isMoving:n.current.size>0}}const Qu=[41.1333,-8.6167];function g1(t,e){const n=`
  <div class="pawn-wrap" style="--c:${t}">
    <div class="pawn-dot"></div>
    ${`<div class="pawn-name">${e}</div>`}
  </div>`;return c_.divIcon({className:"",html:n,iconSize:[30,42],iconAnchor:[15,21]})}const _1=(t,e)=>{var a;const n=e.find(u=>u.id===(t==null?void 0:t.id)),i=(n==null?void 0:n.team)==="blue"?"#2563eb":(n==null?void 0:n.team)==="red"?"#dc2626":"#16a34a",o=(n==null?void 0:n.name)||((a=t==null?void 0:t.user_metadata)==null?void 0:a.name)||"Jogador";return g1(i,o)};function v1(){const t=c1(),{position:e}=si(),n=()=>{e?t.setView([e[0],e[1]],t.getZoom()):t.setView(Qu,t.getZoom())};return P.jsx(P.Fragment,{children:P.jsx("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:1e3},children:P.jsx("button",{className:"center-button",onClick:n,style:{backgroundColor:"#2563EB",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"bold"},children:" Centrar no peo"})})})}function ms(t){if(t.length<3)return 0;let e=0;for(let o=0;o<t.length;o++){const a=(o+1)%t.length;e+=t[o][0]*t[a][1],e-=t[a][0]*t[o][1]}return Math.abs(e)/2*111*111}function rp(t,e){const[n,i]=t;let o=!1;for(let a=0,u=e.length-1;a<e.length;u=a++){const[h,d]=e[a],[p,m]=e[u];d>i!=m>i&&n<(p-h)*(i-d)/(m-d)+h&&(o=!o)}return o}function y1(t,e){for(const n of t)if(rp(n,e))return!0;for(const n of e)if(rp(n,t))return!0;return!1}function w1(t,e){let n=0;for(let u=0;u<e.length;u++)u!==t&&y1(e[t],e[u])&&n++;return n===0?.3:Math.max(.1,.3-n*.1)}function x1(){const{position:t}=si(),{currentPlayer:e}=Ta(),{user:n}=zn(),{addTerritory:i}=li(),[o,a]=I.useState(!1),[u,h]=I.useState([]),[d,p]=I.useState([]),[m,g]=I.useState([]),v=I.useRef(null),x=t,E=I.useMemo(()=>x||null,[x]);I.useEffect(()=>{if(!o||!E)return;if(v.current){const[w,C]=v.current,[R,z]=E,A=Math.abs(R-w),B=Math.abs(z-C);if(A<1e-5&&B<1e-5)return}const y=[...u,E];if(h(y),v.current=E,console.log("TraceManager: Adicionando ponto ao trao. Total:",y.length),y.length>=4){const w=y[y.length-1];for(let C=0;C<y.length-3;C++)if(Math.sqrt(Math.pow(w[0]-y[C][0],2)+Math.pow(w[1]-y[C][1],2))<3e-5){const z=[...y.slice(C),w];if(z.length>=3){const A=ms(z);if(n&&i&&(e!=null&&e.team)){const B={type:"Polygon",coordinates:[z.map(H=>[H[1],H[0]])]};i(B,A,e.team).catch(H=>{console.error("TraceManager: Erro ao salvar rea:",H)})}g(B=>{const H=[...B,z],Z=H.reduce((re,ge)=>re+ms(ge),0);return window.dispatchEvent(new CustomEvent("areas-updated",{detail:{totalAreaKm2:Z}})),H}),h([w]),v.current=w;return}}}},[E,o,u,n,i,e==null?void 0:e.team]);const T=()=>{console.log("TraceManager: Iniciando trao..."),a(!0),h([]),v.current=E,window.dispatchEvent(new CustomEvent("trace-state-updated",{detail:{isTracing:!0}})),console.log("TraceManager: Trao iniciado com sucesso")},O=()=>{a(!1),u.length>1&&p(y=>[...y,u]),h([]),window.dispatchEvent(new CustomEvent("trace-state-updated",{detail:{isTracing:!1}}))},S=()=>{h([]),p([]),g([]),a(!1),window.dispatchEvent(new CustomEvent("areas-updated",{detail:{totalAreaKm2:0}}))};return I.useEffect(()=>{const y=A=>{(A.key===" "||A.key==="Enter")&&(A.preventDefault(),o?O():T())},w=()=>{S()},C=()=>{if(u.length>=3){const A=[...u,u[0]];ms(A)>1e-8&&(g(Z=>{const re=[...Z,u],ge=re.reduce((Wt,Ye)=>Wt+ms(Ye),0);return window.dispatchEvent(new CustomEvent("areas-updated",{detail:{totalAreaKm2:ge}})),re}),h([u[u.length-1]]),v.current=u[u.length-1])}},R=()=>{T()},z=()=>{O()};return window.addEventListener("keydown",y),window.addEventListener("reset-traces",w),window.addEventListener("force-close-area",C),window.addEventListener("start-trace",R),window.addEventListener("stop-trace",z),()=>{window.removeEventListener("keydown",y),window.removeEventListener("reset-traces",w),window.removeEventListener("force-close-area",C),window.removeEventListener("start-trace",R),window.removeEventListener("stop-trace",z)}},[o]),{isTracing:o,trace:u,paths:d,areas:m,startTrace:T,stopTrace:O,resetTraces:S}}function S1(t,e){var h,d;const n=((d=(h=t.polygon)==null?void 0:h.coordinates)==null?void 0:d[0])||[];if(n.length===0)return null;const i=e.filter(p=>p.losingTerritory.id===t.id);if(i.length===0)return[{positions:n.map(p=>({lat:p[1],lng:p[0]}))}];const o=i.map(p=>{var m,g;return((g=(m=p.conqueredTerritory.polygon)==null?void 0:m.coordinates)==null?void 0:g[0])||[]}).filter(p=>p.length>0);if(o.length===0)return[{positions:n.map(p=>({lat:p[1],lng:p[0]}))}];let u=[n.map(p=>({lat:p[1],lng:p[0]}))];return o.forEach(p=>{const m=Yu(p),g=[];u.forEach(v=>{const x={minLat:Math.min(...v.map(O=>O.lat)),maxLat:Math.max(...v.map(O=>O.lat)),minLng:Math.min(...v.map(O=>O.lng)),maxLng:Math.max(...v.map(O=>O.lng))};if(!!(x.maxLat<m.minLat||x.minLat>m.maxLat||x.maxLng<m.minLng||x.minLng>m.maxLng)){g.push(v);return}const T=[];m.maxLat<x.maxLat&&T.push([{lat:m.maxLat,lng:x.minLng},{lat:x.maxLat,lng:x.minLng},{lat:x.maxLat,lng:x.maxLng},{lat:m.maxLat,lng:x.maxLng}]),m.maxLng<x.maxLng&&T.push([{lat:m.minLat,lng:m.maxLng},{lat:m.maxLat,lng:m.maxLng},{lat:m.maxLat,lng:x.maxLng},{lat:m.minLat,lng:x.maxLng}]),m.minLat>x.minLat&&T.push([{lat:x.minLat,lng:x.minLng},{lat:m.minLat,lng:x.minLng},{lat:m.minLat,lng:x.maxLng},{lat:x.minLat,lng:x.maxLng}]),m.minLng>x.minLng&&T.push([{lat:m.minLat,lng:x.minLng},{lat:m.maxLat,lng:x.minLng},{lat:m.maxLat,lng:m.minLng},{lat:m.minLat,lng:m.minLng}]),T.forEach(O=>{O.length>=3&&g.push(O)})}),u=g}),u.length===0?[{positions:n.map(p=>({lat:p[1],lng:p[0]}))}]:u.map(p=>({positions:p}))}function Yu(t){const e=t.map(i=>i[1]),n=t.map(i=>i[0]);return{minLat:Math.min(...e),maxLat:Math.max(...e),minLng:Math.min(...n),maxLng:Math.max(...n)}}function k1(t){var n,i,o,a;const e=[];for(let u=0;u<t.length;u++)for(let h=u+1;h<t.length;h++){const d=t[u],p=t[h];if(d.team_id===p.team_id)continue;const m=new Date(d.conquered_at).getTime(),g=new Date(p.conquered_at).getTime(),v=m>g?d:p,x=m>g?p:d,E=((i=(n=d.polygon)==null?void 0:n.coordinates)==null?void 0:i[0])||[],T=((a=(o=p.polygon)==null?void 0:o.coordinates)==null?void 0:a[0])||[];if(E.length===0||T.length===0)continue;const O=Yu(E),S=Yu(T);if(!(O.maxLat<S.minLat||O.minLat>S.maxLat||O.maxLng<S.minLng||O.minLng>S.maxLng)){const w=Math.min(O.maxLng,S.maxLng)-Math.max(O.minLng,S.minLng),C=Math.min(O.maxLat,S.maxLat)-Math.max(O.minLat,S.minLat),R=Math.max(0,w*C*111*111);e.push({conqueredTerritory:v,losingTerritory:x,overlapArea:R})}}return e}function P1(){const{user:t}=zn(),{position:e,updatePosition:n}=si(),{onlineUsers:i,territories:o}=li(),{currentPlayer:a}=Ta(),u=I.useMemo(()=>(console.log("MapView: Criando TraceManager"),x1()),[]),h=A=>{if(!e)return;const B=1e-4;let H=[...e];switch(A){case"up":H=[e[0]+B,e[1]];break;case"down":H=[e[0]-B,e[1]];break;case"left":H=[e[0],e[1]-B];break;case"right":H=[e[0],e[1]+B];break}u.isTracing||(console.log("MapView: Iniciando trao automaticamente na primeira movimentao"),u.startTrace()),n(H)},{isMoving:d}=m1({onMove:h,enabled:!0}),p=e||Qu,m=I.useMemo(()=>{var H;const A=p;return((a==null?void 0:a.team)||((H=i.find(Z=>Z.id===(t==null?void 0:t.id)))==null?void 0:H.team)||"green")==="green"?[A[0],A[1]+-.009]:A},[p,a==null?void 0:a.team,i,t==null?void 0:t.id]),g=I.useMemo(()=>({lat:m[0],lng:m[1]}),[m]),v=I.useMemo(()=>{const A=H=>{const Z=(H||"").toString().toLowerCase().trim();return Z==="red"?"red":Z==="blue"?"blue":(Z==="green"||console.warn("MapView normalizeTeam: Equipe invlida:",H,"usando fallback green"),"green")};if(a!=null&&a.team)return A(a.team);const B=i.find(H=>H.id===(t==null?void 0:t.id));return A(B==null?void 0:B.team)},[a==null?void 0:a.team,i,t==null?void 0:t.id]),x=v==="blue"?"#2563eb":v==="red"?"#dc2626":"#16a34a",[E,T]=I.useState(!1),[O,S]=I.useState(null),[y,w]=I.useState(!1);I.useEffect(()=>{const A=navigator.userAgent.toLowerCase(),B=/ipad/.test(A)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;w(B)},[]);const C=I.useMemo(()=>k1(o),[o]);I.useEffect(()=>{const A=setTimeout(()=>{E||T(!0)},y?5e3:3e3);return()=>clearTimeout(A)},[E,y]);const R=()=>{T(!0),S(null)},z=A=>{console.error("MapView: Erro no carregamento do mapa:",A),S((A==null?void 0:A.message)||"Erro desconhecido"),setTimeout(()=>T(!0),2e3)};return E?typeof c_>"u"?P.jsx("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1f2937"},children:P.jsxs("div",{style:{color:"white",textAlign:"center"},children:[P.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:""}),P.jsx("div",{children:"Erro: Leaflet no carregado"}),P.jsx("div",{style:{fontSize:"12px",marginTop:"10px",opacity:"0.7"},children:"Tente recarregar a pgina"})]})}):P.jsxs("div",{style:{position:"relative",height:"100%",width:"100%"},children:[P.jsxs(d1,{center:Qu,zoom:15,style:{height:"100%",width:"100%"},whenReady:R,children:[P.jsx(p1,{attribution:" <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",eventHandlers:{error:z}}),P.jsx(f1,{position:g,icon:_1(t,i)}),u.trace.length>0&&P.jsxs(P.Fragment,{children:[console.log("MapView: Renderizando trao com",u.trace.length,"pontos"),P.jsx(tp,{positions:u.trace.map(([A,B])=>({lat:A,lng:B})),color:x,pathOptions:{weight:6,zIndex:1e3}})]}),u.paths.map((A,B)=>P.jsx(tp,{positions:A.map(([H,Z])=>({lat:H,lng:Z})),color:x,pathOptions:{weight:8}},`path-${B}`)),u.areas.map((A,B)=>{const H=w1(B,u.areas);return P.jsx(ep,{positions:A.map(([Z,re])=>({lat:Z,lng:re})),pathOptions:{color:x,fillColor:x,fillOpacity:H,weight:3}},`area-local-${B}`)}),o.map(A=>{const B=S1(A,C);if(!B)return null;const H=(A.team_id||"green").toString().toLowerCase(),Z=H==="blue"?"#2563eb":H==="red"?"#dc2626":"#16a34a";return P.jsx("div",{children:B.map((re,ge)=>P.jsx(ep,{positions:re.positions,pathOptions:{color:Z,fillColor:Z,fillOpacity:.3,weight:3}},`split-${A.id}-${ge}`))},`territory-${A.id}`)}),P.jsx(v1,{})]}),P.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:1e3},children:[P.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",color:"white",padding:"10px",borderRadius:"5px",fontSize:"12px",marginBottom:"10px",maxWidth:"200px"},children:[P.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:" Controles:"}),P.jsx("div",{children:"WASD ou Setas"}),P.jsx("div",{children:"Mover o marker"}),d&&P.jsx("div",{style:{color:"#10b981",marginTop:"5px"},children:" Movendo..."})]}),P.jsx("button",{onClick:()=>{console.log("Teste: Movendo marker...");const A=[41.1333+(Math.random()-.5)*.01,-8.6167+(Math.random()-.5)*.01];console.log("Teste: Nova posio:",A),n(A),alert(`Marker movido para: ${A[0].toFixed(6)}, ${A[1].toFixed(6)}`)},style:{background:"red",color:"white",border:"none",padding:"10px",borderRadius:"5px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",marginBottom:"5px",width:"100%"},children:" Teste: Mover Marker"}),P.jsx("button",{onClick:()=>{console.log("=== TESTE DO TRAO ==="),console.log("TraceManager: isTracing:",u.isTracing),console.log("TraceManager: trace.length:",u.trace.length),console.log("TraceManager: currentPosition:",e),console.log("TraceManager: currentPlayer:",a),u.isTracing?(u.stopTrace(),alert("Trao parado!")):(u.startTrace(),alert("Trao iniciado! Agora mova o marker com WASD."))},style:{background:"#16a34a",color:"white",border:"none",padding:"8px",borderRadius:"5px",cursor:"pointer",fontSize:"10px",width:"100%",marginBottom:"5px"},children:u.isTracing?" Parar Trao":" Iniciar Trao"}),P.jsx("button",{onClick:()=>{console.log("=== DEBUG EQUIPE VERMELHA ==="),console.log("MapView: myTeam:",v),console.log("MapView: myTeamColor:",x),console.log("MapView: currentPlayer:",a),console.log("MapView: traceManager.trace.length:",u.trace.length),console.log("MapView: traceManager.trace:",u.trace),console.log("MapView: position:",e),console.log("MapView: positionMemo:",g),alert(`Equipe: ${v}
Cor: ${x}
Trao: ${u.trace.length} pontos`)},style:{background:"#dc2626",color:"white",border:"none",padding:"8px",borderRadius:"5px",cursor:"pointer",fontSize:"10px",width:"100%"},children:" Debug Vermelho"})]})]}):P.jsx("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1f2937"},children:P.jsxs("div",{style:{color:"white",textAlign:"center"},children:[P.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:""}),P.jsx("div",{children:"Carregando mapa..."}),P.jsx("div",{style:{fontSize:"12px",marginTop:"10px",opacity:.7},children:y?"iPad detectado - Carregamento otimizado":"Verificando GPS e conectividade"}),P.jsxs("div",{style:{fontSize:"10px",marginTop:"5px",opacity:.5},children:[navigator.userAgent.includes("Safari")?"Safari":navigator.userAgent.includes("Chrome")?"Chrome":"Navegador"," no ",y?"iPad":"dispositivo mvel"]}),O&&P.jsxs("div",{style:{fontSize:"10px",marginTop:"5px",color:"#ef4444"},children:["Erro: ",O]}),P.jsx("button",{onClick:()=>T(!0),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#2563EB",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Forar Carregamento"})]})})}function E1(){var O,S;const{user:t,signOut:e}=zn(),{startTracking:n,stopTracking:i,isTracking:o,error:a}=si(),{onlineUsers:u,territories:h}=li(),[d,p]=I.useState(!1),[m,g]=I.useState(0),v=u.find(y=>y.id===(t==null?void 0:t.id));I.useEffect(()=>{if(!t)return;const y=h.filter(C=>C.player_id===t.id).reduce((C,R)=>C+(R.area||0),0),w=(v==null?void 0:v.score)||0;g(y>0?y:w)},[h,t==null?void 0:t.id,v==null?void 0:v.score]),I.useEffect(()=>{const y=C=>{var z;const R=Number(((z=C.detail)==null?void 0:z.totalAreaKm2)??0);g(A=>Math.max(A,R))},w=C=>{var R;p(!!((R=C.detail)!=null&&R.isTracing))};return window.addEventListener("areas-updated",y),window.addEventListener("trace-state-updated",w),()=>{window.removeEventListener("areas-updated",y),window.removeEventListener("trace-state-updated",w)}},[]);const x=()=>{p(!0),window.dispatchEvent(new CustomEvent("start-trace"))},E=()=>{p(!1),window.dispatchEvent(new CustomEvent("stop-trace"))},T=async()=>{try{await e(),window.dispatchEvent(new CustomEvent("reset-traces"))}catch(y){console.error("Erro ao fazer logout:",y)}};return P.jsxs("div",{className:"controls bg-gray-800 p-4 rounded-lg shadow-lg",style:{border:"2px solid #16a34a"},children:[P.jsx("div",{style:{position:"absolute",top:"-10px",left:"10px",background:"#16a34a",color:"white",padding:"2px 6px",borderRadius:"3px",fontSize:"10px"},children:"CONTROLS"}),P.jsx("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{children:[P.jsx("div",{className:"text-white font-semibold",children:(v==null?void 0:v.name)||((O=t==null?void 0:t.user_metadata)==null?void 0:O.name)||"Jogador"}),P.jsxs("div",{className:`text-sm ${(v==null?void 0:v.team)==="green"?"text-green-400":(v==null?void 0:v.team)==="blue"?"text-blue-400":"text-red-400"}`,children:["Equipa ",((S=v==null?void 0:v.team)==null?void 0:S.toUpperCase())||"N/A"]})]}),P.jsxs("div",{className:"text-right",children:[P.jsx("div",{className:"text-white font-bold",children:m.toFixed(2)}),P.jsx("div",{className:"text-xs text-gray-400",children:"km"})]})]})}),P.jsxs("div",{className:"mb-4",children:[P.jsxs("div",{className:"flex items-center justify-between mb-2",children:[P.jsx("span",{className:"text-white text-sm",children:"GPS"}),P.jsx("div",{className:`w-3 h-3 rounded-full ${o?"bg-green-400":"bg-red-400"}`})]}),a&&P.jsx("div",{className:"text-red-400 text-xs mb-2",children:a}),P.jsx("div",{className:"flex gap-2",children:P.jsx("button",{onClick:o?i:n,className:`flex-1 py-2 px-3 rounded text-sm font-medium ${o?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:o?"Parar GPS":navigator.geolocation?"Iniciar GPS":"Ativar Posio"})})]}),P.jsxs("div",{className:"mb-4",children:[P.jsxs("div",{className:"flex items-center justify-between mb-2",children:[P.jsx("span",{className:"text-white text-sm",children:"Trao"}),P.jsx("div",{className:`w-3 h-3 rounded-full ${d?"bg-green-400":"bg-red-400"}`})]}),P.jsx("div",{className:"flex gap-2",children:P.jsx("button",{onClick:d?E:x,className:`flex-1 py-2 px-3 rounded text-sm font-medium ${d?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:d?"Parar Trao":"Iniciar Trao"})}),P.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Use ESPAO ou ENTER para controlar"})]}),P.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[P.jsx("div",{className:"text-white text-sm font-semibold mb-2",children:"km Conquistados"}),P.jsxs("div",{className:"text-green-400 text-lg font-bold",children:[m.toFixed(2)," km"]}),P.jsx("div",{className:"text-gray-400 text-xs mt-1",children:m>0?"Pontos = km conquistados!":"Risque at cruzar linhas"})]}),P.jsx("div",{className:"mb-4",children:P.jsx("button",{onClick:T,className:"w-full py-2 px-3 bg-red-600 hover:bg-red-700 text-white rounded text-sm",children:"Logout"})}),P.jsxs("div",{className:"text-xs text-gray-400",children:[P.jsx("div",{className:"mb-1",children:" Dicas:"}),P.jsx("div",{children:" ESPAO/ENTER para traar"}),P.jsx("div",{children:" Cruze linhas para fechar reas"}),P.jsx("div",{children:" Pontos = km conquistados!"}),P.jsx("div",{children:" Compita com outros jogadores"}),navigator.geolocation&&P.jsx("div",{children:" Ative GPS para posio real"})]})]})}function T1(){const{onlineUsers:t}=li(),{user:e}=zn(),n=i=>{switch(i){case"green":return"bg-green-600";case"blue":return"bg-blue-600";case"red":return"bg-red-600";default:return"bg-gray-600"}};return P.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:P.jsxs("div",{className:"max-w-4xl mx-auto",children:[P.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:" Leaderboard"}),P.jsxs("div",{className:"mb-8",children:[P.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Ranking por km Conquistados"}),P.jsx("div",{className:"text-center text-gray-400",children:"Ranking das equipes em desenvolvimento..."})]}),P.jsxs("div",{className:"mb-8",children:[P.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["Jogadores Online (",t.length,")"]}),P.jsx("div",{className:"grid gap-3",children:t.map(i=>P.jsx("div",{className:`p-3 rounded-lg border ${i.id===(e==null?void 0:e.id)?"border-green-400 bg-green-400 bg-opacity-10":"border-gray-600 bg-gray-800"}`,children:P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsxs("div",{className:"flex items-center space-x-3",children:[P.jsx("div",{className:`w-3 h-3 rounded-full ${n(i.team)}`}),P.jsx("span",{className:`font-medium ${i.id===(e==null?void 0:e.id)?"text-green-400":""}`,children:i.name}),i.id===(e==null?void 0:e.id)&&P.jsx("span",{className:"text-xs text-green-400",children:"(Voc)"})]}),P.jsxs("div",{className:"text-right",children:[P.jsx("div",{className:"font-semibold",children:"0"}),P.jsx("div",{className:"text-xs text-gray-400",children:"pontos"})]})]})},i.id))})]}),e&&P.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[P.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Suas Estatsticas"}),P.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"text-2xl font-bold text-green-400",children:"0"}),P.jsx("div",{className:"text-sm text-gray-400",children:"Pontos Totais"})]}),P.jsxs("div",{className:"text-center",children:[P.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"N/A"}),P.jsx("div",{className:"text-sm text-gray-400",children:"Sua Equipe"})]})]})]})]})})}function b1(t){var n,i,o,a;const e=[];for(let u=0;u<t.length;u++)for(let h=u+1;h<t.length;h++){const d=t[u],p=t[h];if(d.team_id===p.team_id)continue;const m=new Date(d.conquered_at).getTime(),g=new Date(p.conquered_at).getTime(),v=m>g?d:p,x=m>g?p:d,E=((i=(n=d.polygon)==null?void 0:n.coordinates)==null?void 0:i[0])||[],T=((a=(o=p.polygon)==null?void 0:o.coordinates)==null?void 0:a[0])||[];if(E.length===0||T.length===0)continue;const O=E.reduce((w,C)=>[w[0]+C[0],w[1]+C[1]],[0,0]).map(w=>w/E.length),S=T.reduce((w,C)=>[w[0]+C[0],w[1]+C[1]],[0,0]).map(w=>w/T.length);if(Math.sqrt(Math.pow(O[0]-S[0],2)+Math.pow(O[1]-S[1],2))<.002){const w=Math.min(d.area,p.area)*.3;e.push({conqueredTerritory:v,losingTerritory:x,overlapArea:w})}}return e}function L1(){const{territories:t}=li(),[e,n]=I.useState({green:{conquered:0,lost:0,net:0},blue:{conquered:0,lost:0,net:0},red:{conquered:0,lost:0,net:0}}),i=I.useMemo(()=>{const o={green:{conquered:0,lost:0,net:0},blue:{conquered:0,lost:0,net:0},red:{conquered:0,lost:0,net:0}},a=t.reduce((h,d)=>{const p=d.team_id;return h[p]||(h[p]=[]),h[p].push(d),h},{});Object.entries(a).forEach(([h,d])=>{const p=d.reduce((m,g)=>m+(g.area||0),0);o[h].conquered=p});const u=b1(t);return Object.entries(a).forEach(([h])=>{const d=h;let p=0;u.forEach(m=>{m.losingTerritory.team_id===h&&(p+=m.overlapArea)}),o[d].lost=p,o[d].net=o[d].conquered-p}),o},[t]);return I.useEffect(()=>{n(i)},[i]),{stats:e,getTeamStats:o=>e[o],getTotalConquered:()=>Object.values(e).reduce((o,a)=>o+a.conquered,0),getTotalLost:()=>Object.values(e).reduce((o,a)=>o+a.lost,0)}}function C1(){const{territories:t,onlineUsers:e}=li(),{isTracking:n}=si(),{stats:i}=L1(),o=h=>{switch(h){case"green":return"#16a34a";case"blue":return"#3b82f6";case"red":return"#dc2626";default:return"#6b7280"}},a=Math.max(...Object.values(i).map(h=>Math.max(h.conquered,h.lost))),u=h=>a===0?0:Math.min(h/a*100,100);return P.jsxs("div",{className:"hud bg-gray-800 p-4 rounded-lg shadow-lg",style:{border:"2px solid #3b82f6"},children:[P.jsx("div",{style:{position:"absolute",top:"-10px",left:"10px",background:"#3b82f6",color:"white",padding:"2px 6px",borderRadius:"3px",fontSize:"10px"},children:"HUD"}),P.jsx("h3",{className:"text-white font-semibold mb-3",children:" Estatsticas das Equipes"}),P.jsx("div",{className:"space-y-4",children:["green","blue","red"].map(h=>{const d=h==="green"?"Verdes":h==="blue"?"Azul":"Vermelho",p=i[h],m=o(h);return P.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[P.jsxs("div",{className:"flex items-center justify-between mb-2",children:[P.jsxs("div",{className:"flex items-center space-x-2",children:[P.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:m}}),P.jsx("span",{className:"text-white font-semibold",children:d})]}),P.jsxs("div",{className:"text-right",children:[P.jsxs("div",{className:"text-white font-bold text-sm",children:[p.conquered.toFixed(2)," km"]}),P.jsx("div",{className:"text-xs text-gray-400",children:"Total"})]})]}),P.jsxs("div",{className:"mb-2",children:[P.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[P.jsx("span",{className:"text-green-400",children:"Conquistado"}),P.jsxs("span",{className:"text-white",children:[p.conquered.toFixed(2)," km"]})]}),P.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:P.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${u(p.conquered)}%`}})})]}),P.jsxs("div",{className:"mb-2",children:[P.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[P.jsx("span",{className:"text-red-400",children:"Perdido"}),P.jsxs("span",{className:"text-white",children:[p.lost.toFixed(2)," km"]})]}),P.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:P.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${u(p.lost)}%`}})})]}),P.jsx("div",{className:"border-t border-gray-600 pt-2",children:P.jsxs("div",{className:"flex justify-between text-xs",children:[P.jsx("span",{className:"text-gray-300",children:"Saldo:"}),P.jsxs("span",{className:`font-semibold ${p.net>=0?"text-green-400":"text-red-400"}`,children:[p.net>=0?"+":"",p.net.toFixed(2)," km"]})]})})]},h)})}),P.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-600",children:[P.jsxs("div",{className:"flex items-center justify-between",children:[P.jsx("span",{className:"text-gray-300 text-sm",children:"Territrios:"}),P.jsx("span",{className:"text-white font-semibold",children:t.length})]}),P.jsxs("div",{className:"flex items-center justify-between mt-2",children:[P.jsx("span",{className:"text-gray-300 text-sm",children:"GPS:"}),P.jsx("span",{className:`text-sm ${n?"text-green-400":"text-red-400"}`,children:n?"Ativo":"Inativo"})]}),P.jsxs("div",{className:"flex items-center justify-between mt-2",children:[P.jsx("span",{className:"text-gray-300 text-sm",children:"Jogadores:"}),P.jsx("span",{className:"text-white font-semibold",children:e.length})]})]})]})}function O1(){const{user:t}=zn();return Xk(),I.useEffect(()=>{localStorage.getItem("gameMode")||localStorage.setItem("gameMode","mock")},[]),t?P.jsxs("div",{className:"game-layout",children:[P.jsx("div",{className:"map-container",children:P.jsx(P1,{})}),P.jsxs("div",{className:"ui-overlay",children:[P.jsx("div",{className:"top-left",children:P.jsx(E1,{})}),P.jsx("div",{className:"top-right",children:P.jsx(C1,{})}),P.jsx("div",{className:"bottom-center",children:P.jsx("div",{className:"navigation",children:P.jsx("a",{href:"/leaderboard",className:"nav-button",children:" Leaderboard"})})})]})]}):P.jsx(Og,{to:"/login",replace:!0})}function j1(){const{user:t,loading:e}=zn();return e?P.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:P.jsx("div",{className:"text-white text-xl",children:"Carregando..."})}):P.jsx(lx,{children:P.jsx("div",{className:"App",children:P.jsxs(ox,{children:[P.jsx(Ls,{path:"/login",element:t?P.jsx(Og,{to:"/",replace:!0}):P.jsx(e1,{})}),P.jsx(Ls,{path:"/leaderboard",element:P.jsx(T1,{})}),P.jsx(Ls,{path:"/",element:P.jsx(O1,{})})]})})})}class I1{constructor(){qo(this,"enabled",!1);qo(this,"buffer",[]);qo(this,"max",500)}setEnabled(e){this.enabled=e,window.__DBG_ENABLED__=e}isEnabled(){return this.enabled||window.__DBG_ENABLED__===!0}enableFromQuery(){try{new URLSearchParams(window.location.search).get("debug")==="1"&&this.setEnabled(!0)}catch{}}log(e,n,i){if(!this.isEnabled())return;const o={ts:Date.now(),tag:e,msg:n,extra:i};this.buffer.push(o),this.buffer.length>this.max&&this.buffer.shift(),console.debug(`[DBG][${e}] ${n}`,i??"")}getLogs(){return[...this.buffer]}clear(){this.buffer=[]}}const A1=new I1;A1.enableFromQuery();gg(document.getElementById("root")).render(P.jsx(I.StrictMode,{children:P.jsx(j1,{})}));
//# sourceMappingURL=index-2tRVaSHY.js.map
