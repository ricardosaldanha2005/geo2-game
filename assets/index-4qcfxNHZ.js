(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(o){if(o.ep)return;o.ep=!0;const a=n(o);fetch(o.href,a)}})();var Rv=Object.defineProperty,Dv=(e,t,n)=>t in e?Rv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,ll=(e,t,n)=>Dv(e,typeof t!="symbol"?t+"":t,n);function Bv(e,t){for(var n=0;n<t.length;n++){const i=t[n];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in e)){const a=Object.getOwnPropertyDescriptor(i,o);a&&Object.defineProperty(e,o,a.get?a:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var ut=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yu(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function $v(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function i(){return this instanceof i?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(i){var o=Object.getOwnPropertyDescriptor(e,i);Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:function(){return e[i]}})}),n}var np={exports:{}},ea={},rp={exports:{}},te={};/**
* @license React
* react.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var vo=Symbol.for("react.element"),Uv=Symbol.for("react.portal"),Fv=Symbol.for("react.fragment"),Zv=Symbol.for("react.strict_mode"),Wv=Symbol.for("react.profiler"),qv=Symbol.for("react.provider"),Hv=Symbol.for("react.context"),Vv=Symbol.for("react.forward_ref"),Kv=Symbol.for("react.suspense"),Gv=Symbol.for("react.memo"),Jv=Symbol.for("react.lazy"),pd=Symbol.iterator;function Qv(e){return e===null||typeof e!="object"?null:(e=pd&&e[pd]||e["@@iterator"],typeof e=="function"?e:null)}var ip={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},op=Object.assign,sp={};function ei(e,t,n){this.props=e,this.context=t,this.refs=sp,this.updater=n||ip}ei.prototype.isReactComponent={};ei.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ei.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ap(){}ap.prototype=ei.prototype;function Xu(e,t,n){this.props=e,this.context=t,this.refs=sp,this.updater=n||ip}var ec=Xu.prototype=new ap;ec.constructor=Xu;op(ec,ei.prototype);ec.isPureReactComponent=!0;var md=Array.isArray,lp=Object.prototype.hasOwnProperty,tc={current:null},up={key:!0,ref:!0,__self:!0,__source:!0};function cp(e,t,n){var i,o={},a=null,u=null;if(t!=null)for(i in t.ref!==void 0&&(u=t.ref),t.key!==void 0&&(a=""+t.key),t)lp.call(t,i)&&!up.hasOwnProperty(i)&&(o[i]=t[i]);var d=arguments.length-2;if(d===1)o.children=n;else if(1<d){for(var h=Array(d),p=0;p<d;p++)h[p]=arguments[p+2];o.children=h}if(e&&e.defaultProps)for(i in d=e.defaultProps,d)o[i]===void 0&&(o[i]=d[i]);return{$$typeof:vo,type:e,key:a,ref:u,props:o,_owner:tc.current}}function Yv(e,t){return{$$typeof:vo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function nc(e){return typeof e=="object"&&e!==null&&e.$$typeof===vo}function Xv(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var gd=/\/+/g;function ul(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Xv(""+e.key):t.toString(36)}function ms(e,t,n,i,o){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var u=!1;if(e===null)u=!0;else switch(a){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case vo:case Uv:u=!0}}if(u)return u=e,o=o(u),e=i===""?"."+ul(u,0):i,md(o)?(n="",e!=null&&(n=e.replace(gd,"$&/")+"/"),ms(o,t,n,"",function(p){return p})):o!=null&&(nc(o)&&(o=Yv(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(gd,"$&/")+"/")+e)),t.push(o)),1;if(u=0,i=i===""?".":i+":",md(e))for(var d=0;d<e.length;d++){a=e[d];var h=i+ul(a,d);u+=ms(a,t,n,h,o)}else if(h=Qv(e),typeof h=="function")for(e=h.call(e),d=0;!(a=e.next()).done;)a=a.value,h=i+ul(a,d++),u+=ms(a,t,n,h,o);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return u}function Vo(e,t,n){if(e==null)return e;var i=[],o=0;return ms(e,i,"","",function(a){return t.call(n,a,o++)}),i}function ey(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Je={current:null},gs={transition:null},ty={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:gs,ReactCurrentOwner:tc};function hp(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Vo,forEach:function(e,t,n){Vo(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Vo(e,function(){t++}),t},toArray:function(e){return Vo(e,function(t){return t})||[]},only:function(e){if(!nc(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=ei;te.Fragment=Fv;te.Profiler=Wv;te.PureComponent=Xu;te.StrictMode=Zv;te.Suspense=Kv;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ty;te.act=hp;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=op({},e.props),o=e.key,a=e.ref,u=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,u=tc.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(h in t)lp.call(t,h)&&!up.hasOwnProperty(h)&&(i[h]=t[h]===void 0&&d!==void 0?d[h]:t[h])}var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){d=Array(h);for(var p=0;p<h;p++)d[p]=arguments[p+2];i.children=d}return{$$typeof:vo,type:e.type,key:o,ref:a,props:i,_owner:u}};te.createContext=function(e){return e={$$typeof:Hv,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qv,_context:e},e.Consumer=e};te.createElement=cp;te.createFactory=function(e){var t=cp.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:Vv,render:e}};te.isValidElement=nc;te.lazy=function(e){return{$$typeof:Jv,_payload:{_status:-1,_result:e},_init:ey}};te.memo=function(e,t){return{$$typeof:Gv,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=gs.transition;gs.transition={};try{e()}finally{gs.transition=t}};te.unstable_act=hp;te.useCallback=function(e,t){return Je.current.useCallback(e,t)};te.useContext=function(e){return Je.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return Je.current.useDeferredValue(e)};te.useEffect=function(e,t){return Je.current.useEffect(e,t)};te.useId=function(){return Je.current.useId()};te.useImperativeHandle=function(e,t,n){return Je.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return Je.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return Je.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return Je.current.useMemo(e,t)};te.useReducer=function(e,t,n){return Je.current.useReducer(e,t,n)};te.useRef=function(e){return Je.current.useRef(e)};te.useState=function(e){return Je.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return Je.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return Je.current.useTransition()};te.version="18.3.1";rp.exports=te;var O=rp.exports;const Ji=Yu(O),ny=Bv({__proto__:null,default:Ji},[O]);/**
* @license React
* react-jsx-runtime.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var ry=O,iy=Symbol.for("react.element"),oy=Symbol.for("react.fragment"),sy=Object.prototype.hasOwnProperty,ay=ry.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ly={key:!0,ref:!0,__self:!0,__source:!0};function dp(e,t,n){var i,o={},a=null,u=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(u=t.ref);for(i in t)sy.call(t,i)&&!ly.hasOwnProperty(i)&&(o[i]=t[i]);if(e&&e.defaultProps)for(i in t=e.defaultProps,t)o[i]===void 0&&(o[i]=t[i]);return{$$typeof:iy,type:e,key:a,ref:u,props:o,_owner:ay.current}}ea.Fragment=oy;ea.jsx=dp;ea.jsxs=dp;np.exports=ea;var T=np.exports,fp={exports:{}},ht={},pp={exports:{}},mp={};/**
* @license React
* scheduler.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/(function(e){function t(z,K){var $=z.length;z.push(K);e:for(;0<$;){var V=$-1>>>1,oe=z[V];if(0<o(oe,K))z[V]=K,z[$]=oe,$=V;else break e}}function n(z){return z.length===0?null:z[0]}function i(z){if(z.length===0)return null;var K=z[0],$=z.pop();if($!==K){z[0]=$;e:for(var V=0,oe=z.length,Ce=oe>>>1;V<Ce;){var ce=2*(V+1)-1,ae=z[ce],G=ce+1,Ye=z[G];if(0>o(ae,$))G<oe&&0>o(Ye,ae)?(z[V]=Ye,z[G]=$,V=G):(z[V]=ae,z[ce]=$,V=ce);else if(G<oe&&0>o(Ye,$))z[V]=Ye,z[G]=$,V=G;else break e}}return K}function o(z,K){var $=z.sortIndex-K.sortIndex;return $!==0?$:z.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],p=[],m=1,g=null,v=3,k=!1,S=!1,P=!1,N=typeof setTimeout=="function"?setTimeout:null,w=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(z){for(var K=n(p);K!==null;){if(K.callback===null)i(p);else if(K.startTime<=z)i(p),K.sortIndex=K.expirationTime,t(h,K);else break;K=n(p)}}function C(z){if(P=!1,b(z),!S)if(n(h)!==null)S=!0,Re(A);else{var K=n(p);K!==null&&Wt(C,K.startTime-z)}}function A(z,K){S=!1,P&&(P=!1,w(B),B=-1),k=!0;var $=v;try{for(b(K),g=n(h);g!==null&&(!(g.expirationTime>K)||z&&!re());){var V=g.callback;if(typeof V=="function"){g.callback=null,v=g.priorityLevel;var oe=V(g.expirationTime<=K);K=e.unstable_now(),typeof oe=="function"?g.callback=oe:g===n(h)&&i(h),b(K)}else i(h);g=n(h)}if(g!==null)var Ce=!0;else{var ce=n(p);ce!==null&&Wt(C,ce.startTime-K),Ce=!1}return Ce}finally{g=null,v=$,k=!1}}var R=!1,M=null,B=-1,q=5,W=-1;function re(){return!(e.unstable_now()-W<q)}function we(){if(M!==null){var z=e.unstable_now();W=z;var K=!0;try{K=M(!0,z)}finally{K?Rn():(R=!1,M=null)}}else R=!1}var Rn;if(typeof y=="function")Rn=function(){y(we)};else if(typeof MessageChannel<"u"){var ft=new MessageChannel,Ea=ft.port2;ft.port1.onmessage=we,Rn=function(){Ea.postMessage(null)}}else Rn=function(){N(we,0)};function Re(z){M=z,R||(R=!0,Rn())}function Wt(z,K){B=N(function(){z(e.unstable_now())},K)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_continueExecution=function(){S||k||(S=!0,Re(A))},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var K=3;break;default:K=v}var $=v;v=K;try{return z()}finally{v=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(z,K){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var $=v;v=z;try{return K()}finally{v=$}},e.unstable_scheduleCallback=function(z,K,$){var V=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?V+$:V):$=V,z){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=$+oe,z={id:m++,callback:K,priorityLevel:z,startTime:$,expirationTime:oe,sortIndex:-1},$>V?(z.sortIndex=$,t(p,z),n(h)===null&&z===n(p)&&(P?(w(B),B=-1):P=!0,Wt(C,$-V))):(z.sortIndex=oe,t(h,z),S||k||(S=!0,Re(A))),z},e.unstable_shouldYield=re,e.unstable_wrapCallback=function(z){var K=v;return function(){var $=v;v=K;try{return z.apply(this,arguments)}finally{v=$}}}})(mp);pp.exports=mp;var uy=pp.exports;/**
* @license React
* react-dom.production.min.js
*
* Copyright (c) Facebook, Inc. and its affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var cy=O,ct=uy;function D(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var gp=new Set,Qi={};function sr(e,t){qr(e,t),qr(e+"Capture",t)}function qr(e,t){for(Qi[e]=t,e=0;e<t.length;e++)gp.add(t[e])}var nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wl=Object.prototype.hasOwnProperty,hy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_d={},vd={};function dy(e){return Wl.call(vd,e)?!0:Wl.call(_d,e)?!1:hy.test(e)?vd[e]=!0:(_d[e]=!0,!1)}function fy(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function py(e,t,n,i){if(t===null||typeof t>"u"||fy(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Qe(e,t,n,i,o,a,u){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=u}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new Qe(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new Qe(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new Qe(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new Qe(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new Qe(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new Qe(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new Qe(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new Qe(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new Qe(e,5,!1,e.toLowerCase(),null,!1,!1)});var rc=/[\-:]([a-z])/g;function ic(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(rc,ic);Ue[t]=new Qe(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(rc,ic);Ue[t]=new Qe(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(rc,ic);Ue[t]=new Qe(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new Qe(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new Qe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new Qe(e,1,!1,e.toLowerCase(),null,!0,!0)});function oc(e,t,n,i){var o=Ue.hasOwnProperty(t)?Ue[t]:null;(o!==null?o.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(py(t,n,o,i)&&(n=null),i||o===null?dy(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=n===null?o.type===3?!1:"":n:(t=o.attributeName,i=o.attributeNamespace,n===null?e.removeAttribute(t):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var an=cy.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ko=Symbol.for("react.element"),Er=Symbol.for("react.portal"),Lr=Symbol.for("react.fragment"),sc=Symbol.for("react.strict_mode"),ql=Symbol.for("react.profiler"),_p=Symbol.for("react.provider"),vp=Symbol.for("react.context"),ac=Symbol.for("react.forward_ref"),Hl=Symbol.for("react.suspense"),Vl=Symbol.for("react.suspense_list"),lc=Symbol.for("react.memo"),pn=Symbol.for("react.lazy"),yp=Symbol.for("react.offscreen"),yd=Symbol.iterator;function ki(e){return e===null||typeof e!="object"?null:(e=yd&&e[yd]||e["@@iterator"],typeof e=="function"?e:null)}var be=Object.assign,cl;function Mi(e){if(cl===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);cl=t&&t[1]||""}return`
`+cl+e}var hl=!1;function dl(e,t){if(!e||hl)return"";hl=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(p){var i=p}Reflect.construct(e,[],t)}else{try{t.call()}catch(p){i=p}e.call(t.prototype)}else{try{throw Error()}catch(p){i=p}e()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var o=p.stack.split(`
`),a=i.stack.split(`
`),u=o.length-1,d=a.length-1;1<=u&&0<=d&&o[u]!==a[d];)d--;for(;1<=u&&0<=d;u--,d--)if(o[u]!==a[d]){if(u!==1||d!==1)do if(u--,d--,0>d||o[u]!==a[d]){var h=`
`+o[u].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=u&&0<=d);break}}}finally{hl=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Mi(e):""}function my(e){switch(e.tag){case 5:return Mi(e.type);case 16:return Mi("Lazy");case 13:return Mi("Suspense");case 19:return Mi("SuspenseList");case 0:case 2:case 15:return e=dl(e.type,!1),e;case 11:return e=dl(e.type.render,!1),e;case 1:return e=dl(e.type,!0),e;default:return""}}function Kl(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lr:return"Fragment";case Er:return"Portal";case ql:return"Profiler";case sc:return"StrictMode";case Hl:return"Suspense";case Vl:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case vp:return(e.displayName||"Context")+".Consumer";case _p:return(e._context.displayName||"Context")+".Provider";case ac:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case lc:return t=e.displayName||null,t!==null?t:Kl(e.type)||"Memo";case pn:t=e._payload,e=e._init;try{return Kl(e(t))}catch{}}return null}function gy(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Kl(t);case 8:return t===sc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function jn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function bp(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _y(e){var t=bp(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(u){i=""+u,a.call(this,u)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(u){i=""+u},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Go(e){e._valueTracker||(e._valueTracker=_y(e))}function wp(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=bp(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function Ls(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Gl(e,t){var n=t.checked;return be({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bd(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=jn(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function xp(e,t){t=t.checked,t!=null&&oc(e,"checked",t,!1)}function Jl(e,t){xp(e,t);var n=jn(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Ql(e,t.type,n):t.hasOwnProperty("defaultValue")&&Ql(e,t.type,jn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function wd(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Ql(e,t,n){(t!=="number"||Ls(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zi=Array.isArray;function Br(e,t,n,i){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&i&&(e[n].defaultSelected=!0)}else{for(n=""+jn(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Yl(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(D(91));return be({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function xd(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(D(92));if(zi(n)){if(1<n.length)throw Error(D(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:jn(n)}}function kp(e,t){var n=jn(t.value),i=jn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function kd(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Sp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xl(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Sp(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Jo,Tp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,o){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,o)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Jo=Jo||document.createElement("div"),Jo.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Jo.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Yi(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vy=["Webkit","ms","Moz","O"];Object.keys(Di).forEach(function(e){vy.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Di[t]=Di[e]})});function Pp(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Di.hasOwnProperty(e)&&Di[e]?(""+t).trim():t+"px"}function Ep(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,o=Pp(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,o):e[n]=o}}var yy=be({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function eu(e,t){if(t){if(yy[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(D(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(D(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(D(61))}if(t.style!=null&&typeof t.style!="object")throw Error(D(62))}}function tu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nu=null;function uc(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ru=null,$r=null,Ur=null;function Sd(e){if(e=wo(e)){if(typeof ru!="function")throw Error(D(280));var t=e.stateNode;t&&(t=oa(t),ru(e.stateNode,e.type,t))}}function Lp(e){$r?Ur?Ur.push(e):Ur=[e]:$r=e}function Cp(){if($r){var e=$r,t=Ur;if(Ur=$r=null,Sd(e),t)for(e=0;e<t.length;e++)Sd(t[e])}}function jp(e,t){return e(t)}function Op(){}var fl=!1;function Np(e,t,n){if(fl)return e(t,n);fl=!0;try{return jp(e,t,n)}finally{fl=!1,($r!==null||Ur!==null)&&(Op(),Cp())}}function Xi(e,t){var n=e.stateNode;if(n===null)return null;var i=oa(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(D(231,t,typeof n));return n}var iu=!1;if(nn)try{var Si={};Object.defineProperty(Si,"passive",{get:function(){iu=!0}}),window.addEventListener("test",Si,Si),window.removeEventListener("test",Si,Si)}catch{iu=!1}function by(e,t,n,i,o,a,u,d,h){var p=Array.prototype.slice.call(arguments,3);try{t.apply(n,p)}catch(m){this.onError(m)}}var Bi=!1,Cs=null,js=!1,ou=null,wy={onError:function(e){Bi=!0,Cs=e}};function xy(e,t,n,i,o,a,u,d,h){Bi=!1,Cs=null,by.apply(wy,arguments)}function ky(e,t,n,i,o,a,u,d,h){if(xy.apply(this,arguments),Bi){if(Bi){var p=Cs;Bi=!1,Cs=null}else throw Error(D(198));js||(js=!0,ou=p)}}function ar(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Mp(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Td(e){if(ar(e)!==e)throw Error(D(188))}function Sy(e){var t=e.alternate;if(!t){if(t=ar(e),t===null)throw Error(D(188));return t!==e?null:e}for(var n=e,i=t;;){var o=n.return;if(o===null)break;var a=o.alternate;if(a===null){if(i=o.return,i!==null){n=i;continue}break}if(o.child===a.child){for(a=o.child;a;){if(a===n)return Td(o),e;if(a===i)return Td(o),t;a=a.sibling}throw Error(D(188))}if(n.return!==i.return)n=o,i=a;else{for(var u=!1,d=o.child;d;){if(d===n){u=!0,n=o,i=a;break}if(d===i){u=!0,i=o,n=a;break}d=d.sibling}if(!u){for(d=a.child;d;){if(d===n){u=!0,n=a,i=o;break}if(d===i){u=!0,i=a,n=o;break}d=d.sibling}if(!u)throw Error(D(189))}}if(n.alternate!==i)throw Error(D(190))}if(n.tag!==3)throw Error(D(188));return n.stateNode.current===n?e:t}function zp(e){return e=Sy(e),e!==null?Ip(e):null}function Ip(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ip(e);if(t!==null)return t;e=e.sibling}return null}var Ap=ct.unstable_scheduleCallback,Pd=ct.unstable_cancelCallback,Ty=ct.unstable_shouldYield,Py=ct.unstable_requestPaint,Se=ct.unstable_now,Ey=ct.unstable_getCurrentPriorityLevel,cc=ct.unstable_ImmediatePriority,Rp=ct.unstable_UserBlockingPriority,Os=ct.unstable_NormalPriority,Ly=ct.unstable_LowPriority,Dp=ct.unstable_IdlePriority,ta=null,Ft=null;function Cy(e){if(Ft&&typeof Ft.onCommitFiberRoot=="function")try{Ft.onCommitFiberRoot(ta,e,void 0,(e.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Ny,jy=Math.log,Oy=Math.LN2;function Ny(e){return e>>>=0,e===0?32:31-(jy(e)/Oy|0)|0}var Qo=64,Yo=4194304;function Ii(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ns(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes,u=n&268435455;if(u!==0){var d=u&~o;d!==0?i=Ii(d):(a&=u,a!==0&&(i=Ii(a)))}else u=n&~o,u!==0?i=Ii(u):a!==0&&(i=Ii(a));if(i===0)return 0;if(t!==0&&t!==i&&!(t&o)&&(o=i&-i,a=t&-t,o>=a||o===16&&(a&4194240)!==0))return t;if(i&4&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-Ot(t),o=1<<n,i|=e[n],t&=~o;return i}function My(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zy(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,a=e.pendingLanes;0<a;){var u=31-Ot(a),d=1<<u,h=o[u];h===-1?(!(d&n)||d&i)&&(o[u]=My(d,t)):h<=t&&(e.expiredLanes|=d),a&=~d}}function su(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Bp(){var e=Qo;return Qo<<=1,!(Qo&4194240)&&(Qo=64),e}function pl(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yo(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ot(t),e[t]=n}function Iy(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-Ot(n),a=1<<o;t[o]=0,i[o]=-1,e[o]=-1,n&=~a}}function hc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-Ot(n),o=1<<i;o&t|e[i]&t&&(e[i]|=t),n&=~o}}var ue=0;function $p(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Up,dc,Fp,Zp,Wp,au=!1,Xo=[],xn=null,kn=null,Sn=null,eo=new Map,to=new Map,gn=[],Ay="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ed(e,t){switch(e){case"focusin":case"focusout":xn=null;break;case"dragenter":case"dragleave":kn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":eo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":to.delete(t.pointerId)}}function Ti(e,t,n,i,o,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:a,targetContainers:[o]},t!==null&&(t=wo(t),t!==null&&dc(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function Ry(e,t,n,i,o){switch(t){case"focusin":return xn=Ti(xn,e,t,n,i,o),!0;case"dragenter":return kn=Ti(kn,e,t,n,i,o),!0;case"mouseover":return Sn=Ti(Sn,e,t,n,i,o),!0;case"pointerover":var a=o.pointerId;return eo.set(a,Ti(eo.get(a)||null,e,t,n,i,o)),!0;case"gotpointercapture":return a=o.pointerId,to.set(a,Ti(to.get(a)||null,e,t,n,i,o)),!0}return!1}function qp(e){var t=Gn(e.target);if(t!==null){var n=ar(t);if(n!==null){if(t=n.tag,t===13){if(t=Mp(n),t!==null){e.blockedOn=t,Wp(e.priority,function(){Fp(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _s(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=lu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);nu=i,n.target.dispatchEvent(i),nu=null}else return t=wo(n),t!==null&&dc(t),e.blockedOn=n,!1;t.shift()}return!0}function Ld(e,t,n){_s(e)&&n.delete(t)}function Dy(){au=!1,xn!==null&&_s(xn)&&(xn=null),kn!==null&&_s(kn)&&(kn=null),Sn!==null&&_s(Sn)&&(Sn=null),eo.forEach(Ld),to.forEach(Ld)}function Pi(e,t){e.blockedOn===t&&(e.blockedOn=null,au||(au=!0,ct.unstable_scheduleCallback(ct.unstable_NormalPriority,Dy)))}function no(e){function t(o){return Pi(o,e)}if(0<Xo.length){Pi(Xo[0],e);for(var n=1;n<Xo.length;n++){var i=Xo[n];i.blockedOn===e&&(i.blockedOn=null)}}for(xn!==null&&Pi(xn,e),kn!==null&&Pi(kn,e),Sn!==null&&Pi(Sn,e),eo.forEach(t),to.forEach(t),n=0;n<gn.length;n++)i=gn[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<gn.length&&(n=gn[0],n.blockedOn===null);)qp(n),n.blockedOn===null&&gn.shift()}var Fr=an.ReactCurrentBatchConfig,Ms=!0;function By(e,t,n,i){var o=ue,a=Fr.transition;Fr.transition=null;try{ue=1,fc(e,t,n,i)}finally{ue=o,Fr.transition=a}}function $y(e,t,n,i){var o=ue,a=Fr.transition;Fr.transition=null;try{ue=4,fc(e,t,n,i)}finally{ue=o,Fr.transition=a}}function fc(e,t,n,i){if(Ms){var o=lu(e,t,n,i);if(o===null)Sl(e,t,i,zs,n),Ed(e,i);else if(Ry(o,e,t,n,i))i.stopPropagation();else if(Ed(e,i),t&4&&-1<Ay.indexOf(e)){for(;o!==null;){var a=wo(o);if(a!==null&&Up(a),a=lu(e,t,n,i),a===null&&Sl(e,t,i,zs,n),a===o)break;o=a}o!==null&&i.stopPropagation()}else Sl(e,t,i,null,n)}}var zs=null;function lu(e,t,n,i){if(zs=null,e=uc(i),e=Gn(e),e!==null)if(t=ar(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Mp(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return zs=e,null}function Hp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ey()){case cc:return 1;case Rp:return 4;case Os:case Ly:return 16;case Dp:return 536870912;default:return 16}default:return 16}}var yn=null,pc=null,vs=null;function Vp(){if(vs)return vs;var e,t=pc,n=t.length,i,o="value"in yn?yn.value:yn.textContent,a=o.length;for(e=0;e<n&&t[e]===o[e];e++);var u=n-e;for(i=1;i<=u&&t[n-i]===o[a-i];i++);return vs=o.slice(e,1<i?1-i:void 0)}function ys(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function es(){return!0}function Cd(){return!1}function dt(e){function t(n,i,o,a,u){this._reactName=n,this._targetInst=o,this.type=i,this.nativeEvent=a,this.target=u,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(a):a[d]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?es:Cd,this.isPropagationStopped=Cd,this}return be(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=es)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=es)},persist:function(){},isPersistent:es}),t}var ti={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},mc=dt(ti),bo=be({},ti,{view:0,detail:0}),Uy=dt(bo),ml,gl,Ei,na=be({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ei&&(Ei&&e.type==="mousemove"?(ml=e.screenX-Ei.screenX,gl=e.screenY-Ei.screenY):gl=ml=0,Ei=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),jd=dt(na),Fy=be({},na,{dataTransfer:0}),Zy=dt(Fy),Wy=be({},bo,{relatedTarget:0}),_l=dt(Wy),qy=be({},ti,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=dt(qy),Vy=be({},ti,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ky=dt(Vy),Gy=be({},ti,{data:0}),Od=dt(Gy),Jy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Yy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Xy(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Yy[e])?!!t[e]:!1}function gc(){return Xy}var eb=be({},bo,{key:function(e){if(e.key){var t=Jy[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ys(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Qy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gc,charCode:function(e){return e.type==="keypress"?ys(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ys(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),tb=dt(eb),nb=be({},na,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Nd=dt(nb),rb=be({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gc}),ib=dt(rb),ob=be({},ti,{propertyName:0,elapsedTime:0,pseudoElement:0}),sb=dt(ob),ab=be({},na,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),lb=dt(ab),ub=[9,13,27,32],_c=nn&&"CompositionEvent"in window,$i=null;nn&&"documentMode"in document&&($i=document.documentMode);var cb=nn&&"TextEvent"in window&&!$i,Kp=nn&&(!_c||$i&&8<$i&&11>=$i),Md=" ",zd=!1;function Gp(e,t){switch(e){case"keyup":return ub.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Cr=!1;function hb(e,t){switch(e){case"compositionend":return Jp(t);case"keypress":return t.which!==32?null:(zd=!0,Md);case"textInput":return e=t.data,e===Md&&zd?null:e;default:return null}}function db(e,t){if(Cr)return e==="compositionend"||!_c&&Gp(e,t)?(e=Vp(),vs=pc=yn=null,Cr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kp&&t.locale!=="ko"?null:t.data;default:return null}}var fb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Id(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!fb[e.type]:t==="textarea"}function Qp(e,t,n,i){Lp(i),t=Is(t,"onChange"),0<t.length&&(n=new mc("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Ui=null,ro=null;function pb(e){lm(e,0)}function ra(e){var t=Nr(e);if(wp(t))return e}function mb(e,t){if(e==="change")return t}var Yp=!1;if(nn){var vl;if(nn){var yl="oninput"in document;if(!yl){var Ad=document.createElement("div");Ad.setAttribute("oninput","return;"),yl=typeof Ad.oninput=="function"}vl=yl}else vl=!1;Yp=vl&&(!document.documentMode||9<document.documentMode)}function Rd(){Ui&&(Ui.detachEvent("onpropertychange",Xp),ro=Ui=null)}function Xp(e){if(e.propertyName==="value"&&ra(ro)){var t=[];Qp(t,ro,e,uc(e)),Np(pb,t)}}function gb(e,t,n){e==="focusin"?(Rd(),Ui=t,ro=n,Ui.attachEvent("onpropertychange",Xp)):e==="focusout"&&Rd()}function _b(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ra(ro)}function vb(e,t){if(e==="click")return ra(t)}function yb(e,t){if(e==="input"||e==="change")return ra(t)}function bb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Mt=typeof Object.is=="function"?Object.is:bb;function io(e,t){if(Mt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var o=n[i];if(!Wl.call(t,o)||!Mt(e[o],t[o]))return!1}return!0}function Dd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bd(e,t){var n=Dd(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Dd(n)}}function em(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?em(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function tm(){for(var e=window,t=Ls();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ls(e.document)}return t}function vc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function wb(e){var t=tm(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&em(n.ownerDocument.documentElement,n)){if(i!==null&&vc(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var o=n.textContent.length,a=Math.min(i.start,o);i=i.end===void 0?a:Math.min(i.end,o),!e.extend&&a>i&&(o=i,i=a,a=o),o=Bd(n,a);var u=Bd(n,i);o&&u&&(e.rangeCount!==1||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==u.node||e.focusOffset!==u.offset)&&(t=t.createRange(),t.setStart(o.node,o.offset),e.removeAllRanges(),a>i?(e.addRange(t),e.extend(u.node,u.offset)):(t.setEnd(u.node,u.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var xb=nn&&"documentMode"in document&&11>=document.documentMode,jr=null,uu=null,Fi=null,cu=!1;function $d(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cu||jr==null||jr!==Ls(i)||(i=jr,"selectionStart"in i&&vc(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fi&&io(Fi,i)||(Fi=i,i=Is(uu,"onSelect"),0<i.length&&(t=new mc("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=jr)))}function ts(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Or={animationend:ts("Animation","AnimationEnd"),animationiteration:ts("Animation","AnimationIteration"),animationstart:ts("Animation","AnimationStart"),transitionend:ts("Transition","TransitionEnd")},bl={},nm={};nn&&(nm=document.createElement("div").style,"AnimationEvent"in window||(delete Or.animationend.animation,delete Or.animationiteration.animation,delete Or.animationstart.animation),"TransitionEvent"in window||delete Or.transitionend.transition);function ia(e){if(bl[e])return bl[e];if(!Or[e])return e;var t=Or[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in nm)return bl[e]=t[n];return e}var rm=ia("animationend"),im=ia("animationiteration"),om=ia("animationstart"),sm=ia("transitionend"),am=new Map,Ud="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,t){am.set(e,t),sr(t,[e])}for(var wl=0;wl<Ud.length;wl++){var xl=Ud[wl],kb=xl.toLowerCase(),Sb=xl[0].toUpperCase()+xl.slice(1);Nn(kb,"on"+Sb)}Nn(rm,"onAnimationEnd");Nn(im,"onAnimationIteration");Nn(om,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(sm,"onTransitionEnd");qr("onMouseEnter",["mouseout","mouseover"]);qr("onMouseLeave",["mouseout","mouseover"]);qr("onPointerEnter",["pointerout","pointerover"]);qr("onPointerLeave",["pointerout","pointerover"]);sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));sr("onBeforeInput",["compositionend","keypress","textInput","paste"]);sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ai="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tb=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ai));function Fd(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,ky(i,t,void 0,e),e.currentTarget=null}function lm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],o=i.event;i=i.listeners;e:{var a=void 0;if(t)for(var u=i.length-1;0<=u;u--){var d=i[u],h=d.instance,p=d.currentTarget;if(d=d.listener,h!==a&&o.isPropagationStopped())break e;Fd(o,d,p),a=h}else for(u=0;u<i.length;u++){if(d=i[u],h=d.instance,p=d.currentTarget,d=d.listener,h!==a&&o.isPropagationStopped())break e;Fd(o,d,p),a=h}}}if(js)throw e=ou,js=!1,ou=null,e}function pe(e,t){var n=t[mu];n===void 0&&(n=t[mu]=new Set);var i=e+"__bubble";n.has(i)||(um(t,e,2,!1),n.add(i))}function kl(e,t,n){var i=0;t&&(i|=4),um(n,e,i,t)}var ns="_reactListening"+Math.random().toString(36).slice(2);function oo(e){if(!e[ns]){e[ns]=!0,gp.forEach(function(n){n!=="selectionchange"&&(Tb.has(n)||kl(n,!1,e),kl(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ns]||(t[ns]=!0,kl("selectionchange",!1,t))}}function um(e,t,n,i){switch(Hp(t)){case 1:var o=By;break;case 4:o=$y;break;default:o=fc}n=o.bind(null,t,n,e),o=void 0,!iu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Sl(e,t,n,i,o){var a=i;if(!(t&1)&&!(t&2)&&i!==null)e:for(;;){if(i===null)return;var u=i.tag;if(u===3||u===4){var d=i.stateNode.containerInfo;if(d===o||d.nodeType===8&&d.parentNode===o)break;if(u===4)for(u=i.return;u!==null;){var h=u.tag;if((h===3||h===4)&&(h=u.stateNode.containerInfo,h===o||h.nodeType===8&&h.parentNode===o))return;u=u.return}for(;d!==null;){if(u=Gn(d),u===null)return;if(h=u.tag,h===5||h===6){i=a=u;continue e}d=d.parentNode}}i=i.return}Np(function(){var p=a,m=uc(n),g=[];e:{var v=am.get(e);if(v!==void 0){var k=mc,S=e;switch(e){case"keypress":if(ys(n)===0)break e;case"keydown":case"keyup":k=tb;break;case"focusin":S="focus",k=_l;break;case"focusout":S="blur",k=_l;break;case"beforeblur":case"afterblur":k=_l;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=jd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Zy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=ib;break;case rm:case im:case om:k=Hy;break;case sm:k=sb;break;case"scroll":k=Uy;break;case"wheel":k=lb;break;case"copy":case"cut":case"paste":k=Ky;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Nd}var P=(t&4)!==0,N=!P&&e==="scroll",w=P?v!==null?v+"Capture":null:v;P=[];for(var y=p,b;y!==null;){b=y;var C=b.stateNode;if(b.tag===5&&C!==null&&(b=C,w!==null&&(C=Xi(y,w),C!=null&&P.push(so(y,C,b)))),N)break;y=y.return}0<P.length&&(v=new k(v,S,null,n,m),g.push({event:v,listeners:P}))}}if(!(t&7)){e:{if(v=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",v&&n!==nu&&(S=n.relatedTarget||n.fromElement)&&(Gn(S)||S[rn]))break e;if((k||v)&&(v=m.window===m?m:(v=m.ownerDocument)?v.defaultView||v.parentWindow:window,k?(S=n.relatedTarget||n.toElement,k=p,S=S?Gn(S):null,S!==null&&(N=ar(S),S!==N||S.tag!==5&&S.tag!==6)&&(S=null)):(k=null,S=p),k!==S)){if(P=jd,C="onMouseLeave",w="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(P=Nd,C="onPointerLeave",w="onPointerEnter",y="pointer"),N=k==null?v:Nr(k),b=S==null?v:Nr(S),v=new P(C,y+"leave",k,n,m),v.target=N,v.relatedTarget=b,C=null,Gn(m)===p&&(P=new P(w,y+"enter",S,n,m),P.target=b,P.relatedTarget=N,C=P),N=C,k&&S)t:{for(P=k,w=S,y=0,b=P;b;b=yr(b))y++;for(b=0,C=w;C;C=yr(C))b++;for(;0<y-b;)P=yr(P),y--;for(;0<b-y;)w=yr(w),b--;for(;y--;){if(P===w||w!==null&&P===w.alternate)break t;P=yr(P),w=yr(w)}P=null}else P=null;k!==null&&Zd(g,v,k,P,!1),S!==null&&N!==null&&Zd(g,N,S,P,!0)}}e:{if(v=p?Nr(p):window,k=v.nodeName&&v.nodeName.toLowerCase(),k==="select"||k==="input"&&v.type==="file")var A=mb;else if(Id(v))if(Yp)A=yb;else{A=_b;var R=gb}else(k=v.nodeName)&&k.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(A=vb);if(A&&(A=A(e,p))){Qp(g,A,n,m);break e}R&&R(e,v,p),e==="focusout"&&(R=v._wrapperState)&&R.controlled&&v.type==="number"&&Ql(v,"number",v.value)}switch(R=p?Nr(p):window,e){case"focusin":(Id(R)||R.contentEditable==="true")&&(jr=R,uu=p,Fi=null);break;case"focusout":Fi=uu=jr=null;break;case"mousedown":cu=!0;break;case"contextmenu":case"mouseup":case"dragend":cu=!1,$d(g,n,m);break;case"selectionchange":if(xb)break;case"keydown":case"keyup":$d(g,n,m)}var M;if(_c)e:{switch(e){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Cr?Gp(e,n)&&(B="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Kp&&n.locale!=="ko"&&(Cr||B!=="onCompositionStart"?B==="onCompositionEnd"&&Cr&&(M=Vp()):(yn=m,pc="value"in yn?yn.value:yn.textContent,Cr=!0)),R=Is(p,B),0<R.length&&(B=new Od(B,e,null,n,m),g.push({event:B,listeners:R}),M?B.data=M:(M=Jp(n),M!==null&&(B.data=M)))),(M=cb?hb(e,n):db(e,n))&&(p=Is(p,"onBeforeInput"),0<p.length&&(m=new Od("onBeforeInput","beforeinput",null,n,m),g.push({event:m,listeners:p}),m.data=M))}lm(g,t)})}function so(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Is(e,t){for(var n=t+"Capture",i=[];e!==null;){var o=e,a=o.stateNode;o.tag===5&&a!==null&&(o=a,a=Xi(e,n),a!=null&&i.unshift(so(e,a,o)),a=Xi(e,t),a!=null&&i.push(so(e,a,o))),e=e.return}return i}function yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zd(e,t,n,i,o){for(var a=t._reactName,u=[];n!==null&&n!==i;){var d=n,h=d.alternate,p=d.stateNode;if(h!==null&&h===i)break;d.tag===5&&p!==null&&(d=p,o?(h=Xi(n,a),h!=null&&u.unshift(so(n,h,d))):o||(h=Xi(n,a),h!=null&&u.push(so(n,h,d)))),n=n.return}u.length!==0&&e.push({event:t,listeners:u})}var Pb=/\r\n?/g,Eb=/\u0000|\uFFFD/g;function Wd(e){return(typeof e=="string"?e:""+e).replace(Pb,`
`).replace(Eb,"")}function rs(e,t,n){if(t=Wd(t),Wd(e)!==t&&n)throw Error(D(425))}function As(){}var hu=null,du=null;function fu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var pu=typeof setTimeout=="function"?setTimeout:void 0,Lb=typeof clearTimeout=="function"?clearTimeout:void 0,qd=typeof Promise=="function"?Promise:void 0,Cb=typeof queueMicrotask=="function"?queueMicrotask:typeof qd<"u"?function(e){return qd.resolve(null).then(e).catch(jb)}:pu;function jb(e){setTimeout(function(){throw e})}function Tl(e,t){var n=t,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(i===0){e.removeChild(o),no(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=o}while(n);no(t)}function Tn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Hd(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var ni=Math.random().toString(36).slice(2),Ut="__reactFiber$"+ni,ao="__reactProps$"+ni,rn="__reactContainer$"+ni,mu="__reactEvents$"+ni,Ob="__reactListeners$"+ni,Nb="__reactHandles$"+ni;function Gn(e){var t=e[Ut];if(t)return t;for(var n=e.parentNode;n;){if(t=n[rn]||n[Ut]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Hd(e);e!==null;){if(n=e[Ut])return n;e=Hd(e)}return t}e=n,n=e.parentNode}return null}function wo(e){return e=e[Ut]||e[rn],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Nr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(D(33))}function oa(e){return e[ao]||null}var gu=[],Mr=-1;function Mn(e){return{current:e}}function me(e){0>Mr||(e.current=gu[Mr],gu[Mr]=null,Mr--)}function fe(e,t){Mr++,gu[Mr]=e.current,e.current=t}var On={},qe=Mn(On),rt=Mn(!1),tr=On;function Hr(e,t){var n=e.type.contextTypes;if(!n)return On;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var o={},a;for(a in n)o[a]=t[a];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function it(e){return e=e.childContextTypes,e!=null}function Rs(){me(rt),me(qe)}function Vd(e,t,n){if(qe.current!==On)throw Error(D(168));fe(qe,t),fe(rt,n)}function cm(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var o in i)if(!(o in t))throw Error(D(108,gy(e)||"Unknown",o));return be({},n,i)}function Ds(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||On,tr=qe.current,fe(qe,e),fe(rt,rt.current),!0}function Kd(e,t,n){var i=e.stateNode;if(!i)throw Error(D(169));n?(e=cm(e,t,tr),i.__reactInternalMemoizedMergedChildContext=e,me(rt),me(qe),fe(qe,e)):me(rt),fe(rt,n)}var Yt=null,sa=!1,Pl=!1;function hm(e){Yt===null?Yt=[e]:Yt.push(e)}function Mb(e){sa=!0,hm(e)}function zn(){if(!Pl&&Yt!==null){Pl=!0;var e=0,t=ue;try{var n=Yt;for(ue=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Yt=null,sa=!1}catch(o){throw Yt!==null&&(Yt=Yt.slice(e+1)),Ap(cc,zn),o}finally{ue=t,Pl=!1}}return null}var zr=[],Ir=0,Bs=null,$s=0,_t=[],vt=0,nr=null,Xt=1,en="";function qn(e,t){zr[Ir++]=$s,zr[Ir++]=Bs,Bs=e,$s=t}function dm(e,t,n){_t[vt++]=Xt,_t[vt++]=en,_t[vt++]=nr,nr=e;var i=Xt;e=en;var o=32-Ot(i)-1;i&=~(1<<o),n+=1;var a=32-Ot(t)+o;if(30<a){var u=o-o%5;a=(i&(1<<u)-1).toString(32),i>>=u,o-=u,Xt=1<<32-Ot(t)+o|n<<o|i,en=a+e}else Xt=1<<a|n<<o|i,en=e}function yc(e){e.return!==null&&(qn(e,1),dm(e,1,0))}function bc(e){for(;e===Bs;)Bs=zr[--Ir],zr[Ir]=null,$s=zr[--Ir],zr[Ir]=null;for(;e===nr;)nr=_t[--vt],_t[vt]=null,en=_t[--vt],_t[vt]=null,Xt=_t[--vt],_t[vt]=null}var lt=null,at=null,ge=!1,jt=null;function fm(e,t){var n=yt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Gd(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,lt=e,at=Tn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,lt=e,at=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=nr!==null?{id:Xt,overflow:en}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=yt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,lt=e,at=null,!0):!1;default:return!1}}function _u(e){return(e.mode&1)!==0&&(e.flags&128)===0}function vu(e){if(ge){var t=at;if(t){var n=t;if(!Gd(e,t)){if(_u(e))throw Error(D(418));t=Tn(n.nextSibling);var i=lt;t&&Gd(e,t)?fm(i,n):(e.flags=e.flags&-4097|2,ge=!1,lt=e)}}else{if(_u(e))throw Error(D(418));e.flags=e.flags&-4097|2,ge=!1,lt=e}}}function Jd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;lt=e}function is(e){if(e!==lt)return!1;if(!ge)return Jd(e),ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fu(e.type,e.memoizedProps)),t&&(t=at)){if(_u(e))throw pm(),Error(D(418));for(;t;)fm(e,t),t=Tn(t.nextSibling)}if(Jd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(D(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){at=Tn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}at=null}}else at=lt?Tn(e.stateNode.nextSibling):null;return!0}function pm(){for(var e=at;e;)e=Tn(e.nextSibling)}function Vr(){at=lt=null,ge=!1}function wc(e){jt===null?jt=[e]:jt.push(e)}var zb=an.ReactCurrentBatchConfig;function Li(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(D(309));var i=n.stateNode}if(!i)throw Error(D(147,e));var o=i,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(u){var d=o.refs;u===null?delete d[a]:d[a]=u},t._stringRef=a,t)}if(typeof e!="string")throw Error(D(284));if(!n._owner)throw Error(D(290,e))}return e}function os(e,t){throw e=Object.prototype.toString.call(t),Error(D(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qd(e){var t=e._init;return t(e._payload)}function mm(e){function t(w,y){if(e){var b=w.deletions;b===null?(w.deletions=[y],w.flags|=16):b.push(y)}}function n(w,y){if(!e)return null;for(;y!==null;)t(w,y),y=y.sibling;return null}function i(w,y){for(w=new Map;y!==null;)y.key!==null?w.set(y.key,y):w.set(y.index,y),y=y.sibling;return w}function o(w,y){return w=Cn(w,y),w.index=0,w.sibling=null,w}function a(w,y,b){return w.index=b,e?(b=w.alternate,b!==null?(b=b.index,b<y?(w.flags|=2,y):b):(w.flags|=2,y)):(w.flags|=1048576,y)}function u(w){return e&&w.alternate===null&&(w.flags|=2),w}function d(w,y,b,C){return y===null||y.tag!==6?(y=Ml(b,w.mode,C),y.return=w,y):(y=o(y,b),y.return=w,y)}function h(w,y,b,C){var A=b.type;return A===Lr?m(w,y,b.props.children,C,b.key):y!==null&&(y.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===pn&&Qd(A)===y.type)?(C=o(y,b.props),C.ref=Li(w,y,b),C.return=w,C):(C=Ps(b.type,b.key,b.props,null,w.mode,C),C.ref=Li(w,y,b),C.return=w,C)}function p(w,y,b,C){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=zl(b,w.mode,C),y.return=w,y):(y=o(y,b.children||[]),y.return=w,y)}function m(w,y,b,C,A){return y===null||y.tag!==7?(y=Xn(b,w.mode,C,A),y.return=w,y):(y=o(y,b),y.return=w,y)}function g(w,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=Ml(""+y,w.mode,b),y.return=w,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ko:return b=Ps(y.type,y.key,y.props,null,w.mode,b),b.ref=Li(w,null,y),b.return=w,b;case Er:return y=zl(y,w.mode,b),y.return=w,y;case pn:var C=y._init;return g(w,C(y._payload),b)}if(zi(y)||ki(y))return y=Xn(y,w.mode,b,null),y.return=w,y;os(w,y)}return null}function v(w,y,b,C){var A=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return A!==null?null:d(w,y,""+b,C);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ko:return b.key===A?h(w,y,b,C):null;case Er:return b.key===A?p(w,y,b,C):null;case pn:return A=b._init,v(w,y,A(b._payload),C)}if(zi(b)||ki(b))return A!==null?null:m(w,y,b,C,null);os(w,b)}return null}function k(w,y,b,C,A){if(typeof C=="string"&&C!==""||typeof C=="number")return w=w.get(b)||null,d(y,w,""+C,A);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ko:return w=w.get(C.key===null?b:C.key)||null,h(y,w,C,A);case Er:return w=w.get(C.key===null?b:C.key)||null,p(y,w,C,A);case pn:var R=C._init;return k(w,y,b,R(C._payload),A)}if(zi(C)||ki(C))return w=w.get(b)||null,m(y,w,C,A,null);os(y,C)}return null}function S(w,y,b,C){for(var A=null,R=null,M=y,B=y=0,q=null;M!==null&&B<b.length;B++){M.index>B?(q=M,M=null):q=M.sibling;var W=v(w,M,b[B],C);if(W===null){M===null&&(M=q);break}e&&M&&W.alternate===null&&t(w,M),y=a(W,y,B),R===null?A=W:R.sibling=W,R=W,M=q}if(B===b.length)return n(w,M),ge&&qn(w,B),A;if(M===null){for(;B<b.length;B++)M=g(w,b[B],C),M!==null&&(y=a(M,y,B),R===null?A=M:R.sibling=M,R=M);return ge&&qn(w,B),A}for(M=i(w,M);B<b.length;B++)q=k(M,w,B,b[B],C),q!==null&&(e&&q.alternate!==null&&M.delete(q.key===null?B:q.key),y=a(q,y,B),R===null?A=q:R.sibling=q,R=q);return e&&M.forEach(function(re){return t(w,re)}),ge&&qn(w,B),A}function P(w,y,b,C){var A=ki(b);if(typeof A!="function")throw Error(D(150));if(b=A.call(b),b==null)throw Error(D(151));for(var R=A=null,M=y,B=y=0,q=null,W=b.next();M!==null&&!W.done;B++,W=b.next()){M.index>B?(q=M,M=null):q=M.sibling;var re=v(w,M,W.value,C);if(re===null){M===null&&(M=q);break}e&&M&&re.alternate===null&&t(w,M),y=a(re,y,B),R===null?A=re:R.sibling=re,R=re,M=q}if(W.done)return n(w,M),ge&&qn(w,B),A;if(M===null){for(;!W.done;B++,W=b.next())W=g(w,W.value,C),W!==null&&(y=a(W,y,B),R===null?A=W:R.sibling=W,R=W);return ge&&qn(w,B),A}for(M=i(w,M);!W.done;B++,W=b.next())W=k(M,w,B,W.value,C),W!==null&&(e&&W.alternate!==null&&M.delete(W.key===null?B:W.key),y=a(W,y,B),R===null?A=W:R.sibling=W,R=W);return e&&M.forEach(function(we){return t(w,we)}),ge&&qn(w,B),A}function N(w,y,b,C){if(typeof b=="object"&&b!==null&&b.type===Lr&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Ko:e:{for(var A=b.key,R=y;R!==null;){if(R.key===A){if(A=b.type,A===Lr){if(R.tag===7){n(w,R.sibling),y=o(R,b.props.children),y.return=w,w=y;break e}}else if(R.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===pn&&Qd(A)===R.type){n(w,R.sibling),y=o(R,b.props),y.ref=Li(w,R,b),y.return=w,w=y;break e}n(w,R);break}else t(w,R);R=R.sibling}b.type===Lr?(y=Xn(b.props.children,w.mode,C,b.key),y.return=w,w=y):(C=Ps(b.type,b.key,b.props,null,w.mode,C),C.ref=Li(w,y,b),C.return=w,w=C)}return u(w);case Er:e:{for(R=b.key;y!==null;){if(y.key===R)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(w,y.sibling),y=o(y,b.children||[]),y.return=w,w=y;break e}else{n(w,y);break}else t(w,y);y=y.sibling}y=zl(b,w.mode,C),y.return=w,w=y}return u(w);case pn:return R=b._init,N(w,y,R(b._payload),C)}if(zi(b))return S(w,y,b,C);if(ki(b))return P(w,y,b,C);os(w,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(w,y.sibling),y=o(y,b),y.return=w,w=y):(n(w,y),y=Ml(b,w.mode,C),y.return=w,w=y),u(w)):n(w,y)}return N}var Kr=mm(!0),gm=mm(!1),Us=Mn(null),Fs=null,Ar=null,xc=null;function kc(){xc=Ar=Fs=null}function Sc(e){var t=Us.current;me(Us),e._currentValue=t}function yu(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function Zr(e,t){Fs=e,xc=Ar=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(nt=!0),e.firstContext=null)}function wt(e){var t=e._currentValue;if(xc!==e)if(e={context:e,memoizedValue:t,next:null},Ar===null){if(Fs===null)throw Error(D(308));Ar=e,Fs.dependencies={lanes:0,firstContext:e}}else Ar=Ar.next=e;return t}var Jn=null;function Tc(e){Jn===null?Jn=[e]:Jn.push(e)}function _m(e,t,n,i){var o=t.interleaved;return o===null?(n.next=n,Tc(t)):(n.next=o.next,o.next=n),t.interleaved=n,on(e,i)}function on(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var mn=!1;function Pc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vm(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function tn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Pn(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,se&2){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,on(e,n)}return o=i.interleaved,o===null?(t.next=t,Tc(i)):(t.next=o.next,o.next=t),i.interleaved=t,on(e,n)}function bs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,hc(e,n)}}function Yd(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var o=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?o=a=u:a=a.next=u,n=n.next}while(n!==null);a===null?o=a=t:a=a.next=t}else o=a=t;n={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:a,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Zs(e,t,n,i){var o=e.updateQueue;mn=!1;var a=o.firstBaseUpdate,u=o.lastBaseUpdate,d=o.shared.pending;if(d!==null){o.shared.pending=null;var h=d,p=h.next;h.next=null,u===null?a=p:u.next=p,u=h;var m=e.alternate;m!==null&&(m=m.updateQueue,d=m.lastBaseUpdate,d!==u&&(d===null?m.firstBaseUpdate=p:d.next=p,m.lastBaseUpdate=h))}if(a!==null){var g=o.baseState;u=0,m=p=h=null,d=a;do{var v=d.lane,k=d.eventTime;if((i&v)===v){m!==null&&(m=m.next={eventTime:k,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var S=e,P=d;switch(v=t,k=n,P.tag){case 1:if(S=P.payload,typeof S=="function"){g=S.call(k,g,v);break e}g=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=P.payload,v=typeof S=="function"?S.call(k,g,v):S,v==null)break e;g=be({},g,v);break e;case 2:mn=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,v=o.effects,v===null?o.effects=[d]:v.push(d))}else k={eventTime:k,lane:v,tag:d.tag,payload:d.payload,callback:d.callback,next:null},m===null?(p=m=k,h=g):m=m.next=k,u|=v;if(d=d.next,d===null){if(d=o.shared.pending,d===null)break;v=d,d=v.next,v.next=null,o.lastBaseUpdate=v,o.shared.pending=null}}while(!0);if(m===null&&(h=g),o.baseState=h,o.firstBaseUpdate=p,o.lastBaseUpdate=m,t=o.shared.interleaved,t!==null){o=t;do u|=o.lane,o=o.next;while(o!==t)}else a===null&&(o.shared.lanes=0);ir|=u,e.lanes=u,e.memoizedState=g}}function Xd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],o=i.callback;if(o!==null){if(i.callback=null,i=n,typeof o!="function")throw Error(D(191,o));o.call(i)}}}var xo={},Zt=Mn(xo),lo=Mn(xo),uo=Mn(xo);function Qn(e){if(e===xo)throw Error(D(174));return e}function Ec(e,t){switch(fe(uo,t),fe(lo,e),fe(Zt,xo),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xl(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xl(t,e)}me(Zt),fe(Zt,t)}function Gr(){me(Zt),me(lo),me(uo)}function ym(e){Qn(uo.current);var t=Qn(Zt.current),n=Xl(t,e.type);t!==n&&(fe(lo,e),fe(Zt,n))}function Lc(e){lo.current===e&&(me(Zt),me(lo))}var ve=Mn(0);function Ws(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var El=[];function Cc(){for(var e=0;e<El.length;e++)El[e]._workInProgressVersionPrimary=null;El.length=0}var ws=an.ReactCurrentDispatcher,Ll=an.ReactCurrentBatchConfig,rr=0,ye=null,Ne=null,Ie=null,qs=!1,Zi=!1,co=0,Ib=0;function Fe(){throw Error(D(321))}function jc(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Mt(e[n],t[n]))return!1;return!0}function Oc(e,t,n,i,o,a){if(rr=a,ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ws.current=e===null||e.memoizedState===null?Bb:$b,e=n(i,o),Zi){a=0;do{if(Zi=!1,co=0,25<=a)throw Error(D(301));a+=1,Ie=Ne=null,t.updateQueue=null,ws.current=Ub,e=n(i,o)}while(Zi)}if(ws.current=Hs,t=Ne!==null&&Ne.next!==null,rr=0,Ie=Ne=ye=null,qs=!1,t)throw Error(D(300));return e}function Nc(){var e=co!==0;return co=0,e}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?ye.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function xt(){if(Ne===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=Ie===null?ye.memoizedState:Ie.next;if(t!==null)Ie=t,Ne=e;else{if(e===null)throw Error(D(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},Ie===null?ye.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function ho(e,t){return typeof t=="function"?t(e):t}function Cl(e){var t=xt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var i=Ne,o=i.baseQueue,a=n.pending;if(a!==null){if(o!==null){var u=o.next;o.next=a.next,a.next=u}i.baseQueue=o=a,n.pending=null}if(o!==null){a=o.next,i=i.baseState;var d=u=null,h=null,p=a;do{var m=p.lane;if((rr&m)===m)h!==null&&(h=h.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:e(i,p.action);else{var g={lane:m,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};h===null?(d=h=g,u=i):h=h.next=g,ye.lanes|=m,ir|=m}p=p.next}while(p!==null&&p!==a);h===null?u=i:h.next=d,Mt(i,t.memoizedState)||(nt=!0),t.memoizedState=i,t.baseState=u,t.baseQueue=h,n.lastRenderedState=i}if(e=n.interleaved,e!==null){o=e;do a=o.lane,ye.lanes|=a,ir|=a,o=o.next;while(o!==e)}else o===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function jl(e){var t=xt(),n=t.queue;if(n===null)throw Error(D(311));n.lastRenderedReducer=e;var i=n.dispatch,o=n.pending,a=t.memoizedState;if(o!==null){n.pending=null;var u=o=o.next;do a=e(a,u.action),u=u.next;while(u!==o);Mt(a,t.memoizedState)||(nt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,i]}function bm(){}function wm(e,t){var n=ye,i=xt(),o=t(),a=!Mt(i.memoizedState,o);if(a&&(i.memoizedState=o,nt=!0),i=i.queue,Mc(Sm.bind(null,n,i,e),[e]),i.getSnapshot!==t||a||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,fo(9,km.bind(null,n,i,o,t),void 0,null),Ae===null)throw Error(D(349));rr&30||xm(n,t,o)}return o}function xm(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function km(e,t,n,i){t.value=n,t.getSnapshot=i,Tm(t)&&Pm(e)}function Sm(e,t,n){return n(function(){Tm(t)&&Pm(e)})}function Tm(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Mt(e,n)}catch{return!0}}function Pm(e){var t=on(e,1);t!==null&&Nt(t,e,1,-1)}function ef(e){var t=Bt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ho,lastRenderedState:e},t.queue=e,e=e.dispatch=Db.bind(null,ye,e),[t.memoizedState,e]}function fo(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ye.updateQueue,t===null?(t={lastEffect:null,stores:null},ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function Em(){return xt().memoizedState}function xs(e,t,n,i){var o=Bt();ye.flags|=e,o.memoizedState=fo(1|t,n,void 0,i===void 0?null:i)}function aa(e,t,n,i){var o=xt();i=i===void 0?null:i;var a=void 0;if(Ne!==null){var u=Ne.memoizedState;if(a=u.destroy,i!==null&&jc(i,u.deps)){o.memoizedState=fo(t,n,a,i);return}}ye.flags|=e,o.memoizedState=fo(1|t,n,a,i)}function tf(e,t){return xs(8390656,8,e,t)}function Mc(e,t){return aa(2048,8,e,t)}function Lm(e,t){return aa(4,2,e,t)}function Cm(e,t){return aa(4,4,e,t)}function jm(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Om(e,t,n){return n=n!=null?n.concat([e]):null,aa(4,4,jm.bind(null,t,e),n)}function zc(){}function Nm(e,t){var n=xt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&jc(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Mm(e,t){var n=xt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&jc(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function zm(e,t,n){return rr&21?(Mt(n,t)||(n=Bp(),ye.lanes|=n,ir|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n)}function Ab(e,t){var n=ue;ue=n!==0&&4>n?n:4,e(!0);var i=Ll.transition;Ll.transition={};try{e(!1),t()}finally{ue=n,Ll.transition=i}}function Im(){return xt().memoizedState}function Rb(e,t,n){var i=Ln(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Am(e))Rm(t,n);else if(n=_m(e,t,n,i),n!==null){var o=Ge();Nt(n,e,i,o),Dm(n,t,i)}}function Db(e,t,n){var i=Ln(e),o={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Am(e))Rm(t,o);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var u=t.lastRenderedState,d=a(u,n);if(o.hasEagerState=!0,o.eagerState=d,Mt(d,u)){var h=t.interleaved;h===null?(o.next=o,Tc(t)):(o.next=h.next,h.next=o),t.interleaved=o;return}}catch{}finally{}n=_m(e,t,o,i),n!==null&&(o=Ge(),Nt(n,e,i,o),Dm(n,t,i))}}function Am(e){var t=e.alternate;return e===ye||t!==null&&t===ye}function Rm(e,t){Zi=qs=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dm(e,t,n){if(n&4194240){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,hc(e,n)}}var Hs={readContext:wt,useCallback:Fe,useContext:Fe,useEffect:Fe,useImperativeHandle:Fe,useInsertionEffect:Fe,useLayoutEffect:Fe,useMemo:Fe,useReducer:Fe,useRef:Fe,useState:Fe,useDebugValue:Fe,useDeferredValue:Fe,useTransition:Fe,useMutableSource:Fe,useSyncExternalStore:Fe,useId:Fe,unstable_isNewReconciler:!1},Bb={readContext:wt,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:wt,useEffect:tf,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,xs(4194308,4,jm.bind(null,t,e),n)},useLayoutEffect:function(e,t){return xs(4194308,4,e,t)},useInsertionEffect:function(e,t){return xs(4,2,e,t)},useMemo:function(e,t){var n=Bt();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=Bt();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=Rb.bind(null,ye,e),[i.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:ef,useDebugValue:zc,useDeferredValue:function(e){return Bt().memoizedState=e},useTransition:function(){var e=ef(!1),t=e[0];return e=Ab.bind(null,e[1]),Bt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ye,o=Bt();if(ge){if(n===void 0)throw Error(D(407));n=n()}else{if(n=t(),Ae===null)throw Error(D(349));rr&30||xm(i,t,n)}o.memoizedState=n;var a={value:n,getSnapshot:t};return o.queue=a,tf(Sm.bind(null,i,a,e),[e]),i.flags|=2048,fo(9,km.bind(null,i,a,n,t),void 0,null),n},useId:function(){var e=Bt(),t=Ae.identifierPrefix;if(ge){var n=en,i=Xt;n=(i&~(1<<32-Ot(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=co++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ib++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$b={readContext:wt,useCallback:Nm,useContext:wt,useEffect:Mc,useImperativeHandle:Om,useInsertionEffect:Lm,useLayoutEffect:Cm,useMemo:Mm,useReducer:Cl,useRef:Em,useState:function(){return Cl(ho)},useDebugValue:zc,useDeferredValue:function(e){var t=xt();return zm(t,Ne.memoizedState,e)},useTransition:function(){var e=Cl(ho)[0],t=xt().memoizedState;return[e,t]},useMutableSource:bm,useSyncExternalStore:wm,useId:Im,unstable_isNewReconciler:!1},Ub={readContext:wt,useCallback:Nm,useContext:wt,useEffect:Mc,useImperativeHandle:Om,useInsertionEffect:Lm,useLayoutEffect:Cm,useMemo:Mm,useReducer:jl,useRef:Em,useState:function(){return jl(ho)},useDebugValue:zc,useDeferredValue:function(e){var t=xt();return Ne===null?t.memoizedState=e:zm(t,Ne.memoizedState,e)},useTransition:function(){var e=jl(ho)[0],t=xt().memoizedState;return[e,t]},useMutableSource:bm,useSyncExternalStore:wm,useId:Im,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=be({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function bu(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:be({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var la={isMounted:function(e){return(e=e._reactInternals)?ar(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ge(),o=Ln(e),a=tn(i,o);a.payload=t,n!=null&&(a.callback=n),t=Pn(e,a,o),t!==null&&(Nt(t,e,o,i),bs(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ge(),o=Ln(e),a=tn(i,o);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=Pn(e,a,o),t!==null&&(Nt(t,e,o,i),bs(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),i=Ln(e),o=tn(n,i);o.tag=2,t!=null&&(o.callback=t),t=Pn(e,o,i),t!==null&&(Nt(t,e,i,n),bs(t,e,i))}};function nf(e,t,n,i,o,a,u){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,a,u):t.prototype&&t.prototype.isPureReactComponent?!io(n,i)||!io(o,a):!0}function Bm(e,t,n){var i=!1,o=On,a=t.contextType;return typeof a=="object"&&a!==null?a=wt(a):(o=it(t)?tr:qe.current,i=t.contextTypes,a=(i=i!=null)?Hr(e,o):On),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=la,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=a),t}function rf(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&la.enqueueReplaceState(t,t.state,null)}function wu(e,t,n,i){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Pc(e);var a=t.contextType;typeof a=="object"&&a!==null?o.context=wt(a):(a=it(t)?tr:qe.current,o.context=Hr(e,a)),o.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(bu(e,t,a,n),o.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(t=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),t!==o.state&&la.enqueueReplaceState(o,o.state,null),Zs(e,n,o,i),o.state=e.memoizedState),typeof o.componentDidMount=="function"&&(e.flags|=4194308)}function Jr(e,t){try{var n="",i=t;do n+=my(i),i=i.return;while(i);var o=n}catch(a){o=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:o,digest:null}}function Ol(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function xu(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Fb=typeof WeakMap=="function"?WeakMap:Map;function $m(e,t,n){n=tn(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){Ks||(Ks=!0,Ou=i),xu(e,t)},n}function Um(e,t,n){n=tn(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var o=t.value;n.payload=function(){return i(o)},n.callback=function(){xu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){xu(e,t),typeof i!="function"&&(En===null?En=new Set([this]):En.add(this));var u=t.stack;this.componentDidCatch(t.value,{componentStack:u!==null?u:""})}),n}function of(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new Fb;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(n)||(o.add(n),e=nw.bind(null,e,t,n),t.then(e,e))}function sf(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function af(e,t,n,i,o){return e.mode&1?(e.flags|=65536,e.lanes=o,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=tn(-1,1),t.tag=2,Pn(n,t,1))),n.lanes|=1),e)}var Zb=an.ReactCurrentOwner,nt=!1;function Ke(e,t,n,i){t.child=e===null?gm(t,null,n,i):Kr(t,e.child,n,i)}function lf(e,t,n,i,o){n=n.render;var a=t.ref;return Zr(t,o),i=Oc(e,t,n,i,a,o),n=Nc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,sn(e,t,o)):(ge&&n&&yc(t),t.flags|=1,Ke(e,t,i,o),t.child)}function uf(e,t,n,i,o){if(e===null){var a=n.type;return typeof a=="function"&&!Fc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Fm(e,t,a,i,o)):(e=Ps(n.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&o)){var u=a.memoizedProps;if(n=n.compare,n=n!==null?n:io,n(u,i)&&e.ref===t.ref)return sn(e,t,o)}return t.flags|=1,e=Cn(a,i),e.ref=t.ref,e.return=t,t.child=e}function Fm(e,t,n,i,o){if(e!==null){var a=e.memoizedProps;if(io(a,i)&&e.ref===t.ref)if(nt=!1,t.pendingProps=i=a,(e.lanes&o)!==0)e.flags&131072&&(nt=!0);else return t.lanes=e.lanes,sn(e,t,o)}return ku(e,t,n,i,o)}function Zm(e,t,n){var i=t.pendingProps,o=i.children,a=e!==null?e.memoizedState:null;if(i.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},fe(Dr,st),st|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,fe(Dr,st),st|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=a!==null?a.baseLanes:n,fe(Dr,st),st|=i}else a!==null?(i=a.baseLanes|n,t.memoizedState=null):i=n,fe(Dr,st),st|=i;return Ke(e,t,o,n),t.child}function Wm(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ku(e,t,n,i,o){var a=it(n)?tr:qe.current;return a=Hr(t,a),Zr(t,o),n=Oc(e,t,n,i,a,o),i=Nc(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,sn(e,t,o)):(ge&&i&&yc(t),t.flags|=1,Ke(e,t,n,o),t.child)}function cf(e,t,n,i,o){if(it(n)){var a=!0;Ds(t)}else a=!1;if(Zr(t,o),t.stateNode===null)ks(e,t),Bm(t,n,i),wu(t,n,i,o),i=!0;else if(e===null){var u=t.stateNode,d=t.memoizedProps;u.props=d;var h=u.context,p=n.contextType;typeof p=="object"&&p!==null?p=wt(p):(p=it(n)?tr:qe.current,p=Hr(t,p));var m=n.getDerivedStateFromProps,g=typeof m=="function"||typeof u.getSnapshotBeforeUpdate=="function";g||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==i||h!==p)&&rf(t,u,i,p),mn=!1;var v=t.memoizedState;u.state=v,Zs(t,i,u,o),h=t.memoizedState,d!==i||v!==h||rt.current||mn?(typeof m=="function"&&(bu(t,n,m,i),h=t.memoizedState),(d=mn||nf(t,n,d,i,v,h,p))?(g||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=h),u.props=i,u.state=h,u.context=p,i=d):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,vm(e,t),d=t.memoizedProps,p=t.type===t.elementType?d:Et(t.type,d),u.props=p,g=t.pendingProps,v=u.context,h=n.contextType,typeof h=="object"&&h!==null?h=wt(h):(h=it(n)?tr:qe.current,h=Hr(t,h));var k=n.getDerivedStateFromProps;(m=typeof k=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(d!==g||v!==h)&&rf(t,u,i,h),mn=!1,v=t.memoizedState,u.state=v,Zs(t,i,u,o);var S=t.memoizedState;d!==g||v!==S||rt.current||mn?(typeof k=="function"&&(bu(t,n,k,i),S=t.memoizedState),(p=mn||nf(t,n,p,i,v,S,h)||!1)?(m||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,S,h),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,S,h)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=S),u.props=i,u.state=S,u.context=h,i=p):(typeof u.componentDidUpdate!="function"||d===e.memoizedProps&&v===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&v===e.memoizedState||(t.flags|=1024),i=!1)}return Su(e,t,n,i,a,o)}function Su(e,t,n,i,o,a){Wm(e,t);var u=(t.flags&128)!==0;if(!i&&!u)return o&&Kd(t,n,!1),sn(e,t,a);i=t.stateNode,Zb.current=t;var d=u&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&u?(t.child=Kr(t,e.child,null,a),t.child=Kr(t,null,d,a)):Ke(e,t,d,a),t.memoizedState=i.state,o&&Kd(t,n,!0),t.child}function qm(e){var t=e.stateNode;t.pendingContext?Vd(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vd(e,t.context,!1),Ec(e,t.containerInfo)}function hf(e,t,n,i,o){return Vr(),wc(o),t.flags|=256,Ke(e,t,n,i),t.child}var Tu={dehydrated:null,treeContext:null,retryLane:0};function Pu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Hm(e,t,n){var i=t.pendingProps,o=ve.current,a=!1,u=(t.flags&128)!==0,d;if((d=u)||(d=e!==null&&e.memoizedState===null?!1:(o&2)!==0),d?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(o|=1),fe(ve,o&1),e===null)return vu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(u=i.children,e=i.fallback,a?(i=t.mode,a=t.child,u={mode:"hidden",children:u},!(i&1)&&a!==null?(a.childLanes=0,a.pendingProps=u):a=ha(u,i,0,null),e=Xn(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Pu(n),t.memoizedState=Tu,e):Ic(t,u));if(o=e.memoizedState,o!==null&&(d=o.dehydrated,d!==null))return Wb(e,t,u,i,d,o,n);if(a){a=i.fallback,u=t.mode,o=e.child,d=o.sibling;var h={mode:"hidden",children:i.children};return!(u&1)&&t.child!==o?(i=t.child,i.childLanes=0,i.pendingProps=h,t.deletions=null):(i=Cn(o,h),i.subtreeFlags=o.subtreeFlags&14680064),d!==null?a=Cn(d,a):(a=Xn(a,u,n,null),a.flags|=2),a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,u=e.child.memoizedState,u=u===null?Pu(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},a.memoizedState=u,a.childLanes=e.childLanes&~n,t.memoizedState=Tu,i}return a=e.child,e=a.sibling,i=Cn(a,{mode:"visible",children:i.children}),!(t.mode&1)&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Ic(e,t){return t=ha({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ss(e,t,n,i){return i!==null&&wc(i),Kr(t,e.child,null,n),e=Ic(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Wb(e,t,n,i,o,a,u){if(n)return t.flags&256?(t.flags&=-257,i=Ol(Error(D(422))),ss(e,t,u,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=i.fallback,o=t.mode,i=ha({mode:"visible",children:i.children},o,0,null),a=Xn(a,o,u,null),a.flags|=2,i.return=t,a.return=t,i.sibling=a,t.child=i,t.mode&1&&Kr(t,e.child,null,u),t.child.memoizedState=Pu(u),t.memoizedState=Tu,a);if(!(t.mode&1))return ss(e,t,u,null);if(o.data==="$!"){if(i=o.nextSibling&&o.nextSibling.dataset,i)var d=i.dgst;return i=d,a=Error(D(419)),i=Ol(a,i,void 0),ss(e,t,u,i)}if(d=(u&e.childLanes)!==0,nt||d){if(i=Ae,i!==null){switch(u&-u){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(i.suspendedLanes|u)?0:o,o!==0&&o!==a.retryLane&&(a.retryLane=o,on(e,o),Nt(i,e,o,-1))}return Uc(),i=Ol(Error(D(421))),ss(e,t,u,i)}return o.data==="$?"?(t.flags|=128,t.child=e.child,t=rw.bind(null,e),o._reactRetry=t,null):(e=a.treeContext,at=Tn(o.nextSibling),lt=t,ge=!0,jt=null,e!==null&&(_t[vt++]=Xt,_t[vt++]=en,_t[vt++]=nr,Xt=e.id,en=e.overflow,nr=t),t=Ic(t,i.children),t.flags|=4096,t)}function df(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),yu(e.return,t,n)}function Nl(e,t,n,i,o){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:o}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=i,a.tail=n,a.tailMode=o)}function Vm(e,t,n){var i=t.pendingProps,o=i.revealOrder,a=i.tail;if(Ke(e,t,i.children,n),i=ve.current,i&2)i=i&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&df(e,n,t);else if(e.tag===19)df(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(fe(ve,i),!(t.mode&1))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&Ws(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Nl(t,!1,o,n,a);break;case"backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Ws(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Nl(t,!0,n,null,a);break;case"together":Nl(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ks(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function sn(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ir|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(D(153));if(t.child!==null){for(e=t.child,n=Cn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Cn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function qb(e,t,n){switch(t.tag){case 3:qm(t),Vr();break;case 5:ym(t);break;case 1:it(t.type)&&Ds(t);break;case 4:Ec(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,o=t.memoizedProps.value;fe(Us,i._currentValue),i._currentValue=o;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(fe(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?Hm(e,t,n):(fe(ve,ve.current&1),e=sn(e,t,n),e!==null?e.sibling:null);fe(ve,ve.current&1);break;case 19:if(i=(n&t.childLanes)!==0,e.flags&128){if(i)return Vm(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),fe(ve,ve.current),i)break;return null;case 22:case 23:return t.lanes=0,Zm(e,t,n)}return sn(e,t,n)}var Km,Eu,Gm,Jm;Km=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eu=function(){};Gm=function(e,t,n,i){var o=e.memoizedProps;if(o!==i){e=t.stateNode,Qn(Zt.current);var a=null;switch(n){case"input":o=Gl(e,o),i=Gl(e,i),a=[];break;case"select":o=be({},o,{value:void 0}),i=be({},i,{value:void 0}),a=[];break;case"textarea":o=Yl(e,o),i=Yl(e,i),a=[];break;default:typeof o.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=As)}eu(n,i);var u;n=null;for(p in o)if(!i.hasOwnProperty(p)&&o.hasOwnProperty(p)&&o[p]!=null)if(p==="style"){var d=o[p];for(u in d)d.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(Qi.hasOwnProperty(p)?a||(a=[]):(a=a||[]).push(p,null));for(p in i){var h=i[p];if(d=o!=null?o[p]:void 0,i.hasOwnProperty(p)&&h!==d&&(h!=null||d!=null))if(p==="style")if(d){for(u in d)!d.hasOwnProperty(u)||h&&h.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in h)h.hasOwnProperty(u)&&d[u]!==h[u]&&(n||(n={}),n[u]=h[u])}else n||(a||(a=[]),a.push(p,n)),n=h;else p==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,d=d?d.__html:void 0,h!=null&&d!==h&&(a=a||[]).push(p,h)):p==="children"?typeof h!="string"&&typeof h!="number"||(a=a||[]).push(p,""+h):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(Qi.hasOwnProperty(p)?(h!=null&&p==="onScroll"&&pe("scroll",e),a||d===h||(a=[])):(a=a||[]).push(p,h))}n&&(a=a||[]).push("style",n);var p=a;(t.updateQueue=p)&&(t.flags|=4)}};Jm=function(e,t,n,i){n!==i&&(t.flags|=4)};function Ci(e,t){if(!ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function Ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags&14680064,i|=o.flags&14680064,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function Hb(e,t,n){var i=t.pendingProps;switch(bc(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ze(t),null;case 1:return it(t.type)&&Rs(),Ze(t),null;case 3:return i=t.stateNode,Gr(),me(rt),me(qe),Cc(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(is(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,jt!==null&&(zu(jt),jt=null))),Eu(e,t),Ze(t),null;case 5:Lc(t);var o=Qn(uo.current);if(n=t.type,e!==null&&t.stateNode!=null)Gm(e,t,n,i,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(D(166));return Ze(t),null}if(e=Qn(Zt.current),is(t)){i=t.stateNode,n=t.type;var a=t.memoizedProps;switch(i[Ut]=t,i[ao]=a,e=(t.mode&1)!==0,n){case"dialog":pe("cancel",i),pe("close",i);break;case"iframe":case"object":case"embed":pe("load",i);break;case"video":case"audio":for(o=0;o<Ai.length;o++)pe(Ai[o],i);break;case"source":pe("error",i);break;case"img":case"image":case"link":pe("error",i),pe("load",i);break;case"details":pe("toggle",i);break;case"input":bd(i,a),pe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!a.multiple},pe("invalid",i);break;case"textarea":xd(i,a),pe("invalid",i)}eu(n,a),o=null;for(var u in a)if(a.hasOwnProperty(u)){var d=a[u];u==="children"?typeof d=="string"?i.textContent!==d&&(a.suppressHydrationWarning!==!0&&rs(i.textContent,d,e),o=["children",d]):typeof d=="number"&&i.textContent!==""+d&&(a.suppressHydrationWarning!==!0&&rs(i.textContent,d,e),o=["children",""+d]):Qi.hasOwnProperty(u)&&d!=null&&u==="onScroll"&&pe("scroll",i)}switch(n){case"input":Go(i),wd(i,a,!0);break;case"textarea":Go(i),kd(i);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(i.onclick=As)}i=o,t.updateQueue=i,i!==null&&(t.flags|=4)}else{u=o.nodeType===9?o:o.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Sp(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=u.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=u.createElement(n,{is:i.is}):(e=u.createElement(n),n==="select"&&(u=e,i.multiple?u.multiple=!0:i.size&&(u.size=i.size))):e=u.createElementNS(e,n),e[Ut]=t,e[ao]=i,Km(e,t,!1,!1),t.stateNode=e;e:{switch(u=tu(n,i),n){case"dialog":pe("cancel",e),pe("close",e),o=i;break;case"iframe":case"object":case"embed":pe("load",e),o=i;break;case"video":case"audio":for(o=0;o<Ai.length;o++)pe(Ai[o],e);o=i;break;case"source":pe("error",e),o=i;break;case"img":case"image":case"link":pe("error",e),pe("load",e),o=i;break;case"details":pe("toggle",e),o=i;break;case"input":bd(e,i),o=Gl(e,i),pe("invalid",e);break;case"option":o=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},o=be({},i,{value:void 0}),pe("invalid",e);break;case"textarea":xd(e,i),o=Yl(e,i),pe("invalid",e);break;default:o=i}eu(n,o),d=o;for(a in d)if(d.hasOwnProperty(a)){var h=d[a];a==="style"?Ep(e,h):a==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Tp(e,h)):a==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Yi(e,h):typeof h=="number"&&Yi(e,""+h):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Qi.hasOwnProperty(a)?h!=null&&a==="onScroll"&&pe("scroll",e):h!=null&&oc(e,a,h,u))}switch(n){case"input":Go(e),wd(e,i,!1);break;case"textarea":Go(e),kd(e);break;case"option":i.value!=null&&e.setAttribute("value",""+jn(i.value));break;case"select":e.multiple=!!i.multiple,a=i.value,a!=null?Br(e,!!i.multiple,a,!1):i.defaultValue!=null&&Br(e,!!i.multiple,i.defaultValue,!0);break;default:typeof o.onClick=="function"&&(e.onclick=As)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ze(t),null;case 6:if(e&&t.stateNode!=null)Jm(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(D(166));if(n=Qn(uo.current),Qn(Zt.current),is(t)){if(i=t.stateNode,n=t.memoizedProps,i[Ut]=t,(a=i.nodeValue!==n)&&(e=lt,e!==null))switch(e.tag){case 3:rs(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&rs(i.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Ut]=t,t.stateNode=i}return Ze(t),null;case 13:if(me(ve),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ge&&at!==null&&t.mode&1&&!(t.flags&128))pm(),Vr(),t.flags|=98560,a=!1;else if(a=is(t),i!==null&&i.dehydrated!==null){if(e===null){if(!a)throw Error(D(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(D(317));a[Ut]=t}else Vr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ze(t),a=!1}else jt!==null&&(zu(jt),jt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Me===0&&(Me=3):Uc())),t.updateQueue!==null&&(t.flags|=4),Ze(t),null);case 4:return Gr(),Eu(e,t),e===null&&oo(t.stateNode.containerInfo),Ze(t),null;case 10:return Sc(t.type._context),Ze(t),null;case 17:return it(t.type)&&Rs(),Ze(t),null;case 19:if(me(ve),a=t.memoizedState,a===null)return Ze(t),null;if(i=(t.flags&128)!==0,u=a.rendering,u===null)if(i)Ci(a,!1);else{if(Me!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(u=Ws(e),u!==null){for(t.flags|=128,Ci(a,!1),i=u.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)a=n,e=i,a.flags&=14680066,u=a.alternate,u===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=u.childLanes,a.lanes=u.lanes,a.child=u.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=u.memoizedProps,a.memoizedState=u.memoizedState,a.updateQueue=u.updateQueue,a.type=u.type,e=u.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return fe(ve,ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Se()>Qr&&(t.flags|=128,i=!0,Ci(a,!1),t.lanes=4194304)}else{if(!i)if(e=Ws(u),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Ci(a,!0),a.tail===null&&a.tailMode==="hidden"&&!u.alternate&&!ge)return Ze(t),null}else 2*Se()-a.renderingStartTime>Qr&&n!==1073741824&&(t.flags|=128,i=!0,Ci(a,!1),t.lanes=4194304);a.isBackwards?(u.sibling=t.child,t.child=u):(n=a.last,n!==null?n.sibling=u:t.child=u,a.last=u)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Se(),t.sibling=null,n=ve.current,fe(ve,i?n&1|2:n&1),t):(Ze(t),null);case 22:case 23:return $c(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&t.mode&1?st&1073741824&&(Ze(t),t.subtreeFlags&6&&(t.flags|=8192)):Ze(t),null;case 24:return null;case 25:return null}throw Error(D(156,t.tag))}function Vb(e,t){switch(bc(t),t.tag){case 1:return it(t.type)&&Rs(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Gr(),me(rt),me(qe),Cc(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Lc(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(D(340));Vr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return Gr(),null;case 10:return Sc(t.type._context),null;case 22:case 23:return $c(),null;case 24:return null;default:return null}}var as=!1,We=!1,Kb=typeof WeakSet=="function"?WeakSet:Set,F=null;function Rr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){xe(e,t,i)}else n.current=null}function Qm(e,t,n){try{n()}catch(i){xe(e,t,i)}}var ff=!1;function Gb(e,t){if(hu=Ms,e=tm(),vc(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var o=i.anchorOffset,a=i.focusNode;i=i.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var u=0,d=-1,h=-1,p=0,m=0,g=e,v=null;t:for(;;){for(var k;g!==n||o!==0&&g.nodeType!==3||(d=u+o),g!==a||i!==0&&g.nodeType!==3||(h=u+i),g.nodeType===3&&(u+=g.nodeValue.length),(k=g.firstChild)!==null;)v=g,g=k;for(;;){if(g===e)break t;if(v===n&&++p===o&&(d=u),v===a&&++m===i&&(h=u),(k=g.nextSibling)!==null)break;g=v,v=g.parentNode}g=k}n=d===-1||h===-1?null:{start:d,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(du={focusedElem:e,selectionRange:n},Ms=!1,F=t;F!==null;)if(t=F,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,F=e;else for(;F!==null;){t=F;try{var S=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var P=S.memoizedProps,N=S.memoizedState,w=t.stateNode,y=w.getSnapshotBeforeUpdate(t.elementType===t.type?P:Et(t.type,P),N);w.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(D(163))}}catch(C){xe(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,F=e;break}F=t.return}return S=ff,ff=!1,S}function Wi(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var o=i=i.next;do{if((o.tag&e)===e){var a=o.destroy;o.destroy=void 0,a!==void 0&&Qm(t,n,a)}o=o.next}while(o!==i)}}function ua(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function Lu(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Ym(e){var t=e.alternate;t!==null&&(e.alternate=null,Ym(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ut],delete t[ao],delete t[mu],delete t[Ob],delete t[Nb])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Xm(e){return e.tag===5||e.tag===3||e.tag===4}function pf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Xm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Cu(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=As));else if(i!==4&&(e=e.child,e!==null))for(Cu(e,t,n),e=e.sibling;e!==null;)Cu(e,t,n),e=e.sibling}function ju(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(ju(e,t,n),e=e.sibling;e!==null;)ju(e,t,n),e=e.sibling}var Be=null,Lt=!1;function hn(e,t,n){for(n=n.child;n!==null;)eg(e,t,n),n=n.sibling}function eg(e,t,n){if(Ft&&typeof Ft.onCommitFiberUnmount=="function")try{Ft.onCommitFiberUnmount(ta,n)}catch{}switch(n.tag){case 5:We||Rr(n,t);case 6:var i=Be,o=Lt;Be=null,hn(e,t,n),Be=i,Lt=o,Be!==null&&(Lt?(e=Be,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Be.removeChild(n.stateNode));break;case 18:Be!==null&&(Lt?(e=Be,n=n.stateNode,e.nodeType===8?Tl(e.parentNode,n):e.nodeType===1&&Tl(e,n),no(e)):Tl(Be,n.stateNode));break;case 4:i=Be,o=Lt,Be=n.stateNode.containerInfo,Lt=!0,hn(e,t,n),Be=i,Lt=o;break;case 0:case 11:case 14:case 15:if(!We&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){o=i=i.next;do{var a=o,u=a.destroy;a=a.tag,u!==void 0&&(a&2||a&4)&&Qm(n,t,u),o=o.next}while(o!==i)}hn(e,t,n);break;case 1:if(!We&&(Rr(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(d){xe(n,t,d)}hn(e,t,n);break;case 21:hn(e,t,n);break;case 22:n.mode&1?(We=(i=We)||n.memoizedState!==null,hn(e,t,n),We=i):hn(e,t,n);break;default:hn(e,t,n)}}function mf(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Kb),t.forEach(function(i){var o=iw.bind(null,e,i);n.has(i)||(n.add(i),i.then(o,o))})}}function Tt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var o=n[i];try{var a=e,u=t,d=u;e:for(;d!==null;){switch(d.tag){case 5:Be=d.stateNode,Lt=!1;break e;case 3:Be=d.stateNode.containerInfo,Lt=!0;break e;case 4:Be=d.stateNode.containerInfo,Lt=!0;break e}d=d.return}if(Be===null)throw Error(D(160));eg(a,u,o),Be=null,Lt=!1;var h=o.alternate;h!==null&&(h.return=null),o.return=null}catch(p){xe(o,t,p)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)tg(t,e),t=t.sibling}function tg(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Tt(t,e),Dt(e),i&4){try{Wi(3,e,e.return),ua(3,e)}catch(P){xe(e,e.return,P)}try{Wi(5,e,e.return)}catch(P){xe(e,e.return,P)}}break;case 1:Tt(t,e),Dt(e),i&512&&n!==null&&Rr(n,n.return);break;case 5:if(Tt(t,e),Dt(e),i&512&&n!==null&&Rr(n,n.return),e.flags&32){var o=e.stateNode;try{Yi(o,"")}catch(P){xe(e,e.return,P)}}if(i&4&&(o=e.stateNode,o!=null)){var a=e.memoizedProps,u=n!==null?n.memoizedProps:a,d=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{d==="input"&&a.type==="radio"&&a.name!=null&&xp(o,a),tu(d,u);var p=tu(d,a);for(u=0;u<h.length;u+=2){var m=h[u],g=h[u+1];m==="style"?Ep(o,g):m==="dangerouslySetInnerHTML"?Tp(o,g):m==="children"?Yi(o,g):oc(o,m,g,p)}switch(d){case"input":Jl(o,a);break;case"textarea":kp(o,a);break;case"select":var v=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?Br(o,!!a.multiple,k,!1):v!==!!a.multiple&&(a.defaultValue!=null?Br(o,!!a.multiple,a.defaultValue,!0):Br(o,!!a.multiple,a.multiple?[]:"",!1))}o[ao]=a}catch(P){xe(e,e.return,P)}}break;case 6:if(Tt(t,e),Dt(e),i&4){if(e.stateNode===null)throw Error(D(162));o=e.stateNode,a=e.memoizedProps;try{o.nodeValue=a}catch(P){xe(e,e.return,P)}}break;case 3:if(Tt(t,e),Dt(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{no(t.containerInfo)}catch(P){xe(e,e.return,P)}break;case 4:Tt(t,e),Dt(e);break;case 13:Tt(t,e),Dt(e),o=e.child,o.flags&8192&&(a=o.memoizedState!==null,o.stateNode.isHidden=a,!a||o.alternate!==null&&o.alternate.memoizedState!==null||(Dc=Se())),i&4&&mf(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(We=(p=We)||m,Tt(t,e),We=p):Tt(t,e),Dt(e),i&8192){if(p=e.memoizedState!==null,(e.stateNode.isHidden=p)&&!m&&e.mode&1)for(F=e,m=e.child;m!==null;){for(g=F=m;F!==null;){switch(v=F,k=v.child,v.tag){case 0:case 11:case 14:case 15:Wi(4,v,v.return);break;case 1:Rr(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){i=v,n=v.return;try{t=i,S.props=t.memoizedProps,S.state=t.memoizedState,S.componentWillUnmount()}catch(P){xe(i,n,P)}}break;case 5:Rr(v,v.return);break;case 22:if(v.memoizedState!==null){_f(g);continue}}k!==null?(k.return=v,F=k):_f(g)}m=m.sibling}e:for(m=null,g=e;;){if(g.tag===5){if(m===null){m=g;try{o=g.stateNode,p?(a=o.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(d=g.stateNode,h=g.memoizedProps.style,u=h!=null&&h.hasOwnProperty("display")?h.display:null,d.style.display=Pp("display",u))}catch(P){xe(e,e.return,P)}}}else if(g.tag===6){if(m===null)try{g.stateNode.nodeValue=p?"":g.memoizedProps}catch(P){xe(e,e.return,P)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;m===g&&(m=null),g=g.return}m===g&&(m=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:Tt(t,e),Dt(e),i&4&&mf(e);break;case 21:break;default:Tt(t,e),Dt(e)}}function Dt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Xm(n)){var i=n;break e}n=n.return}throw Error(D(160))}switch(i.tag){case 5:var o=i.stateNode;i.flags&32&&(Yi(o,""),i.flags&=-33);var a=pf(e);ju(e,a,o);break;case 3:case 4:var u=i.stateNode.containerInfo,d=pf(e);Cu(e,d,u);break;default:throw Error(D(161))}}catch(h){xe(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Jb(e,t,n){F=e,ng(e)}function ng(e,t,n){for(var i=(e.mode&1)!==0;F!==null;){var o=F,a=o.child;if(o.tag===22&&i){var u=o.memoizedState!==null||as;if(!u){var d=o.alternate,h=d!==null&&d.memoizedState!==null||We;d=as;var p=We;if(as=u,(We=h)&&!p)for(F=o;F!==null;)u=F,h=u.child,u.tag===22&&u.memoizedState!==null?vf(o):h!==null?(h.return=u,F=h):vf(o);for(;a!==null;)F=a,ng(a),a=a.sibling;F=o,as=d,We=p}gf(e)}else o.subtreeFlags&8772&&a!==null?(a.return=o,F=a):gf(e)}}function gf(e){for(;F!==null;){var t=F;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:We||ua(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!We)if(n===null)i.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:Et(t.type,n.memoizedProps);i.componentDidUpdate(o,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Xd(t,a,i);break;case 3:var u=t.updateQueue;if(u!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xd(t,u,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var p=t.alternate;if(p!==null){var m=p.memoizedState;if(m!==null){var g=m.dehydrated;g!==null&&no(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(D(163))}We||t.flags&512&&Lu(t)}catch(v){xe(t,t.return,v)}}if(t===e){F=null;break}if(n=t.sibling,n!==null){n.return=t.return,F=n;break}F=t.return}}function _f(e){for(;F!==null;){var t=F;if(t===e){F=null;break}var n=t.sibling;if(n!==null){n.return=t.return,F=n;break}F=t.return}}function vf(e){for(;F!==null;){var t=F;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ua(4,t)}catch(h){xe(t,n,h)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var o=t.return;try{i.componentDidMount()}catch(h){xe(t,o,h)}}var a=t.return;try{Lu(t)}catch(h){xe(t,a,h)}break;case 5:var u=t.return;try{Lu(t)}catch(h){xe(t,u,h)}}}catch(h){xe(t,t.return,h)}if(t===e){F=null;break}var d=t.sibling;if(d!==null){d.return=t.return,F=d;break}F=t.return}}var Qb=Math.ceil,Vs=an.ReactCurrentDispatcher,Ac=an.ReactCurrentOwner,bt=an.ReactCurrentBatchConfig,se=0,Ae=null,Ee=null,$e=0,st=0,Dr=Mn(0),Me=0,po=null,ir=0,ca=0,Rc=0,qi=null,et=null,Dc=0,Qr=1/0,Jt=null,Ks=!1,Ou=null,En=null,ls=!1,bn=null,Gs=0,Hi=0,Nu=null,Ss=-1,Ts=0;function Ge(){return se&6?Se():Ss!==-1?Ss:Ss=Se()}function Ln(e){return e.mode&1?se&2&&$e!==0?$e&-$e:zb.transition!==null?(Ts===0&&(Ts=Bp()),Ts):(e=ue,e!==0||(e=window.event,e=e===void 0?16:Hp(e.type)),e):1}function Nt(e,t,n,i){if(50<Hi)throw Hi=0,Nu=null,Error(D(185));yo(e,n,i),(!(se&2)||e!==Ae)&&(e===Ae&&(!(se&2)&&(ca|=n),Me===4&&_n(e,$e)),ot(e,i),n===1&&se===0&&!(t.mode&1)&&(Qr=Se()+500,sa&&zn()))}function ot(e,t){var n=e.callbackNode;zy(e,t);var i=Ns(e,e===Ae?$e:0);if(i===0)n!==null&&Pd(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&Pd(n),t===1)e.tag===0?Mb(yf.bind(null,e)):hm(yf.bind(null,e)),Cb(function(){!(se&6)&&zn()}),n=null;else{switch($p(i)){case 1:n=cc;break;case 4:n=Rp;break;case 16:n=Os;break;case 536870912:n=Dp;break;default:n=Os}n=cg(n,rg.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rg(e,t){if(Ss=-1,Ts=0,se&6)throw Error(D(327));var n=e.callbackNode;if(Wr()&&e.callbackNode!==n)return null;var i=Ns(e,e===Ae?$e:0);if(i===0)return null;if(i&30||i&e.expiredLanes||t)t=Js(e,i);else{t=i;var o=se;se|=2;var a=og();(Ae!==e||$e!==t)&&(Jt=null,Qr=Se()+500,Yn(e,t));do try{ew();break}catch(d){ig(e,d)}while(!0);kc(),Vs.current=a,se=o,Ee!==null?t=0:(Ae=null,$e=0,t=Me)}if(t!==0){if(t===2&&(o=su(e),o!==0&&(i=o,t=Mu(e,o))),t===1)throw n=po,Yn(e,0),_n(e,i),ot(e,Se()),n;if(t===6)_n(e,i);else{if(o=e.current.alternate,!(i&30)&&!Yb(o)&&(t=Js(e,i),t===2&&(a=su(e),a!==0&&(i=a,t=Mu(e,a))),t===1))throw n=po,Yn(e,0),_n(e,i),ot(e,Se()),n;switch(e.finishedWork=o,e.finishedLanes=i,t){case 0:case 1:throw Error(D(345));case 2:Hn(e,et,Jt);break;case 3:if(_n(e,i),(i&130023424)===i&&(t=Dc+500-Se(),10<t)){if(Ns(e,0)!==0)break;if(o=e.suspendedLanes,(o&i)!==i){Ge(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=pu(Hn.bind(null,e,et,Jt),t);break}Hn(e,et,Jt);break;case 4:if(_n(e,i),(i&4194240)===i)break;for(t=e.eventTimes,o=-1;0<i;){var u=31-Ot(i);a=1<<u,u=t[u],u>o&&(o=u),i&=~a}if(i=o,i=Se()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Qb(i/1960))-i,10<i){e.timeoutHandle=pu(Hn.bind(null,e,et,Jt),i);break}Hn(e,et,Jt);break;case 5:Hn(e,et,Jt);break;default:throw Error(D(329))}}}return ot(e,Se()),e.callbackNode===n?rg.bind(null,e):null}function Mu(e,t){var n=qi;return e.current.memoizedState.isDehydrated&&(Yn(e,t).flags|=256),e=Js(e,t),e!==2&&(t=et,et=n,t!==null&&zu(t)),e}function zu(e){et===null?et=e:et.push.apply(et,e)}function Yb(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var o=n[i],a=o.getSnapshot;o=o.value;try{if(!Mt(a(),o))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function _n(e,t){for(t&=~Rc,t&=~ca,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ot(t),i=1<<n;e[n]=-1,t&=~i}}function yf(e){if(se&6)throw Error(D(327));Wr();var t=Ns(e,0);if(!(t&1))return ot(e,Se()),null;var n=Js(e,t);if(e.tag!==0&&n===2){var i=su(e);i!==0&&(t=i,n=Mu(e,i))}if(n===1)throw n=po,Yn(e,0),_n(e,t),ot(e,Se()),n;if(n===6)throw Error(D(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Hn(e,et,Jt),ot(e,Se()),null}function Bc(e,t){var n=se;se|=1;try{return e(t)}finally{se=n,se===0&&(Qr=Se()+500,sa&&zn())}}function or(e){bn!==null&&bn.tag===0&&!(se&6)&&Wr();var t=se;se|=1;var n=bt.transition,i=ue;try{if(bt.transition=null,ue=1,e)return e()}finally{ue=i,bt.transition=n,se=t,!(se&6)&&zn()}}function $c(){st=Dr.current,me(Dr)}function Yn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Lb(n)),Ee!==null)for(n=Ee.return;n!==null;){var i=n;switch(bc(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Rs();break;case 3:Gr(),me(rt),me(qe),Cc();break;case 5:Lc(i);break;case 4:Gr();break;case 13:me(ve);break;case 19:me(ve);break;case 10:Sc(i.type._context);break;case 22:case 23:$c()}n=n.return}if(Ae=e,Ee=e=Cn(e.current,null),$e=st=t,Me=0,po=null,Rc=ca=ir=0,et=qi=null,Jn!==null){for(t=0;t<Jn.length;t++)if(n=Jn[t],i=n.interleaved,i!==null){n.interleaved=null;var o=i.next,a=n.pending;if(a!==null){var u=a.next;a.next=o,i.next=u}n.pending=i}Jn=null}return e}function ig(e,t){do{var n=Ee;try{if(kc(),ws.current=Hs,qs){for(var i=ye.memoizedState;i!==null;){var o=i.queue;o!==null&&(o.pending=null),i=i.next}qs=!1}if(rr=0,Ie=Ne=ye=null,Zi=!1,co=0,Ac.current=null,n===null||n.return===null){Me=1,po=t,Ee=null;break}e:{var a=e,u=n.return,d=n,h=t;if(t=$e,d.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var p=h,m=d,g=m.tag;if(!(m.mode&1)&&(g===0||g===11||g===15)){var v=m.alternate;v?(m.updateQueue=v.updateQueue,m.memoizedState=v.memoizedState,m.lanes=v.lanes):(m.updateQueue=null,m.memoizedState=null)}var k=sf(u);if(k!==null){k.flags&=-257,af(k,u,d,a,t),k.mode&1&&of(a,p,t),t=k,h=p;var S=t.updateQueue;if(S===null){var P=new Set;P.add(h),t.updateQueue=P}else S.add(h);break e}else{if(!(t&1)){of(a,p,t),Uc();break e}h=Error(D(426))}}else if(ge&&d.mode&1){var N=sf(u);if(N!==null){!(N.flags&65536)&&(N.flags|=256),af(N,u,d,a,t),wc(Jr(h,d));break e}}a=h=Jr(h,d),Me!==4&&(Me=2),qi===null?qi=[a]:qi.push(a),a=u;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var w=$m(a,h,t);Yd(a,w);break e;case 1:d=h;var y=a.type,b=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(En===null||!En.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t;var C=Um(a,d,t);Yd(a,C);break e}}a=a.return}while(a!==null)}ag(n)}catch(A){t=A,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function og(){var e=Vs.current;return Vs.current=Hs,e===null?Hs:e}function Uc(){(Me===0||Me===3||Me===2)&&(Me=4),Ae===null||!(ir&268435455)&&!(ca&268435455)||_n(Ae,$e)}function Js(e,t){var n=se;se|=2;var i=og();(Ae!==e||$e!==t)&&(Jt=null,Yn(e,t));do try{Xb();break}catch(o){ig(e,o)}while(!0);if(kc(),se=n,Vs.current=i,Ee!==null)throw Error(D(261));return Ae=null,$e=0,Me}function Xb(){for(;Ee!==null;)sg(Ee)}function ew(){for(;Ee!==null&&!Ty();)sg(Ee)}function sg(e){var t=ug(e.alternate,e,st);e.memoizedProps=e.pendingProps,t===null?ag(e):Ee=t,Ac.current=null}function ag(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Vb(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Ee=null;return}}else if(n=Hb(n,t,st),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);Me===0&&(Me=5)}function Hn(e,t,n){var i=ue,o=bt.transition;try{bt.transition=null,ue=1,tw(e,t,n,i)}finally{bt.transition=o,ue=i}return null}function tw(e,t,n,i){do Wr();while(bn!==null);if(se&6)throw Error(D(327));n=e.finishedWork;var o=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(D(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(Iy(e,a),e===Ae&&(Ee=Ae=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ls||(ls=!0,cg(Os,function(){return Wr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=bt.transition,bt.transition=null;var u=ue;ue=1;var d=se;se|=4,Ac.current=null,Gb(e,n),tg(n,e),wb(du),Ms=!!hu,du=hu=null,e.current=n,Jb(n),Py(),se=d,ue=u,bt.transition=a}else e.current=n;if(ls&&(ls=!1,bn=e,Gs=o),a=e.pendingLanes,a===0&&(En=null),Cy(n.stateNode),ot(e,Se()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],i(o.value,{componentStack:o.stack,digest:o.digest});if(Ks)throw Ks=!1,e=Ou,Ou=null,e;return Gs&1&&e.tag!==0&&Wr(),a=e.pendingLanes,a&1?e===Nu?Hi++:(Hi=0,Nu=e):Hi=0,zn(),null}function Wr(){if(bn!==null){var e=$p(Gs),t=bt.transition,n=ue;try{if(bt.transition=null,ue=16>e?16:e,bn===null)var i=!1;else{if(e=bn,bn=null,Gs=0,se&6)throw Error(D(331));var o=se;for(se|=4,F=e.current;F!==null;){var a=F,u=a.child;if(F.flags&16){var d=a.deletions;if(d!==null){for(var h=0;h<d.length;h++){var p=d[h];for(F=p;F!==null;){var m=F;switch(m.tag){case 0:case 11:case 15:Wi(8,m,a)}var g=m.child;if(g!==null)g.return=m,F=g;else for(;F!==null;){m=F;var v=m.sibling,k=m.return;if(Ym(m),m===p){F=null;break}if(v!==null){v.return=k,F=v;break}F=k}}}var S=a.alternate;if(S!==null){var P=S.child;if(P!==null){S.child=null;do{var N=P.sibling;P.sibling=null,P=N}while(P!==null)}}F=a}}if(a.subtreeFlags&2064&&u!==null)u.return=a,F=u;else e:for(;F!==null;){if(a=F,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Wi(9,a,a.return)}var w=a.sibling;if(w!==null){w.return=a.return,F=w;break e}F=a.return}}var y=e.current;for(F=y;F!==null;){u=F;var b=u.child;if(u.subtreeFlags&2064&&b!==null)b.return=u,F=b;else e:for(u=y;F!==null;){if(d=F,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:ua(9,d)}}catch(A){xe(d,d.return,A)}if(d===u){F=null;break e}var C=d.sibling;if(C!==null){C.return=d.return,F=C;break e}F=d.return}}if(se=o,zn(),Ft&&typeof Ft.onPostCommitFiberRoot=="function")try{Ft.onPostCommitFiberRoot(ta,e)}catch{}i=!0}return i}finally{ue=n,bt.transition=t}}return!1}function bf(e,t,n){t=Jr(n,t),t=$m(e,t,1),e=Pn(e,t,1),t=Ge(),e!==null&&(yo(e,1,t),ot(e,t))}function xe(e,t,n){if(e.tag===3)bf(e,e,n);else for(;t!==null;){if(t.tag===3){bf(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(En===null||!En.has(i))){e=Jr(n,e),e=Um(t,e,1),t=Pn(t,e,1),e=Ge(),t!==null&&(yo(t,1,e),ot(t,e));break}}t=t.return}}function nw(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Ae===e&&($e&n)===n&&(Me===4||Me===3&&($e&130023424)===$e&&500>Se()-Dc?Yn(e,0):Rc|=n),ot(e,t)}function lg(e,t){t===0&&(e.mode&1?(t=Yo,Yo<<=1,!(Yo&130023424)&&(Yo=4194304)):t=1);var n=Ge();e=on(e,t),e!==null&&(yo(e,t,n),ot(e,n))}function rw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),lg(e,n)}function iw(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(D(314))}i!==null&&i.delete(t),lg(e,n)}var ug;ug=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||rt.current)nt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return nt=!1,qb(e,t,n);nt=!!(e.flags&131072)}else nt=!1,ge&&t.flags&1048576&&dm(t,$s,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ks(e,t),e=t.pendingProps;var o=Hr(t,qe.current);Zr(t,n),o=Oc(null,t,i,e,o,n);var a=Nc();return t.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(i)?(a=!0,Ds(t)):a=!1,t.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Pc(t),o.updater=la,t.stateNode=o,o._reactInternals=t,wu(t,i,e,n),t=Su(null,t,i,!0,a,n)):(t.tag=0,ge&&a&&yc(t),Ke(null,t,o,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ks(e,t),e=t.pendingProps,o=i._init,i=o(i._payload),t.type=i,o=t.tag=sw(i),e=Et(i,e),o){case 0:t=ku(null,t,i,e,n);break e;case 1:t=cf(null,t,i,e,n);break e;case 11:t=lf(null,t,i,e,n);break e;case 14:t=uf(null,t,i,Et(i.type,e),n);break e}throw Error(D(306,i,""))}return t;case 0:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Et(i,o),ku(e,t,i,o,n);case 1:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Et(i,o),cf(e,t,i,o,n);case 3:e:{if(qm(t),e===null)throw Error(D(387));i=t.pendingProps,a=t.memoizedState,o=a.element,vm(e,t),Zs(t,i,null,n);var u=t.memoizedState;if(i=u.element,a.isDehydrated)if(a={element:i,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){o=Jr(Error(D(423)),t),t=hf(e,t,i,n,o);break e}else if(i!==o){o=Jr(Error(D(424)),t),t=hf(e,t,i,n,o);break e}else for(at=Tn(t.stateNode.containerInfo.firstChild),lt=t,ge=!0,jt=null,n=gm(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vr(),i===o){t=sn(e,t,n);break e}Ke(e,t,i,n)}t=t.child}return t;case 5:return ym(t),e===null&&vu(t),i=t.type,o=t.pendingProps,a=e!==null?e.memoizedProps:null,u=o.children,fu(i,o)?u=null:a!==null&&fu(i,a)&&(t.flags|=32),Wm(e,t),Ke(e,t,u,n),t.child;case 6:return e===null&&vu(t),null;case 13:return Hm(e,t,n);case 4:return Ec(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Kr(t,null,i,n):Ke(e,t,i,n),t.child;case 11:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Et(i,o),lf(e,t,i,o,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,o=t.pendingProps,a=t.memoizedProps,u=o.value,fe(Us,i._currentValue),i._currentValue=u,a!==null)if(Mt(a.value,u)){if(a.children===o.children&&!rt.current){t=sn(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var d=a.dependencies;if(d!==null){u=a.child;for(var h=d.firstContext;h!==null;){if(h.context===i){if(a.tag===1){h=tn(-1,n&-n),h.tag=2;var p=a.updateQueue;if(p!==null){p=p.shared;var m=p.pending;m===null?h.next=h:(h.next=m.next,m.next=h),p.pending=h}}a.lanes|=n,h=a.alternate,h!==null&&(h.lanes|=n),yu(a.return,n,t),d.lanes|=n;break}h=h.next}}else if(a.tag===10)u=a.type===t.type?null:a.child;else if(a.tag===18){if(u=a.return,u===null)throw Error(D(341));u.lanes|=n,d=u.alternate,d!==null&&(d.lanes|=n),yu(u,n,t),u=a.sibling}else u=a.child;if(u!==null)u.return=a;else for(u=a;u!==null;){if(u===t){u=null;break}if(a=u.sibling,a!==null){a.return=u.return,u=a;break}u=u.return}a=u}Ke(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,i=t.pendingProps.children,Zr(t,n),o=wt(o),i=i(o),t.flags|=1,Ke(e,t,i,n),t.child;case 14:return i=t.type,o=Et(i,t.pendingProps),o=Et(i.type,o),uf(e,t,i,o,n);case 15:return Fm(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,o=t.pendingProps,o=t.elementType===i?o:Et(i,o),ks(e,t),t.tag=1,it(i)?(e=!0,Ds(t)):e=!1,Zr(t,n),Bm(t,i,o),wu(t,i,o,n),Su(null,t,i,!0,e,n);case 19:return Vm(e,t,n);case 22:return Zm(e,t,n)}throw Error(D(156,t.tag))};function cg(e,t){return Ap(e,t)}function ow(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yt(e,t,n,i){return new ow(e,t,n,i)}function Fc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function sw(e){if(typeof e=="function")return Fc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ac)return 11;if(e===lc)return 14}return 2}function Cn(e,t){var n=e.alternate;return n===null?(n=yt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ps(e,t,n,i,o,a){var u=2;if(i=e,typeof e=="function")Fc(e)&&(u=1);else if(typeof e=="string")u=5;else e:switch(e){case Lr:return Xn(n.children,o,a,t);case sc:u=8,o|=8;break;case ql:return e=yt(12,n,t,o|2),e.elementType=ql,e.lanes=a,e;case Hl:return e=yt(13,n,t,o),e.elementType=Hl,e.lanes=a,e;case Vl:return e=yt(19,n,t,o),e.elementType=Vl,e.lanes=a,e;case yp:return ha(n,o,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case _p:u=10;break e;case vp:u=9;break e;case ac:u=11;break e;case lc:u=14;break e;case pn:u=16,i=null;break e}throw Error(D(130,e==null?e:typeof e,""))}return t=yt(u,n,t,o),t.elementType=e,t.type=i,t.lanes=a,t}function Xn(e,t,n,i){return e=yt(7,e,i,t),e.lanes=n,e}function ha(e,t,n,i){return e=yt(22,e,i,t),e.elementType=yp,e.lanes=n,e.stateNode={isHidden:!1},e}function Ml(e,t,n){return e=yt(6,e,null,t),e.lanes=n,e}function zl(e,t,n){return t=yt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function aw(e,t,n,i,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pl(0),this.expirationTimes=pl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pl(0),this.identifierPrefix=i,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Zc(e,t,n,i,o,a,u,d,h){return e=new aw(e,t,n,d,h),t===1?(t=1,a===!0&&(t|=8)):t=0,a=yt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Pc(a),e}function lw(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Er,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function hg(e){if(!e)return On;e=e._reactInternals;e:{if(ar(e)!==e||e.tag!==1)throw Error(D(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(D(171))}if(e.tag===1){var n=e.type;if(it(n))return cm(e,n,t)}return t}function dg(e,t,n,i,o,a,u,d,h){return e=Zc(n,i,!0,e,o,a,u,d,h),e.context=hg(null),n=e.current,i=Ge(),o=Ln(n),a=tn(i,o),a.callback=t??null,Pn(n,a,o),e.current.lanes=o,yo(e,o,i),ot(e,i),e}function da(e,t,n,i){var o=t.current,a=Ge(),u=Ln(o);return n=hg(n),t.context===null?t.context=n:t.pendingContext=n,t=tn(a,u),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=Pn(o,t,u),e!==null&&(Nt(e,o,u,a),bs(e,o,u)),u}function Qs(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wf(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Wc(e,t){wf(e,t),(e=e.alternate)&&wf(e,t)}function uw(){return null}var fg=typeof reportError=="function"?reportError:function(e){console.error(e)};function qc(e){this._internalRoot=e}fa.prototype.render=qc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(D(409));da(e,t,null,null)};fa.prototype.unmount=qc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;or(function(){da(null,e,null,null)}),t[rn]=null}};function fa(e){this._internalRoot=e}fa.prototype.unstable_scheduleHydration=function(e){if(e){var t=Zp();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gn.length&&t!==0&&t<gn[n].priority;n++);gn.splice(n,0,e),n===0&&qp(e)}};function Hc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function pa(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function xf(){}function cw(e,t,n,i,o){if(o){if(typeof i=="function"){var a=i;i=function(){var p=Qs(u);a.call(p)}}var u=dg(t,i,e,0,null,!1,!1,"",xf);return e._reactRootContainer=u,e[rn]=u.current,oo(e.nodeType===8?e.parentNode:e),or(),u}for(;o=e.lastChild;)e.removeChild(o);if(typeof i=="function"){var d=i;i=function(){var p=Qs(h);d.call(p)}}var h=Zc(e,0,!1,null,null,!1,!1,"",xf);return e._reactRootContainer=h,e[rn]=h.current,oo(e.nodeType===8?e.parentNode:e),or(function(){da(t,h,n,i)}),h}function ma(e,t,n,i,o){var a=n._reactRootContainer;if(a){var u=a;if(typeof o=="function"){var d=o;o=function(){var h=Qs(u);d.call(h)}}da(t,u,e,o)}else u=cw(n,t,e,o,i);return Qs(u)}Up=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Ii(t.pendingLanes);n!==0&&(hc(t,n|1),ot(t,Se()),!(se&6)&&(Qr=Se()+500,zn()))}break;case 13:or(function(){var i=on(e,1);if(i!==null){var o=Ge();Nt(i,e,1,o)}}),Wc(e,1)}};dc=function(e){if(e.tag===13){var t=on(e,134217728);if(t!==null){var n=Ge();Nt(t,e,134217728,n)}Wc(e,134217728)}};Fp=function(e){if(e.tag===13){var t=Ln(e),n=on(e,t);if(n!==null){var i=Ge();Nt(n,e,t,i)}Wc(e,t)}};Zp=function(){return ue};Wp=function(e,t){var n=ue;try{return ue=e,t()}finally{ue=n}};ru=function(e,t,n){switch(t){case"input":if(Jl(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var o=oa(i);if(!o)throw Error(D(90));wp(i),Jl(i,o)}}}break;case"textarea":kp(e,n);break;case"select":t=n.value,t!=null&&Br(e,!!n.multiple,t,!1)}};jp=Bc;Op=or;var hw={usingClientEntryPoint:!1,Events:[wo,Nr,oa,Lp,Cp,Bc]},ji={findFiberByHostInstance:Gn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},dw={bundleType:ji.bundleType,version:ji.version,rendererPackageName:ji.rendererPackageName,rendererConfig:ji.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:an.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=zp(e),e===null?null:e.stateNode},findFiberByHostInstance:ji.findFiberByHostInstance||uw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var us=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!us.isDisabled&&us.supportsFiber)try{ta=us.inject(dw),Ft=us}catch{}}ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=hw;ht.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Hc(t))throw Error(D(200));return lw(e,t,null,n)};ht.createRoot=function(e,t){if(!Hc(e))throw Error(D(299));var n=!1,i="",o=fg;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),t=Zc(e,1,!1,null,null,n,!1,i,o),e[rn]=t.current,oo(e.nodeType===8?e.parentNode:e),new qc(t)};ht.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(D(188)):(e=Object.keys(e).join(","),Error(D(268,e)));return e=zp(t),e=e===null?null:e.stateNode,e};ht.flushSync=function(e){return or(e)};ht.hydrate=function(e,t,n){if(!pa(t))throw Error(D(200));return ma(null,e,t,!0,n)};ht.hydrateRoot=function(e,t,n){if(!Hc(e))throw Error(D(405));var i=n!=null&&n.hydratedSources||null,o=!1,a="",u=fg;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),t=dg(t,null,e,1,n??null,o,!1,a,u),e[rn]=t.current,oo(e),i)for(e=0;e<i.length;e++)n=i[e],o=n._getVersion,o=o(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new fa(t)};ht.render=function(e,t,n){if(!pa(t))throw Error(D(200));return ma(null,e,t,!1,n)};ht.unmountComponentAtNode=function(e){if(!pa(e))throw Error(D(40));return e._reactRootContainer?(or(function(){ma(null,null,e,!1,function(){e._reactRootContainer=null,e[rn]=null})}),!0):!1};ht.unstable_batchedUpdates=Bc;ht.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!pa(n))throw Error(D(200));if(e==null||e._reactInternals===void 0)throw Error(D(38));return ma(e,t,n,!1,i)};ht.version="18.3.1-next-f1338f8080-20240426";function pg(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pg)}catch(e){console.error(e)}}pg(),fp.exports=ht;var fw=fp.exports,mg,kf=fw;mg=kf.createRoot,kf.hydrateRoot;/**
* @remix-run/router v1.23.0
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function mo(){return mo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},mo.apply(this,arguments)}var wn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(wn||(wn={}));const Sf="popstate";function pw(e){e===void 0&&(e={});function t(i,o){let{pathname:a,search:u,hash:d}=i.location;return Iu("",{pathname:a,search:u,hash:d},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(i,o){return typeof o=="string"?o:_g(o)}return gw(t,n,null,e)}function Le(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function gg(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function mw(){return Math.random().toString(36).substr(2,8)}function Tf(e,t){return{usr:e.state,key:e.key,idx:t}}function Iu(e,t,n,i){return n===void 0&&(n=null),mo({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ri(t):t,{state:n,key:t&&t.key||i||mw()})}function _g(e){let{pathname:t="/",search:n="",hash:i=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(t+=i.charAt(0)==="#"?i:"#"+i),t}function ri(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let i=e.indexOf("?");i>=0&&(t.search=e.substr(i),e=e.substr(0,i)),e&&(t.pathname=e)}return t}function gw(e,t,n,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:a=!1}=i,u=o.history,d=wn.Pop,h=null,p=m();p==null&&(p=0,u.replaceState(mo({},u.state,{idx:p}),""));function m(){return(u.state||{idx:null}).idx}function g(){d=wn.Pop;let N=m(),w=N==null?null:N-p;p=N,h&&h({action:d,location:P.location,delta:w})}function v(N,w){d=wn.Push;let y=Iu(P.location,N,w);p=m()+1;let b=Tf(y,p),C=P.createHref(y);try{u.pushState(b,"",C)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;o.location.assign(C)}a&&h&&h({action:d,location:P.location,delta:1})}function k(N,w){d=wn.Replace;let y=Iu(P.location,N,w);p=m();let b=Tf(y,p),C=P.createHref(y);u.replaceState(b,"",C),a&&h&&h({action:d,location:P.location,delta:0})}function S(N){let w=o.location.origin!=="null"?o.location.origin:o.location.href,y=typeof N=="string"?N:_g(N);return y=y.replace(/ $/,"%20"),Le(w,"No window.location.(origin|href) available to create URL for href: "+y),new URL(y,w)}let P={get action(){return d},get location(){return e(o,u)},listen(N){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(Sf,g),h=N,()=>{o.removeEventListener(Sf,g),h=null}},createHref(N){return t(o,N)},createURL:S,encodeLocation(N){let w=S(N);return{pathname:w.pathname,search:w.search,hash:w.hash}},push:v,replace:k,go(N){return u.go(N)}};return P}var Pf;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Pf||(Pf={}));function _w(e,t,n){return n===void 0&&(n="/"),vw(e,t,n)}function vw(e,t,n,i){let o=typeof t=="string"?ri(t):t,a=bg(o.pathname||"/",n);if(a==null)return null;let u=vg(e);yw(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let p=Ow(a);d=Lw(u[h],p)}return d}function vg(e,t,n,i){t===void 0&&(t=[]),n===void 0&&(n=[]),i===void 0&&(i="");let o=(a,u,d)=>{let h={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:u,route:a};h.relativePath.startsWith("/")&&(Le(h.relativePath.startsWith(i),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(i.length));let p=er([i,h.relativePath]),m=n.concat(h);a.children&&a.children.length>0&&(Le(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),vg(a.children,t,m,p)),!(a.path==null&&!a.index)&&t.push({path:p,score:Pw(p,a.index),routesMeta:m})};return e.forEach((a,u)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))o(a,u);else for(let h of yg(a.path))o(a,u,h)}),t}function yg(e){let t=e.split("/");if(t.length===0)return[];let[n,...i]=t,o=n.endsWith("?"),a=n.replace(/\?$/,"");if(i.length===0)return o?[a,""]:[a];let u=yg(i.join("/")),d=[];return d.push(...u.map(h=>h===""?a:[a,h].join("/"))),o&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function yw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Ew(t.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const bw=/^:[\w-]+$/,ww=3,xw=2,kw=1,Sw=10,Tw=-2,Ef=e=>e==="*";function Pw(e,t){let n=e.split("/"),i=n.length;return n.some(Ef)&&(i+=Tw),t&&(i+=xw),n.filter(o=>!Ef(o)).reduce((o,a)=>o+(bw.test(a)?ww:a===""?kw:Sw),i)}function Ew(e,t){return e.length===t.length&&e.slice(0,-1).every((n,i)=>n===t[i])?e[e.length-1]-t[t.length-1]:0}function Lw(e,t,n){let{routesMeta:i}=e,o={},a="/",u=[];for(let d=0;d<i.length;++d){let h=i[d],p=d===i.length-1,m=a==="/"?t:t.slice(a.length)||"/",g=Cw({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},m),v=h.route;if(!g)return null;Object.assign(o,g.params),u.push({params:o,pathname:er([a,g.pathname]),pathnameBase:Iw(er([a,g.pathnameBase])),route:v}),g.pathnameBase!=="/"&&(a=er([a,g.pathnameBase]))}return u}function Cw(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,i]=jw(e.path,e.caseSensitive,e.end),o=t.match(n);if(!o)return null;let a=o[0],u=a.replace(/(.)\/+$/,"$1"),d=o.slice(1);return{params:i.reduce((h,p,m)=>{let{paramName:g,isOptional:v}=p;if(g==="*"){let S=d[m]||"";u=a.slice(0,a.length-S.length).replace(/(.)\/+$/,"$1")}const k=d[m];return v&&!k?h[g]=void 0:h[g]=(k||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:u,pattern:e}}function jw(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),gg(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let i=[],o="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,d)=>(i.push({paramName:u,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(i.push({paramName:"*"}),o+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":e!==""&&e!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,t?void 0:"i"),i]}function Ow(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return gg(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function bg(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,i=e.charAt(n);return i&&i!=="/"?null:e.slice(n)||"/"}function Nw(e,t){t===void 0&&(t="/");let{pathname:n,search:i="",hash:o=""}=typeof e=="string"?ri(e):e;return{pathname:n?n.startsWith("/")?n:Mw(n,t):t,search:Aw(i),hash:Rw(o)}}function Mw(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Il(e,t,n,i){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function zw(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function wg(e,t){let n=zw(e);return t?n.map((i,o)=>o===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function xg(e,t,n,i){i===void 0&&(i=!1);let o;typeof e=="string"?o=ri(e):(o=mo({},e),Le(!o.pathname||!o.pathname.includes("?"),Il("?","pathname","search",o)),Le(!o.pathname||!o.pathname.includes("#"),Il("#","pathname","hash",o)),Le(!o.search||!o.search.includes("#"),Il("#","search","hash",o)));let a=e===""||o.pathname==="",u=a?"/":o.pathname,d;if(u==null)d=n;else{let g=t.length-1;if(!i&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),g-=1;o.pathname=v.join("/")}d=g>=0?t[g]:"/"}let h=Nw(o,d),p=u&&u!=="/"&&u.endsWith("/"),m=(a||u===".")&&n.endsWith("/");return!h.pathname.endsWith("/")&&(p||m)&&(h.pathname+="/"),h}const er=e=>e.join("/").replace(/\/\/+/g,"/"),Iw=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Aw=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,Rw=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function Dw(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const kg=["post","put","patch","delete"];new Set(kg);const Bw=["get",...kg];new Set(Bw);/**
* React Router v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/function go(){return go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},go.apply(this,arguments)}const Vc=O.createContext(null),$w=O.createContext(null),ko=O.createContext(null),ga=O.createContext(null),lr=O.createContext({outlet:null,matches:[],isDataRoute:!1}),Sg=O.createContext(null);function So(){return O.useContext(ga)!=null}function Kc(){return So()||Le(!1),O.useContext(ga).location}function Tg(e){O.useContext(ko).static||O.useLayoutEffect(e)}function Uw(){let{isDataRoute:e}=O.useContext(lr);return e?e0():Fw()}function Fw(){So()||Le(!1);let e=O.useContext(Vc),{basename:t,future:n,navigator:i}=O.useContext(ko),{matches:o}=O.useContext(lr),{pathname:a}=Kc(),u=JSON.stringify(wg(o,n.v7_relativeSplatPath)),d=O.useRef(!1);return Tg(()=>{d.current=!0}),O.useCallback(function(h,p){if(p===void 0&&(p={}),!d.current)return;if(typeof h=="number"){i.go(h);return}let m=xg(h,JSON.parse(u),a,p.relative==="path");e==null&&t!=="/"&&(m.pathname=m.pathname==="/"?t:er([t,m.pathname])),(p.replace?i.replace:i.push)(m,p.state,p)},[t,i,u,a,e])}function Zw(e,t){return Ww(e,t)}function Ww(e,t,n,i){So()||Le(!1);let{navigator:o}=O.useContext(ko),{matches:a}=O.useContext(lr),u=a[a.length-1],d=u?u.params:{};u&&u.pathname;let h=u?u.pathnameBase:"/";u&&u.route;let p=Kc(),m;if(t){var g;let N=typeof t=="string"?ri(t):t;h==="/"||(g=N.pathname)!=null&&g.startsWith(h)||Le(!1),m=N}else m=p;let v=m.pathname||"/",k=v;if(h!=="/"){let N=h.replace(/^\//,"").split("/");k="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let S=_w(e,{pathname:k}),P=Gw(S&&S.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:er([h,o.encodeLocation?o.encodeLocation(N.pathname).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?h:er([h,o.encodeLocation?o.encodeLocation(N.pathnameBase).pathname:N.pathnameBase])})),a,n,i);return t&&P?O.createElement(ga.Provider,{value:{location:go({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:wn.Pop}},P):P}function qw(){let e=Xw(),t=Dw(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},t),n?O.createElement("pre",{style:i},n):null,null)}const Hw=O.createElement(qw,null);class Vw extends O.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?O.createElement(lr.Provider,{value:this.props.routeContext},O.createElement(Sg.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Kw(e){let{routeContext:t,match:n,children:i}=e,o=O.useContext(Vc);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),O.createElement(lr.Provider,{value:t},i)}function Gw(e,t,n,i){var o;if(t===void 0&&(t=[]),n===void 0&&(n=null),i===void 0&&(i=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=i)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let u=e,d=(o=n)==null?void 0:o.errors;if(d!=null){let m=u.findIndex(g=>g.route.id&&(d==null?void 0:d[g.route.id])!==void 0);m>=0||Le(!1),u=u.slice(0,Math.min(u.length,m+1))}let h=!1,p=-1;if(n&&i&&i.v7_partialHydration)for(let m=0;m<u.length;m++){let g=u[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(p=m),g.route.id){let{loaderData:v,errors:k}=n,S=g.route.loader&&v[g.route.id]===void 0&&(!k||k[g.route.id]===void 0);if(g.route.lazy||S){h=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}return u.reduceRight((m,g,v)=>{let k,S=!1,P=null,N=null;n&&(k=d&&g.route.id?d[g.route.id]:void 0,P=g.route.errorElement||Hw,h&&(p<0&&v===0?(t0("route-fallback"),S=!0,N=null):p===v&&(S=!0,N=g.route.hydrateFallbackElement||null)));let w=t.concat(u.slice(0,v+1)),y=()=>{let b;return k?b=P:S?b=N:g.route.Component?b=O.createElement(g.route.Component,null):g.route.element?b=g.route.element:b=m,O.createElement(Kw,{match:g,routeContext:{outlet:m,matches:w,isDataRoute:n!=null},children:b})};return n&&(g.route.ErrorBoundary||g.route.errorElement||v===0)?O.createElement(Vw,{location:n.location,revalidation:n.revalidation,component:P,error:k,children:y(),routeContext:{outlet:null,matches:w,isDataRoute:!0}}):y()},null)}var Pg=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Pg||{}),Eg=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Eg||{});function Jw(e){let t=O.useContext(Vc);return t||Le(!1),t}function Qw(e){let t=O.useContext($w);return t||Le(!1),t}function Yw(e){let t=O.useContext(lr);return t||Le(!1),t}function Lg(e){let t=Yw(),n=t.matches[t.matches.length-1];return n.route.id||Le(!1),n.route.id}function Xw(){var e;let t=O.useContext(Sg),n=Qw(),i=Lg();return t!==void 0?t:(e=n.errors)==null?void 0:e[i]}function e0(){let{router:e}=Jw(Pg.UseNavigateStable),t=Lg(Eg.UseNavigateStable),n=O.useRef(!1);return Tg(()=>{n.current=!0}),O.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,go({fromRouteId:t},o)))},[e,t])}const Lf={};function t0(e,t,n){Lf[e]||(Lf[e]=!0)}function n0(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Cg(e){let{to:t,replace:n,state:i,relative:o}=e;So()||Le(!1);let{future:a,static:u}=O.useContext(ko),{matches:d}=O.useContext(lr),{pathname:h}=Kc(),p=Uw(),m=xg(t,wg(d,a.v7_relativeSplatPath),h,o==="path"),g=JSON.stringify(m);return O.useEffect(()=>p(JSON.parse(g),{replace:n,state:i,relative:o}),[p,g,o,n,i]),null}function Es(e){Le(!1)}function r0(e){let{basename:t="/",children:n=null,location:i,navigationType:o=wn.Pop,navigator:a,static:u=!1,future:d}=e;So()&&Le(!1);let h=t.replace(/^\/*/,"/"),p=O.useMemo(()=>({basename:h,navigator:a,static:u,future:go({v7_relativeSplatPath:!1},d)}),[h,d,a,u]);typeof i=="string"&&(i=ri(i));let{pathname:m="/",search:g="",hash:v="",state:k=null,key:S="default"}=i,P=O.useMemo(()=>{let N=bg(m,h);return N==null?null:{location:{pathname:N,search:g,hash:v,state:k,key:S},navigationType:o}},[h,m,g,v,k,S,o]);return P==null?null:O.createElement(ko.Provider,{value:p},O.createElement(ga.Provider,{children:n,value:P}))}function i0(e){let{children:t,location:n}=e;return Zw(Au(t),n)}new Promise(()=>{});function Au(e,t){t===void 0&&(t=[]);let n=[];return O.Children.forEach(e,(i,o)=>{if(!O.isValidElement(i))return;let a=[...t,o];if(i.type===O.Fragment){n.push.apply(n,Au(i.props.children,a));return}i.type!==Es&&Le(!1),!i.props.index||!i.props.children||Le(!1);let u={id:i.props.id||a.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(u.children=Au(i.props.children,a)),n.push(u)}),n}/**
* React Router DOM v6.30.1
*
* Copyright (c) Remix Software Inc.
*
* This source code is licensed under the MIT license found in the
* LICENSE.md file in the root directory of this source tree.
*
* @license MIT
*/const o0="6";try{window.__reactRouterVersion=o0}catch{}const s0="startTransition",Cf=ny[s0];function a0(e){let{basename:t,children:n,future:i,window:o}=e,a=O.useRef();a.current==null&&(a.current=pw({window:o,v5Compat:!0}));let u=a.current,[d,h]=O.useState({action:u.action,location:u.location}),{v7_startTransition:p}=i||{},m=O.useCallback(g=>{p&&Cf?Cf(()=>h(g)):h(g)},[h,p]);return O.useLayoutEffect(()=>u.listen(m),[u,m]),O.useEffect(()=>n0(i),[i]),O.createElement(r0,{basename:t,children:n,location:d.location,navigationType:d.action,navigator:u,future:i})}var jf;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(jf||(jf={}));var Of;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Of||(Of={}));const To=function(e,t,n){let i=Promise.resolve();function o(a){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=a,window.dispatchEvent(u),!u.defaultPrevented)throw a}return i.then(a=>{for(const u of a||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})},l0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>To(async()=>{const{default:i}=await Promise.resolve().then(()=>ii);return{default:i}}).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)};class Gc extends Error{constructor(t,n="FunctionsError",i){super(t),this.name=n,this.context=i}}class u0 extends Gc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Nf extends Gc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Mf extends Gc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Ru;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Ru||(Ru={}));var c0=function(e,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(m){try{p(i.next(m))}catch(g){u(g)}}function h(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(d,h)}p((i=i.apply(e,[])).next())})};class h0{constructor(t,{headers:n={},customFetch:i,region:o=Ru.Any}={}){this.url=t,this.headers=n,this.region=o,this.fetch=l0(i)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,n={}){var i;return c0(this,void 0,void 0,function*(){try{const{headers:o,method:a,body:u}=n;let d={},{region:h}=n;h||(h=this.region);const p=new URL(`${this.url}/${t}`);h&&h!=="any"&&(d["x-region"]=h,p.searchParams.set("forceFunctionRegion",h));let m;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",m=u):typeof u=="string"?(d["Content-Type"]="text/plain",m=u):typeof FormData<"u"&&u instanceof FormData?m=u:(d["Content-Type"]="application/json",m=JSON.stringify(u)));const g=yield this.fetch(p.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),o),body:m}).catch(P=>{throw new u0(P)}),v=g.headers.get("x-relay-error");if(v&&v==="true")throw new Nf(g);if(!g.ok)throw new Mf(g);let k=((i=g.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return k==="application/json"?S=yield g.json():k==="application/octet-stream"?S=yield g.blob():k==="text/event-stream"?S=g:k==="multipart/form-data"?S=yield g.formData():S=yield g.text(),{data:S,error:null,response:g}}catch(o){return{data:null,error:o,response:o instanceof Mf||o instanceof Nf?o.context:void 0}}})}}var tt={},Jc={},_a={},Po={},va={},ya={},d0=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yr=d0();const f0=Yr.fetch,jg=Yr.fetch.bind(Yr),Og=Yr.Headers,p0=Yr.Request,m0=Yr.Response,ii=Object.freeze(Object.defineProperty({__proto__:null,Headers:Og,Request:p0,Response:m0,default:jg,fetch:f0},Symbol.toStringTag,{value:"Module"})),g0=$v(ii);var ba={};Object.defineProperty(ba,"__esModule",{value:!0});let _0=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};ba.default=_0;var Ng=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ya,"__esModule",{value:!0});const v0=Ng(g0),y0=Ng(ba);let b0=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=v0.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{var a,u,d;let h=null,p=null,m=null,g=o.status,v=o.statusText;if(o.ok){if(this.method!=="HEAD"){const P=await o.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?p=P:p=JSON.parse(P))}const k=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),S=(u=o.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");k&&S&&S.length>1&&(m=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(p)&&(p.length>1?(h={code:"PGRST116",details:`Results contain ${p.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},p=null,m=null,g=406,v="Not Acceptable"):p.length===1?p=p[0]:p=null)}else{const k=await o.text();try{h=JSON.parse(k),Array.isArray(h)&&o.status===404&&(p=[],h=null,g=200,v="OK")}catch{o.status===404&&k===""?(g=204,v="No Content"):h={message:k}}if(h&&this.isMaybeSingle&&!((d=h==null?void 0:h.details)===null||d===void 0)&&d.includes("0 rows")&&(h=null,g=200,v="OK"),h&&this.shouldThrowOnError)throw new y0.default(h)}return{error:h,data:p,count:m,status:g,statusText:v}});return this.shouldThrowOnError||(i=i.catch(o=>{var a,u,d;return{error:{message:`${(a=o==null?void 0:o.name)!==null&&a!==void 0?a:"FetchError"}: ${o==null?void 0:o.message}`,details:`${(u=o==null?void 0:o.stack)!==null&&u!==void 0?u:""}`,hint:"",code:`${(d=o==null?void 0:o.code)!==null&&d!==void 0?d:""}`},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}};ya.default=b0;var w0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(va,"__esModule",{value:!0});const x0=w0(ya);let k0=class extends x0.default{select(e){let t=!1;const n=(e??"*").split("").map(i=>/\s/.test(i)&&!t?"":(i==='"'&&(t=!t),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:i,referencedTable:o=i}={}){const a=o?`${o}.order`:"order",u=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${u?`${u},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:i=n}={}){const o=typeof i>"u"?"offset":`${i}.offset`,a=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(o,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:i=!1,wal:o=!1,format:a="text"}={}){var u;const d=[e?"analyze":null,t?"verbose":null,n?"settings":null,i?"buffers":null,o?"wal":null].filter(Boolean).join("|"),h=(u=this.headers.Accept)!==null&&u!==void 0?u:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${h}"; options=${d};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};va.default=k0;var S0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Po,"__esModule",{value:!0});const T0=S0(va);let P0=class extends T0.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:i}={}){let o="";i==="plain"?o="pl":i==="phrase"?o="ph":i==="websearch"&&(o="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${o}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};Po.default=P0;var E0=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_a,"__esModule",{value:!0});const Oi=E0(Po);let L0=class{constructor(e,{headers:t={},schema:n,fetch:i}){this.url=e,this.headers=t,this.schema=n,this.fetch=i}select(e,{head:t=!1,count:n}={}){const i=t?"HEAD":"GET";let o=!1;const a=(e??"*").split("").map(u=>/\s/.test(u)&&!o?"":(u==='"'&&(o=!o),u)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new Oi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const i="POST",o=[];if(this.headers.Prefer&&o.push(this.headers.Prefer),t&&o.push(`count=${t}`),n||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const a=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(a.length>0){const u=[...new Set(a)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Oi.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:i,defaultToNull:o=!0}={}){const a="POST",u=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&u.push(this.headers.Prefer),i&&u.push(`count=${i}`),o||u.push("missing=default"),this.headers.Prefer=u.join(","),Array.isArray(e)){const d=e.reduce((h,p)=>h.concat(Object.keys(p)),[]);if(d.length>0){const h=[...new Set(d)].map(p=>`"${p}"`);this.url.searchParams.set("columns",h.join(","))}}return new Oi.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),this.headers.Prefer=i.join(","),new Oi.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Oi.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};_a.default=L0;var wa={},xa={};Object.defineProperty(xa,"__esModule",{value:!0});xa.version=void 0;xa.version="0.0.0-automated";Object.defineProperty(wa,"__esModule",{value:!0});wa.DEFAULT_HEADERS=void 0;const C0=xa;wa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${C0.version}`};var Mg=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jc,"__esModule",{value:!0});const j0=Mg(_a),O0=Mg(Po),N0=wa;let M0=class zg{constructor(t,{headers:n={},schema:i,fetch:o}={}){this.url=t,this.headers=Object.assign(Object.assign({},N0.DEFAULT_HEADERS),n),this.schemaName=i,this.fetch=o}from(t){const n=new URL(`${this.url}/${t}`);return new j0.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new zg(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:i=!1,get:o=!1,count:a}={}){let u;const d=new URL(`${this.url}/rpc/${t}`);let h;i||o?(u=i?"HEAD":"GET",Object.entries(n).filter(([m,g])=>g!==void 0).map(([m,g])=>[m,Array.isArray(g)?`{${g.join(",")}}`:`${g}`]).forEach(([m,g])=>{d.searchParams.append(m,g)})):(u="POST",h=n);const p=Object.assign({},this.headers);return a&&(p.Prefer=`count=${a}`),new O0.default({method:u,url:d,headers:p,schema:this.schemaName,body:h,fetch:this.fetch,allowEmpty:!1})}};Jc.default=M0;var oi=ut&&ut.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tt,"__esModule",{value:!0});tt.PostgrestError=tt.PostgrestBuilder=tt.PostgrestTransformBuilder=tt.PostgrestFilterBuilder=tt.PostgrestQueryBuilder=tt.PostgrestClient=void 0;const Ig=oi(Jc);tt.PostgrestClient=Ig.default;const Ag=oi(_a);tt.PostgrestQueryBuilder=Ag.default;const Rg=oi(Po);tt.PostgrestFilterBuilder=Rg.default;const Dg=oi(va);tt.PostgrestTransformBuilder=Dg.default;const Bg=oi(ya);tt.PostgrestBuilder=Bg.default;const $g=oi(ba);tt.PostgrestError=$g.default;var z0=tt.default={PostgrestClient:Ig.default,PostgrestQueryBuilder:Ag.default,PostgrestFilterBuilder:Rg.default,PostgrestTransformBuilder:Dg.default,PostgrestBuilder:Bg.default,PostgrestError:$g.default};const{PostgrestClient:I0,PostgrestQueryBuilder:O1,PostgrestFilterBuilder:N1,PostgrestTransformBuilder:M1,PostgrestBuilder:z1,PostgrestError:I1}=z0;class A0{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge"))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const n=parseInt(process.versions.node.split(".")[0]);return n>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${n} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${n} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){const i=this.getWebSocketConstructor();return new i(t,n)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const R0="2.15.1",D0=`realtime-js/${R0}`,B0="1.0.0",Du=1e4,$0=1e3,U0=100;var Vi;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Vi||(Vi={}));var je;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(je||(je={}));var Ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ct||(Ct={}));var Bu;(function(e){e.websocket="websocket"})(Bu||(Bu={}));var Kn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Kn||(Kn={}));class F0{constructor(){this.HEADER_LENGTH=1}decode(t,n){return t.constructor===ArrayBuffer?n(this._binaryDecode(t)):n(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const n=new DataView(t),i=new TextDecoder;return this._decodeBroadcast(t,n,i)}_decodeBroadcast(t,n,i){const o=n.getUint8(1),a=n.getUint8(2);let u=this.HEADER_LENGTH+2;const d=i.decode(t.slice(u,u+o));u=u+o;const h=i.decode(t.slice(u,u+a));u=u+a;const p=JSON.parse(i.decode(t.slice(u,t.byteLength)));return{ref:null,topic:d,event:h,payload:p}}}class Ug{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var de;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(de||(de={}));const zf=(e,t,n={})=>{var i;const o=(i=n.skipTypes)!==null&&i!==void 0?i:[];return Object.keys(t).reduce((a,u)=>(a[u]=Z0(u,e,t,o),a),{})},Z0=(e,t,n,i)=>{const o=t.find(d=>d.name===e),a=o==null?void 0:o.type,u=n[e];return a&&!i.includes(a)?Fg(a,u):$u(u)},Fg=(e,t)=>{if(e.charAt(0)==="_"){const n=e.slice(1,e.length);return V0(t,n)}switch(e){case de.bool:return W0(t);case de.float4:case de.float8:case de.int2:case de.int4:case de.int8:case de.numeric:case de.oid:return q0(t);case de.json:case de.jsonb:return H0(t);case de.timestamp:return K0(t);case de.abstime:case de.date:case de.daterange:case de.int4range:case de.int8range:case de.money:case de.reltime:case de.text:case de.time:case de.timestamptz:case de.timetz:case de.tsrange:case de.tstzrange:return $u(t);default:return $u(t)}},$u=e=>e,W0=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},q0=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},H0=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},V0=(e,t)=>{if(typeof e!="string")return e;const n=e.length-1,i=e[n];if(e[0]==="{"&&i==="}"){let o;const a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(u=>Fg(t,u))}return e},K0=e=>typeof e=="string"?e.replace(" ","T"):e,Zg=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Al{constructor(t,n,i={},o=Du){this.channel=t,this.event=n,this.payload=i,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var i;return this._hasReceived(t)&&n((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(i=>i.status===t).forEach(i=>i.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var If;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(If||(If={}));class Ki{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ki.syncState(this.state,o,a,u),this.pendingDiffs.forEach(h=>{this.state=Ki.syncDiff(this.state,h,a,u)}),this.pendingDiffs=[],d()}),this.channel._on(i.diff,{},o=>{const{onJoin:a,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=Ki.syncDiff(this.state,o,a,u),d())}),this.onJoin((o,a,u)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:a,newPresences:u})}),this.onLeave((o,a,u)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:a,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,i,o){const a=this.cloneDeep(t),u=this.transformState(n),d={},h={};return this.map(a,(p,m)=>{u[p]||(h[p]=m)}),this.map(u,(p,m)=>{const g=a[p];if(g){const v=m.map(N=>N.presence_ref),k=g.map(N=>N.presence_ref),S=m.filter(N=>k.indexOf(N.presence_ref)<0),P=g.filter(N=>v.indexOf(N.presence_ref)<0);S.length>0&&(d[p]=S),P.length>0&&(h[p]=P)}else d[p]=m}),this.syncDiff(a,{joins:d,leaves:h},i,o)}static syncDiff(t,n,i,o){const{joins:a,leaves:u}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return i||(i=()=>{}),o||(o=()=>{}),this.map(a,(d,h)=>{var p;const m=(p=t[d])!==null&&p!==void 0?p:[];if(t[d]=this.cloneDeep(h),m.length>0){const g=t[d].map(k=>k.presence_ref),v=m.filter(k=>g.indexOf(k.presence_ref)<0);t[d].unshift(...v)}i(d,m,h)}),this.map(u,(d,h)=>{let p=t[d];if(!p)return;const m=h.map(g=>g.presence_ref);p=p.filter(g=>m.indexOf(g.presence_ref)<0),t[d]=p,o(d,p,h),p.length===0&&delete t[d]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(i=>n(i,t[i]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,i)=>{const o=t[i];return"metas"in o?n[i]=o.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):n[i]=o,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Af;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(Af||(Af={}));var Gi;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Gi||(Gi={}));var Qt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Qt||(Qt={}));class Qc{constructor(t,n={config:{}},i){this.topic=t,this.params=n,this.socket=i,this.bindings={},this.state=je.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Al(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new Ug(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=je.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=je.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=je.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(o,a)=>{this._trigger(this._replyEventName(a),o)}),this.presence=new Ki(this),this.broadcastEndpointURL=Zg(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,n=this.timeout){var i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==je.closed){const{config:{broadcast:a,presence:u,private:d}}=this.params,h=(o=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(v=>v.filter))!==null&&o!==void 0?o:[],p=!!this.bindings[Gi.PRESENCE]&&this.bindings[Gi.PRESENCE].length>0,m={},g={broadcast:a,presence:Object.assign(Object.assign({},u),{enabled:p}),postgres_changes:h,private:d};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>t==null?void 0:t(Qt.CHANNEL_ERROR,v)),this._onClose(()=>t==null?void 0:t(Qt.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:v})=>{var k;if(this.socket.setAuth(),v===void 0){t==null||t(Qt.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,P=(k=S==null?void 0:S.length)!==null&&k!==void 0?k:0,N=[];for(let w=0;w<P;w++){const y=S[w],{filter:{event:b,schema:C,table:A,filter:R}}=y,M=v&&v[w];if(M&&M.event===b&&M.schema===C&&M.table===A&&M.filter===R)N.push(Object.assign(Object.assign({},y),{id:M.id}));else{this.unsubscribe(),this.state=je.errored,t==null||t(Qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=N,t&&t(Qt.SUBSCRIBED);return}}).receive("error",v=>{this.state=je.errored,t==null||t(Qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,i){return this.state===je.joined&&t===Gi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,n,i)}async send(t,n={}){var i,o;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:u}=t,d={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:u,private:this.private}]})};try{const h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);return await((o=h.body)===null||o===void 0?void 0:o.cancel()),h.ok?"ok":"error"}catch(h){return h.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var u,d,h;const p=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&a("ok"),p.receive("ok",()=>a("ok")),p.receive("error",()=>a("error")),p.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=je.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(o=>{i=new Al(this,Ct.leave,{},t),i.receive("ok",()=>{n(),o("ok")}).receive("timeout",()=>{n(),o("timed out")}).receive("error",()=>{o("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=je.closed,this.bindings={}}async _fetchWithTimeout(t,n,i){const o=new AbortController,a=setTimeout(()=>o.abort(),i),u=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:o.signal}));return clearTimeout(a),u}_push(t,n,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new Al(this,t,n,i);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>U0){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,i){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,i){var o,a;const u=t.toLocaleLowerCase(),{close:d,error:h,leave:p,join:m}=Ct;if(i&&[d,h,p,m].indexOf(u)>=0&&i!==this._joinRef())return;let g=this._onMessage(u,n,i);if(n&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(v=>{var k,S,P;return((k=v.filter)===null||k===void 0?void 0:k.event)==="*"||((P=(S=v.filter)===null||S===void 0?void 0:S.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===u}).map(v=>v.callback(g,i)):(a=this.bindings[u])===null||a===void 0||a.filter(v=>{var k,S,P,N,w,y;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in v){const b=v.id,C=(k=v.filter)===null||k===void 0?void 0:k.event;return b&&((S=n.ids)===null||S===void 0?void 0:S.includes(b))&&(C==="*"||(C==null?void 0:C.toLocaleLowerCase())===((P=n.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))}else{const b=(w=(N=v==null?void 0:v.filter)===null||N===void 0?void 0:N.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return b==="*"||b===((y=n==null?void 0:n.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===u}).map(v=>{if(typeof g=="object"&&"ids"in g){const k=g.data,{schema:S,table:P,commit_timestamp:N,type:w,errors:y}=k;g=Object.assign(Object.assign({},{schema:S,table:P,commit_timestamp:N,eventType:w,new:{},old:{},errors:y}),this._getPayloadRecords(k))}v.callback(g,i)})}_isClosed(){return this.state===je.closed}_isJoined(){return this.state===je.joined}_isJoining(){return this.state===je.joining}_isLeaving(){return this.state===je.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,i){const o=t.toLocaleLowerCase(),a={type:o,filter:n,callback:i};return this.bindings[o]?this.bindings[o].push(a):this.bindings[o]=[a],this}_off(t,n){const i=t.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(o=>{var a;return!(((a=o.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===i&&Qc.isEqual(o.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const i in t)if(t[i]!==n[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ct.close,{},t)}_onError(t){this._on(Ct.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=je.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=zf(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=zf(t.columns,t.old_record)),n}}const Rf=()=>{},cs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},G0=[1e3,2e3,5e3,1e4],J0=1e4,Q0=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Y0{constructor(t,n){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Du,this.transport=null,this.heartbeatIntervalMs=cs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Rf,this.ref=0,this.reconnectTimer=null,this.logger=Rf,this.conn=null,this.sendBuffer=[],this.serializer=new F0,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=o=>{let a;return o?a=o:typeof fetch>"u"?a=(...u)=>To(async()=>{const{default:d}=await Promise.resolve().then(()=>ii);return{default:d}}).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...u)=>a(...u)},!(!((i=n==null?void 0:n.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${Bu.websocket}`,this.httpEndpoint=Zg(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=A0.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B0}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},t?this.conn.close(t,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,i){this.logger(t,n,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Vi.connecting:return Kn.Connecting;case Vi.open:return Kn.Open;case Vi.closing:return Kn.Closing;default:return Kn.Closed}}isConnected(){return this.connectionState()===Kn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){const i=`realtime:${t}`,o=this.getChannels().find(a=>a.topic===i);if(o)return o;{const a=new Qc(`realtime:${t}`,n,this);return this.channels.push(a),a}}push(t){const{topic:n,event:i,payload:o,ref:a}=t,u=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${n} ${i} (${a})`,o),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close($0,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},cs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(i=>i.topic===t&&(i._isJoined()||i._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{n.topic==="phoenix"&&n.event==="phx_reply"&&this.heartbeatCallback(n.payload.status==="ok"?"ok":"error"),n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:o,payload:a,ref:u}=n,d=u?`(${u})`:"",h=a.status||"";this.log("receive",`${h} ${i} ${o} ${d}`.trim(),a),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(o,a,u)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ct.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;const i=t.match(/\?/)?"&":"?",o=new URLSearchParams(n);return`${t}${i}${o}`}_workerObjectUrl(t){let n;if(t)n=t;else{const i=new Blob([Q0],{type:"application/javascript"});n=URL.createObjectURL(i)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n;t?n=t:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const o={access_token:n,version:D0};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Ct.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(i=>{try{i(n)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(i){this.log("error",`error triggering ${t} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Ug(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},cs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,i,o,a,u,d,h,p;if(this.transport=(n=t==null?void 0:t.transport)!==null&&n!==void 0?n:null,this.timeout=(i=t==null?void 0:t.timeout)!==null&&i!==void 0?i:Du,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:cs.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(u=t==null?void 0:t.accessToken)!==null&&u!==void 0?u:null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t==null?void 0:t.reconnectAfterMs)!==null&&d!==void 0?d:m=>G0[m-1]||J0,this.encode=(h=t==null?void 0:t.encode)!==null&&h!==void 0?h:(m,g)=>g(JSON.stringify(m)),this.decode=(p=t==null?void 0:t.decode)!==null&&p!==void 0?p:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Yc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Oe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class X0 extends Yc{constructor(t,n,i){super(t),this.name="StorageApiError",this.status=n,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Uu extends Yc{constructor(t,n){super(t),this.name="StorageUnknownError",this.originalError=n}}var ex=function(e,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(m){try{p(i.next(m))}catch(g){u(g)}}function h(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(d,h)}p((i=i.apply(e,[])).next())})};const Wg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>To(async()=>{const{default:i}=await Promise.resolve().then(()=>ii);return{default:i}}).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},tx=()=>ex(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield To(()=>Promise.resolve().then(()=>ii))).Response:Response}),Fu=e=>{if(Array.isArray(e))return e.map(n=>Fu(n));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([n,i])=>{const o=n.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[o]=Fu(i)}),t},nx=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ur=function(e,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(m){try{p(i.next(m))}catch(g){u(g)}}function h(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(d,h)}p((i=i.apply(e,[])).next())})};const Rl=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rx=(e,t,n)=>ur(void 0,void 0,void 0,function*(){const i=yield tx();e instanceof i&&!(n!=null&&n.noResolveJson)?e.json().then(o=>{const a=e.status||500,u=(o==null?void 0:o.statusCode)||a+"";t(new X0(Rl(o),a,u))}).catch(o=>{t(new Uu(Rl(o),o))}):t(new Uu(Rl(e),e))}),ix=(e,t,n,i)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!i?o:(nx(i)?(o.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(i)):o.body=i,t!=null&&t.duplex&&(o.duplex=t.duplex),Object.assign(Object.assign({},o),n))};function Eo(e,t,n,i,o,a){return ur(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(n,ix(t,i,o,a)).then(h=>{if(!h.ok)throw h;return i!=null&&i.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>rx(h,d,i))})})}function Ys(e,t,n,i){return ur(this,void 0,void 0,function*(){return Eo(e,"GET",t,n,i)})}function $t(e,t,n,i,o){return ur(this,void 0,void 0,function*(){return Eo(e,"POST",t,i,o,n)})}function Zu(e,t,n,i,o){return ur(this,void 0,void 0,function*(){return Eo(e,"PUT",t,i,o,n)})}function ox(e,t,n,i){return ur(this,void 0,void 0,function*(){return Eo(e,"HEAD",t,Object.assign(Object.assign({},n),{noResolveJson:!0}),i)})}function qg(e,t,n,i,o){return ur(this,void 0,void 0,function*(){return Eo(e,"DELETE",t,i,o,n)})}var Ve=function(e,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(m){try{p(i.next(m))}catch(g){u(g)}}function h(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(d,h)}p((i=i.apply(e,[])).next())})};const sx={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Df={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class ax{constructor(t,n={},i,o){this.url=t,this.headers=n,this.bucketId=i,this.fetch=Wg(o)}uploadOrUpdate(t,n,i,o){return Ve(this,void 0,void 0,function*(){try{let a;const u=Object.assign(Object.assign({},Df),o);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&i instanceof Blob?(a=new FormData,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",this.encodeMetadata(h)),a.append("",i)):typeof FormData<"u"&&i instanceof FormData?(a=i,a.append("cacheControl",u.cacheControl),h&&a.append("metadata",this.encodeMetadata(h))):(a=i,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),o!=null&&o.headers&&(d=Object.assign(Object.assign({},d),o.headers));const p=this._removeEmptyFolders(n),m=this._getFinalPath(p),g=yield(t=="PUT"?Zu:$t)(this.fetch,`${this.url}/object/${m}`,a,Object.assign({headers:d},u!=null&&u.duplex?{duplex:u.duplex}:{}));return{data:{path:p,id:g.Id,fullPath:g.Key},error:null}}catch(a){if(Oe(a))return{data:null,error:a};throw a}})}upload(t,n,i){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,n,i)})}uploadToSignedUrl(t,n,i,o){return Ve(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),u=this._getFinalPath(a),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",n);try{let h;const p=Object.assign({upsert:Df.upsert},o),m=Object.assign(Object.assign({},this.headers),{"x-upsert":String(p.upsert)});typeof Blob<"u"&&i instanceof Blob?(h=new FormData,h.append("cacheControl",p.cacheControl),h.append("",i)):typeof FormData<"u"&&i instanceof FormData?(h=i,h.append("cacheControl",p.cacheControl)):(h=i,m["cache-control"]=`max-age=${p.cacheControl}`,m["content-type"]=p.contentType);const g=yield Zu(this.fetch,d.toString(),h,{headers:m});return{data:{path:a,fullPath:g.Key},error:null}}catch(h){if(Oe(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,n){return Ve(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t);const o=Object.assign({},this.headers);n!=null&&n.upsert&&(o["x-upsert"]="true");const a=yield $t(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:o}),u=new URL(this.url+a.url),d=u.searchParams.get("token");if(!d)throw new Yc("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}update(t,n,i){return Ve(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,n,i)})}move(t,n,i){return Ve(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}copy(t,n,i){return Ve(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:n,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}createSignedUrl(t,n,i){return Ve(this,void 0,void 0,function*(){try{let o=this._getFinalPath(t),a=yield $t(this.fetch,`${this.url}/object/sign/${o}`,Object.assign({expiresIn:n},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${u}`)},{data:a,error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}createSignedUrls(t,n,i){return Ve(this,void 0,void 0,function*(){try{const o=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:t},{headers:this.headers}),a=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:o.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${a}`):null})),error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}download(t,n){return Ve(this,void 0,void 0,function*(){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=o?`?${o}`:"";try{const u=this._getFinalPath(t);return{data:yield(yield Ys(this.fetch,`${this.url}/${i}/${u}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(u){if(Oe(u))return{data:null,error:u};throw u}})}info(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{const i=yield Ys(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Fu(i),error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}exists(t){return Ve(this,void 0,void 0,function*(){const n=this._getFinalPath(t);try{return yield ox(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(Oe(i)&&i instanceof Uu){const o=i.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:i}}throw i}})}getPublicUrl(t,n){const i=this._getFinalPath(t),o=[],a=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";a!==""&&o.push(a);const u=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});d!==""&&o.push(d);let h=o.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${u}/public/${i}${h}`)}}}remove(t){return Ve(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}list(t,n,i){return Ve(this,void 0,void 0,function*(){try{const o=Object.assign(Object.assign(Object.assign({},sx),n),{prefix:t||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,o,{headers:this.headers},i),error:null}}catch(o){if(Oe(o))return{data:null,error:o};throw o}})}listV2(t,n){return Ve(this,void 0,void 0,function*(){try{const i=Object.assign({},t);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const n=[];return t.width&&n.push(`width=${t.width}`),t.height&&n.push(`height=${t.height}`),t.resize&&n.push(`resize=${t.resize}`),t.format&&n.push(`format=${t.format}`),t.quality&&n.push(`quality=${t.quality}`),n.join("&")}}const lx="2.11.0",ux={"X-Client-Info":`storage-js/${lx}`};var br=function(e,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(m){try{p(i.next(m))}catch(g){u(g)}}function h(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(d,h)}p((i=i.apply(e,[])).next())})};class cx{constructor(t,n={},i,o){const a=new URL(t);o!=null&&o.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},ux),n),this.fetch=Wg(i)}listBuckets(){return br(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Oe(t))return{data:null,error:t};throw t}})}getBucket(t){return br(this,void 0,void 0,function*(){try{return{data:yield Ys(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}createBucket(t,n={public:!1}){return br(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}updateBucket(t,n){return br(this,void 0,void 0,function*(){try{return{data:yield Zu(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(Oe(i))return{data:null,error:i};throw i}})}emptyBucket(t){return br(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}deleteBucket(t){return br(this,void 0,void 0,function*(){try{return{data:yield qg(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(n){if(Oe(n))return{data:null,error:n};throw n}})}}class hx extends cx{constructor(t,n={},i,o){super(t,n,i,o)}from(t){return new ax(this.url,this.headers,t,this.fetch)}}const dx="2.55.0";let Ri="";typeof Deno<"u"?Ri="deno":typeof document<"u"?Ri="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ri="react-native":Ri="node";const fx={"X-Client-Info":`supabase-js-${Ri}/${dx}`},px={headers:fx},mx={schema:"public"},gx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_x={};var vx=function(e,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(m){try{p(i.next(m))}catch(g){u(g)}}function h(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(d,h)}p((i=i.apply(e,[])).next())})};const yx=e=>{let t;return e?t=e:typeof fetch>"u"?t=jg:t=fetch,(...n)=>t(...n)},bx=()=>typeof Headers>"u"?Og:Headers,wx=(e,t,n)=>{const i=yx(n),o=bx();return(a,u)=>vx(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let p=new o(u==null?void 0:u.headers);return p.has("apikey")||p.set("apikey",e),p.has("Authorization")||p.set("Authorization",`Bearer ${h}`),i(a,Object.assign(Object.assign({},u),{headers:p}))})};var xx=function(e,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(m){try{p(i.next(m))}catch(g){u(g)}}function h(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(d,h)}p((i=i.apply(e,[])).next())})};function kx(e){return e.endsWith("/")?e:e+"/"}function Sx(e,t){var n,i;const{db:o,auth:a,realtime:u,global:d}=e,{db:h,auth:p,realtime:m,global:g}=t,v={db:Object.assign(Object.assign({},h),o),auth:Object.assign(Object.assign({},p),a),realtime:Object.assign(Object.assign({},m),u),storage:{},global:Object.assign(Object.assign(Object.assign({},g),d),{headers:Object.assign(Object.assign({},(n=g==null?void 0:g.headers)!==null&&n!==void 0?n:{}),(i=d==null?void 0:d.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>xx(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const Hg="2.71.1",Tr=30*1e3,Wu=3,Dl=Wu*Tr,Tx="http://localhost:9999",Px="supabase.auth.token",Ex={"X-Client-Info":`gotrue-js/${Hg}`},qu="X-Supabase-Api-Version",Vg={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lx=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Cx=10*60*1e3;class Xc extends Error{constructor(t,n,i){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=i}}function Q(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class jx extends Xc{constructor(t,n,i){super(t,n,i),this.name="AuthApiError",this.status=n,this.code=i}}function Ox(e){return Q(e)&&e.name==="AuthApiError"}class Kg extends Xc{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}}class In extends Xc{constructor(t,n,i,o){super(t,i,o),this.name=n,this.status=i}}class fn extends In{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Nx(e){return Q(e)&&e.name==="AuthSessionMissingError"}class hs extends In{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ds extends In{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class fs extends In{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Mx(e){return Q(e)&&e.name==="AuthImplicitGrantRedirectError"}class Bf extends In{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Hu extends In{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}}function Bl(e){return Q(e)&&e.name==="AuthRetryableFetchError"}class $f extends In{constructor(t,n,i){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=i}}class Vu extends In{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Xs="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Uf=` 	
\r=`.split(""),zx=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Uf.length;t+=1)e[Uf[t].charCodeAt(0)]=-2;for(let t=0;t<Xs.length;t+=1)e[Xs[t].charCodeAt(0)]=t;return e})();function Ff(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Xs[i]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const i=t.queue>>t.queuedBits-6&63;n(Xs[i]),t.queuedBits-=6}}function Gg(e,t,n){const i=zx[e];if(i>-1)for(t.queue=t.queue<<6|i,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Zf(e){const t=[],n=u=>{t.push(String.fromCodePoint(u))},i={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},a=u=>{Rx(u,i,n)};for(let u=0;u<e.length;u+=1)Gg(e.charCodeAt(u),o,a);return t.join("")}function Ix(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ax(e,t){for(let n=0;n<e.length;n+=1){let i=e.charCodeAt(n);if(i>55295&&i<=56319){const o=(i-55296)*1024&65535;i=(e.charCodeAt(n+1)-56320&65535|o)+65536,n+=1}Ix(i,t)}}function Rx(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let i=1;i<6;i+=1)if(!(e>>7-i&1)){t.utf8seq=i;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Dx(e){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};for(let o=0;o<e.length;o+=1)Gg(e.charCodeAt(o),n,i);return new Uint8Array(t)}function Bx(e){const t=[];return Ax(e,n=>t.push(n)),new Uint8Array(t)}function $x(e){const t=[],n={queue:0,queuedBits:0},i=o=>{t.push(o)};return e.forEach(o=>Ff(o,n,i)),Ff(null,n,i),t.join("")}function Ux(e){return Math.round(Date.now()/1e3)+e}function Fx(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Pt=()=>typeof window<"u"&&typeof document<"u",Zn={tested:!1,writable:!1},Jg=()=>{if(!Pt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zn.tested)return Zn.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Zn.tested=!0,Zn.writable=!0}catch{Zn.tested=!0,Zn.writable=!1}return Zn.writable};function Zx(e){const t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((i,o)=>{t[o]=i}),t}const Qg=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...n)=>To(async()=>{const{default:i}=await Promise.resolve().then(()=>ii);return{default:i}}).then(({default:i})=>i(...n)):t=fetch,(...n)=>t(...n)},Wx=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Pr=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Wn=async(e,t)=>{const n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},dn=async(e,t)=>{await e.removeItem(t)};class ka{constructor(){this.promise=new ka.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}}ka.promiseConstructor=Promise;function $l(e){const t=e.split(".");if(t.length!==3)throw new Vu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Lx.test(t[n]))throw new Vu("JWT not in base64url format");return{header:JSON.parse(Zf(t[0])),payload:JSON.parse(Zf(t[1])),signature:Dx(t[2]),raw:{header:t[0],payload:t[1]}}}async function qx(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Hx(e,t){return new Promise((n,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{const a=await e(o);if(!t(o,null,a)){n(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function Vx(e){return("0"+e.toString(16)).substr(-2)}function Kx(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let i="";for(let o=0;o<56;o++)i+=t.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,Vx).join("")}async function Gx(e){const t=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",t),i=new Uint8Array(n);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function Jx(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await Gx(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function wr(e,t,n=!1){const i=Kx();let o=i;n&&(o+="/PASSWORD_RECOVERY"),await Pr(e,`${t}-code-verifier`,o);const a=await Jx(i);return[a,i===a?"plain":"s256"]}const Qx=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Yx(e){const t=e.headers.get(qu);if(!t||!t.match(Qx))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Xx(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function ek(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const tk=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xr(e){if(!tk.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ul(){const e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const i=n.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Wf(e){return JSON.parse(JSON.stringify(e))}var nk=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};const Vn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),rk=[502,503,504];async function qf(e){var t;if(!Wx(e))throw new Hu(Vn(e),0);if(rk.includes(e.status))throw new Hu(Vn(e),e.status);let n;try{n=await e.json()}catch(a){throw new Kg(Vn(a),a)}let i;const o=Yx(e);if(o&&o.getTime()>=Vg["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?i=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(i=n.error_code),i){if(i==="weak_password")throw new $f(Vn(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(i==="session_not_found")throw new fn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((a,u)=>a&&typeof u=="string",!0))throw new $f(Vn(n),e.status,n.weak_password.reasons);throw new jx(Vn(n),e.status||500,i)}const ik=(e,t,n,i)=>{const o={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(i),Object.assign(Object.assign({},o),n))};async function ee(e,t,n,i){var o;const a=Object.assign({},i==null?void 0:i.headers);a[qu]||(a[qu]=Vg["2024-01-01"].name),i!=null&&i.jwt&&(a.Authorization=`Bearer ${i.jwt}`);const u=(o=i==null?void 0:i.query)!==null&&o!==void 0?o:{};i!=null&&i.redirectTo&&(u.redirect_to=i.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await ok(e,t,n+d,{headers:a,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(h):{data:Object.assign({},h),error:null}}async function ok(e,t,n,i,o,a){const u=ik(t,i,o,a);let d;try{d=await e(n,Object.assign({},u))}catch(h){throw console.error(h),new Hu(Vn(h),0)}if(d.ok||await qf(d),i!=null&&i.noResolveJson)return d;try{return await d.json()}catch(h){await qf(h)}}function Gt(e){var t;let n=null;uk(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=Ux(e.expires_in)));const i=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:i},error:null}}function Hf(e){const t=Gt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,i)=>n&&typeof i=="string",!0)&&(t.data.weak_password=e.weak_password),t}function vn(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function sk(e){return{data:e,error:null}}function ak(e){const{action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a}=e,u=nk(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:n,hashed_token:i,redirect_to:o,verification_type:a},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function lk(e){return e}function uk(e){return e.access_token&&e.refresh_token&&e.expires_in}const Fl=["global","local","others"];var ck=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(e,i[o])&&(n[i[o]]=e[i[o]]);return n};class hk{constructor({url:t="",headers:n={},fetch:i}){this.url=t,this.headers=n,this.fetch=Qg(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,n=Fl[0]){if(Fl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Fl.join(", ")}`);try{return await ee(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}}async inviteUserByEmail(t,n={}){try{return await ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:vn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async generateLink(t){try{const{options:n}=t,i=ck(t,["options"]),o=Object.assign(Object.assign({},i),n);return"newEmail"in i&&(o.new_email=i==null?void 0:i.newEmail,delete o.newEmail),await ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:ak,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(Q(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await ee(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:vn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,i,o,a,u,d,h;try{const p={nextPage:null,lastPage:0,total:0},m=await ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(n=t==null?void 0:t.page)===null||n===void 0?void 0:n.toString())!==null&&i!==void 0?i:"",per_page:(a=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&a!==void 0?a:""},xform:lk});if(m.error)throw m.error;const g=await m.json(),v=(u=m.headers.get("x-total-count"))!==null&&u!==void 0?u:0,k=(h=(d=m.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return k.length>0&&(k.forEach(S=>{const P=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(S.split(";")[1].split("=")[1]);p[`${N}Page`]=P}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},g),p),error:null}}catch(p){if(Q(p))return{data:{users:[]},error:p};throw p}}async getUserById(t){xr(t);try{return await ee(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:vn})}catch(n){if(Q(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){xr(t);try{return await ee(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:vn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async deleteUser(t,n=!1){xr(t);try{return await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:vn})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async _listFactors(t){xr(t.userId);try{const{data:n,error:i}=await ee(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:n,error:i}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _deleteFactor(t){xr(t.userId),xr(t.id);try{return{data:await ee(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}}function Vf(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}function dk(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const kr={debug:!!(globalThis&&Jg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yg extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class fk extends Yg{}async function pk(e,t,n){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const i=new globalThis.AbortController;return t>0&&setTimeout(()=>{i.abort(),kr.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async o=>{if(o){kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,o.name);try{return await n()}finally{kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,o.name)}}else{if(t===0)throw kr.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new fk(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(kr.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}dk();const mk={url:Tx,storageKey:Px,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ex,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Kf(e,t,n){return await n()}const Sr={};class _o{constructor(t){var n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=_o.nextInstanceID,_o.nextInstanceID+=1,this.instanceID>0&&Pt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const o=Object.assign(Object.assign({},mk),t);if(this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.persistSession=o.persistSession,this.storageKey=o.storageKey,this.autoRefreshToken=o.autoRefreshToken,this.admin=new hk({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Qg(o.fetch),this.lock=o.lock||Kf,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,o.lock?this.lock=o.lock:Pt()&&!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks?this.lock=pk:this.lock=Kf,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:Jg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vf(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Vf(this.memoryStorage)),Pt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,n;return(n=(t=Sr[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(t){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,n;return(n=(t=Sr[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Sr[this.storageKey]=Object.assign(Object.assign({},Sr[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Hg}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const n=Zx(window.location.href);let i="none";if(this._isImplicitGrantCallback(n)?i="implicit":await this._isPKCECallback(n)&&(i="pkce"),Pt()&&this.detectSessionInUrl&&i!=="none"){const{data:o,error:a}=await this._getSessionFromURL(n,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),Mx(a)){const h=(t=a.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:u,redirectType:d}=o;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return Q(n)?{error:n}:{error:new Kg("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var n,i,o;try{const a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:Gt}),{data:u,error:d}=a;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var n,i,o;try{let a;if("email"in t){const{email:m,password:g,options:v}=t;let k=null,S=null;this.flowType==="pkce"&&([k,S]=await wr(this.storage,this.storageKey)),a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v==null?void 0:v.emailRedirectTo,body:{email:m,password:g,data:(n=v==null?void 0:v.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken},code_challenge:k,code_challenge_method:S},xform:Gt})}else if("phone"in t){const{phone:m,password:g,options:v}=t;a=await ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:g,data:(i=v==null?void 0:v.data)!==null&&i!==void 0?i:{},channel:(o=v==null?void 0:v.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:v==null?void 0:v.captchaToken}},xform:Gt})}else throw new ds("You must provide either an email or phone number and a password");const{data:u,error:d}=a;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,p=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(a){if(Q(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let n;if("email"in t){const{email:a,password:u,options:d}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Hf})}else if("phone"in t){const{phone:a,password:u,options:d}=t;n=await ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:u,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Hf})}else throw new ds("You must provide either an email or phone number and a password");const{data:i,error:o}=n;return o?{data:{user:null,session:null},error:o}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new hs}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(t){var n,i,o,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(n=t.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=t.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:n}=t;if(n==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(t){var n,i,o,a,u,d,h,p,m,g,v,k;let S,P;if("message"in t)S=t.message,P=t.signature;else{const{chain:N,wallet:w,statement:y,options:b}=t;let C;if(Pt())if(typeof w=="object")C=w;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))C=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(b!=null&&b.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");C=w}const A=new URL((n=b==null?void 0:b.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in C&&C.signIn){const R=await C.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},b==null?void 0:b.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),y?{statement:y}:null));let M;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")M=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)M=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)S=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),P=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in C)||typeof C.signMessage!="function"||!("publicKey"in C)||typeof C!="object"||!C.publicKey||!("toBase58"in C.publicKey)||typeof C.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");S=[`${A.host} wants you to sign in with your Solana account:`,C.publicKey.toBase58(),...y?["",y,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(o=(i=b==null?void 0:b.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=b==null?void 0:b.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${b.signInWithSolana.notBefore}`]:[],...!((u=b==null?void 0:b.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${b.signInWithSolana.expirationTime}`]:[],...!((d=b==null?void 0:b.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${b.signInWithSolana.chainId}`]:[],...!((h=b==null?void 0:b.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${b.signInWithSolana.nonce}`]:[],...!((p=b==null?void 0:b.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${b.signInWithSolana.requestId}`]:[],...!((g=(m=b==null?void 0:b.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||g===void 0)&&g.length?["Resources",...b.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const R=await C.signMessage(new TextEncoder().encode(S),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");P=R}}try{const{data:N,error:w}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:S,signature:$x(P)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(k=t.options)===null||k===void 0?void 0:k.captchaToken}}:null),xform:Gt});if(w)throw w;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new hs}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:w})}catch(N){if(Q(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const n=await Wn(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(n??"").split("/");try{const{data:a,error:u}=await ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:i},xform:Gt});if(await dn(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new hs}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:u})}catch(a){if(Q(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:n,provider:i,token:o,access_token:a,nonce:u}=t,d=await ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:u,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Gt}),{data:h,error:p}=d;return p?{data:{user:null,session:null},error:p}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new hs}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:p})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(t){var n,i,o,a,u;try{if("email"in t){const{email:d,options:h}=t;let p=null,m=null;this.flowType==="pkce"&&([p,m]=await wr(this.storage,this.storageKey));const{error:g}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},create_user:(i=h==null?void 0:h.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:m},redirectTo:h==null?void 0:h.emailRedirectTo});return{data:{user:null,session:null},error:g}}if("phone"in t){const{phone:d,options:h}=t,{data:p,error:m}=await ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(o=h==null?void 0:h.data)!==null&&o!==void 0?o:{},create_user:(a=h==null?void 0:h.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},channel:(u=h==null?void 0:h.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:m}}throw new ds("You must provide either an email or phone number.")}catch(d){if(Q(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var n,i;try{let o,a;"options"in t&&(o=(n=t.options)===null||n===void 0?void 0:n.redirectTo,a=(i=t.options)===null||i===void 0?void 0:i.captchaToken);const{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Gt});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,p=u.user;return h!=null&&h.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:p,session:h},error:null}}catch(o){if(Q(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithSSO(t){var n,i,o;try{let a=null,u=null;return this.flowType==="pkce"&&([a,u]=await wr(this.storage,this.storageKey)),await ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(i=(n=t.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:u}),headers:this.headers,xform:sk})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:n},error:i}=t;if(i)throw i;if(!n)throw new fn;const{error:o}=await ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:o}})}catch(t){if(Q(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const n=`${this.url}/resend`;if("email"in t){const{email:i,type:o,options:a}=t,{error:u}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:i,type:o,options:a}=t,{data:u,error:d}=await ee(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ds("You must provide either an email or phone number and a type")}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(t,n){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await n()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=n();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await t(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const n=await Wn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?t=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const i=t.expires_at?t.expires_at*1e3-Date.now()<Dl:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",t.expires_at),!i){if(this.userStorage){const u=await Wn(this.userStorage,this.storageKey+"-user");u!=null&&u.user?t.user=u.user:t.user=Ul()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(d,h,p)=>(!u&&h==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(d,h,p))})}return{data:{session:t},error:null}}const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:o},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:vn}):await this._useSession(async n=>{var i,o,a;const{data:u,error:d}=n;if(d)throw d;return!(!((i=u.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new fn}:await ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=u.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:vn})})}catch(n){if(Q(n))return Nx(n)&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(t,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,n))}async _updateUser(t,n={}){try{return await this._useSession(async i=>{const{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new fn;const u=o.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await wr(this.storage,this.storageKey));const{data:p,error:m}=await ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:vn});if(m)throw m;return u.user=p.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(i){if(Q(i))return{data:{user:null},error:i};throw i}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new fn;const n=Date.now()/1e3;let i=n,o=!0,a=null;const{payload:u}=$l(t.access_token);if(u.exp&&(i=u.exp,o=i<=n),o){const{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};a=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;a={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:i-n,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(n){if(Q(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async n=>{var i;if(!t){const{data:u,error:d}=n;if(d)throw d;t=(i=u.session)!==null&&i!==void 0?i:void 0}if(!(t!=null&&t.refresh_token))throw new fn;const{session:o,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:o?{data:{user:o.user,session:o},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(Q(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(t,n){try{if(!Pt())throw new fs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new fs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Bf("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new fs("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Bf("No code detected.");const{data:y,error:b}=await this._exchangeCodeForSession(t.code);if(b)throw b;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:y.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:u,expires_in:d,expires_at:h,token_type:p}=t;if(!a||!d||!u||!p)throw new fs("No session defined in URL");const m=Math.round(Date.now()/1e3),g=parseInt(d);let v=m+g;h&&(v=parseInt(h));const k=v-m;k*1e3<=Tr&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${k}s, should have been closer to ${g}s`);const S=v-g;m-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,v,m):m-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",S,v,m);const{data:P,error:N}=await this._getUser(a);if(N)throw N;const w={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:g,expires_at:v,refresh_token:u,token_type:p,user:P.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:w,redirectType:t.type},error:null}}catch(i){if(Q(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const n=await Wn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&n)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{error:a};const u=(i=o.session)===null||i===void 0?void 0:i.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(Ox(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await dn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const n=Fx(),i={id:n,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:i}}}async _emitInitialSession(t){return await this._useSession(async n=>{var i,o;try{const{data:{session:a},error:u}=n;if(u)throw u;await((i=this.stateChangeEmitters.get(t))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,n={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await wr(this.storage,this.storageKey,!0));try{return await ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(Q(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:n,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(t=n.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(n){if(Q(n))return{data:null,error:n};throw n}}async linkIdentity(t){var n;try{const{data:i,error:o}=await this._useSession(async a=>{var u,d,h,p,m;const{data:g,error:v}=a;if(v)throw v;const k=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await ee(this.fetch,"GET",k,{headers:this.headers,jwt:(m=(p=g.session)===null||p===void 0?void 0:p.access_token)!==null&&m!==void 0?m:void 0})});if(o)throw o;return Pt()&&!(!((n=t.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:t.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Q(i))return{data:{provider:t.provider,url:null},error:i};throw i}}async unlinkIdentity(t){try{return await this._useSession(async n=>{var i,o;const{data:a,error:u}=n;if(u)throw u;return await ee(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _refreshAccessToken(t){const n=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{const i=Date.now();return await Hx(async o=>(o>0&&await qx(200*Math.pow(2,o-1)),this._debug(n,"refreshing attempt",o),await ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Gt})),(o,a)=>{const u=200*Math.pow(2,o);return a&&Bl(a)&&Date.now()+u-i<Tr})}catch(i){if(this._debug(n,"error",i),Q(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,n){const i=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",n,"url",i),Pt()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:t,url:i},error:null}}async _recoverAndRefresh(){var t,n;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const o=await Wn(this.storage,this.storageKey);if(o&&this.userStorage){let u=await Wn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:o.user},await Pr(this.userStorage,this.storageKey+"-user",u)),o.user=(t=u==null?void 0:u.user)!==null&&t!==void 0?t:Ul()}else if(o&&!o.user&&!o.user){const u=await Wn(this.storage,this.storageKey+"-user");u&&u!=null&&u.user?(o.user=u.user,await dn(this.storage,this.storageKey+"-user"),await Pr(this.storage,this.storageKey,o)):o.user=Ul()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}const a=((n=o.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Dl;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${Dl}s`),a){if(this.autoRefreshToken&&o.refresh_token){const{error:u}=await this._callRefreshToken(o.refresh_token);u&&(console.error(u),Bl(u)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(o.access_token);!d&&u!=null&&u.user?(o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(i,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(t){var n,i;if(!t)throw new fn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new ka;const{data:a,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!a.session)throw new fn;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const d={session:a.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(a){if(this._debug(o,"error",a),Q(a)){const u={session:null,error:a};return Bl(a)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(u),u}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,n,i=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:t,session:n});const a=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,n)}catch(h){a.push(h)}});if(await Promise.all(u),a.length>0){for(let d=0;d<a.length;d+=1)console.error(a[d]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const n=Object.assign({},t),i=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&n.user&&await Pr(this.userStorage,this.storageKey+"-user",{user:n.user});const o=Object.assign({},n);delete o.user;const a=Wf(o);await Pr(this.storage,this.storageKey,a)}else{const o=Wf(n);await Pr(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),await dn(this.storage,this.storageKey),await dn(this.storage,this.storageKey+"-code-verifier"),await dn(this.storage,this.storageKey+"-user"),this.userStorage&&await dn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Pt()&&window!=null&&window.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Tr);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async n=>{const{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((i.expires_at*1e3-t)/Tr);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Tr}ms, refresh threshold is ${Wu} ticks`),o<=Wu&&await this._callRefreshToken(i.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Yg)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Pt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const n=`#_onVisibilityChanged(${t})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,n,i){const o=[`provider=${encodeURIComponent(n)}`];if(i!=null&&i.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[a,u]=await wr(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(u)}`});o.push(d.toString())}if(i!=null&&i.queryParams){const a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i!=null&&i.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await ee(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _enroll(t){try{return await this._useSession(async n=>{var i,o;const{data:a,error:u}=n;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:p}=await ee(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(i=a==null?void 0:a.session)===null||i===void 0?void 0:i.access_token});return p?{data:null,error:p}:(t.factorType==="totp"&&!((o=h==null?void 0:h.totp)===null||o===void 0)&&o.qr_code&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(n){if(Q(n))return{data:null,error:n};throw n}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;if(a)return{data:null,error:a};const{data:u,error:d}=await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var i;const{data:o,error:a}=n;return a?{data:null,error:a}:await ee(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(i=o==null?void 0:o.session)===null||i===void 0?void 0:i.access_token})})}catch(n){if(Q(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(t){const{data:n,error:i}=await this._challenge({factorId:t.factorId});return i?{data:null,error:i}:await this._verify({factorId:t.factorId,challengeId:n.id,code:t.code})}async _listFactors(){const{data:{user:t},error:n}=await this.getUser();if(n)return{data:null,error:n};const i=(t==null?void 0:t.factors)||[],o=i.filter(u=>u.factor_type==="totp"&&u.status==="verified"),a=i.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:i,totp:o,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var n,i;const{data:{session:o},error:a}=t;if(a)return{data:null,error:a};if(!o)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=$l(o.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((i=(n=o.user.factors)===null||n===void 0?void 0:n.filter(m=>m.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(h="aal2");const p=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:p},error:null}}))}async fetchJwk(t,n={keys:[]}){let i=n.keys.find(d=>d.kid===t);if(i)return i;const o=Date.now();if(i=this.jwks.keys.find(d=>d.kid===t),i&&this.jwks_cached_at+Cx>o)return i;const{data:a,error:u}=await ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(d=>d.kid===t),!i)?null:i}async getClaims(t,n={}){try{let i=t;if(!i){const{data:v,error:k}=await this.getSession();if(k||!v.session)return{data:null,error:k};i=v.session.access_token}const{header:o,payload:a,signature:u,raw:{header:d,payload:h}}=$l(i);n!=null&&n.allowExpired||Xx(a.exp);const p=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!p){const{error:v}=await this.getUser(i);if(v)throw v;return{data:{claims:a,header:o,signature:u},error:null}}const m=ek(o.alg),g=await crypto.subtle.importKey("jwk",p,m,!0,["verify"]);if(!await crypto.subtle.verify(m,g,u,Bx(`${d}.${h}`)))throw new Vu("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(i){if(Q(i))return{data:null,error:i};throw i}}}_o.nextInstanceID=0;const gk=_o;class _k extends gk{constructor(t){super(t)}}var vk=function(e,t,n,i){function o(a){return a instanceof n?a:new n(function(u){u(a)})}return new(n||(n=Promise))(function(a,u){function d(m){try{p(i.next(m))}catch(g){u(g)}}function h(m){try{p(i.throw(m))}catch(g){u(g)}}function p(m){m.done?a(m.value):o(m.value).then(d,h)}p((i=i.apply(e,[])).next())})};class yk{constructor(t,n,i){var o,a,u;if(this.supabaseUrl=t,this.supabaseKey=n,!t)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const d=kx(t),h=new URL(d);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const p=`sb-${h.hostname.split(".")[0]}-auth-token`,m={db:mx,realtime:_x,auth:Object.assign(Object.assign({},gx),{storageKey:p}),global:px},g=Sx(i??{},m);this.storageKey=(o=g.auth.storageKey)!==null&&o!==void 0?o:"",this.headers=(a=g.global.headers)!==null&&a!==void 0?a:{},g.accessToken?(this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(v,k)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(k)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=g.auth)!==null&&u!==void 0?u:{},this.headers,g.global.fetch),this.fetch=wx(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.rest=new I0(new URL("rest/v1",h).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new hx(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new h0(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,n={},i={}){return this.rest.rpc(t,n,i)}channel(t,n={config:{}}){return this.realtime.channel(t,n)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,n;return vk(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(n=(t=i.session)===null||t===void 0?void 0:t.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,storageKey:a,flowType:u,lock:d,debug:h},p,m){const g={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new _k({url:this.authUrl.href,headers:Object.assign(Object.assign({},g),p),storageKey:a,autoRefreshToken:t,persistSession:n,detectSessionInUrl:i,storage:o,flowType:u,lock:d,debug:h,fetch:m,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Y0(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,n,i){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==i?this.changedAccessToken=i:t==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const bk=(e,t,n)=>new yk(e,t,n);function wk(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}wk()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Xg="https://khxedyqupxeyogeyqmty.supabase.co",xk="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImtoeGVkeXF1cHhleW9nZXlxbXR5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTU0NDU0MzksImV4cCI6MjA3MTAyMTQzOX0.5MF7c57Hpt4PuvzT9dsBNLsOcrpdlMwefpXbuWu9BnE";console.log("Supabase URL:",Xg);console.log("Supabase Anon Key:","Presente");const ne=bk(Xg,xk);function An(){const[e,t]=O.useState(null),[n,i]=O.useState(!0);return O.useEffect(()=>{if(console.log("useAuth: Iniciando..."),!ne){console.log("useAuth: Supabase não configurado, retornando null"),t(null),i(!1);return}console.log("useAuth: Verificando sessão..."),ne.auth.getSession().then(({data:{session:a}})=>{console.log("useAuth: Sessão atual:",a?"Sim":"Não"),t((a==null?void 0:a.user)??null),i(!1)});const{data:{subscription:o}}=ne.auth.onAuthStateChange(async(a,u)=>{console.log("useAuth: Evento de auth:",a),t((u==null?void 0:u.user)??null),i(!1)});return()=>o.unsubscribe()},[]),{user:e,loading:n,signIn:async(o,a)=>{var u,d,h,p;if(!ne)throw new Error("Supabase não configurado");try{console.log("useAuth: Tentando login...");const{data:m,error:g}=await ne.auth.signInWithPassword({email:o,password:a});if(g)throw console.error("useAuth: Erro no login:",g),g;if(console.log("useAuth: Login realizado com sucesso"),m.user)try{const{error:v}=await ne.from("users").select("id").eq("id",m.user.id).single();if(v&&v.code==="PGRST116"){console.log("useAuth: Criando usuário na tabela users..."),console.log("useAuth: Dados do usuário:",{id:m.user.id,name:(u=m.user.user_metadata)==null?void 0:u.name,team:(d=m.user.user_metadata)==null?void 0:d.team,email:m.user.email});const{error:k}=await ne.from("users").insert([{id:m.user.id,name:((h=m.user.user_metadata)==null?void 0:h.name)||"Jogador",team:((p=m.user.user_metadata)==null?void 0:p.team)||"green",email:m.user.email||"",score:0}]);k?console.error("useAuth: Erro ao criar usuário na tabela:",k):console.log("useAuth: Usuário criado na tabela com sucesso")}else console.log("useAuth: Usuário já existe na tabela users")}catch(v){console.error("useAuth: Erro ao verificar/criar usuário na tabela:",v)}return{data:m,error:null}}catch(m){return console.error("useAuth: Erro no login:",m),{data:null,error:m}}},signUp:async(o,a,u,d)=>{if(!ne)throw new Error("Supabase não configurado");try{console.log("useAuth: Tentando registro...");const{data:h,error:p}=await ne.auth.signUp({email:o,password:a,options:{data:{name:u,team:d}}});if(p)throw console.error("useAuth: Erro no registro:",p),p;if(console.log("useAuth: Registro realizado com sucesso"),h.user&&!h.user.email_confirmed_at)return console.log("useAuth: Email precisa ser confirmado"),{data:h,error:null,message:"Conta criada! Verifique seu email para confirmar o endereço antes de fazer login."};if(h.user&&h.user.email_confirmed_at)try{const{error:m}=await ne.from("users").insert([{id:h.user.id,name:u,team:d,email:o,score:0}]);m&&console.error("useAuth: Erro ao inserir usuário:",m)}catch(m){console.error("useAuth: Erro ao inserir usuário:",m)}return{data:h,error:null}}catch(h){return console.error("useAuth: Erro no registro:",h),{data:null,error:h}}},signOut:async()=>{if(!ne){console.log("useAuth: Supabase não configurado");return}try{console.log("useAuth: Fazendo logout...");const{data:{user:o}}=await ne.auth.getUser();o&&await ne.from("users").update({current_position:null}).eq("id",o.id);const{error:a}=await ne.auth.signOut();if(a)throw console.error("useAuth: Erro ao fazer logout:",a),a;console.log("useAuth: Logout realizado com sucesso"),t(null)}catch(o){throw console.error("useAuth: Erro ao fazer logout:",o),o}}}}const kk={},Gf=e=>{let t;const n=new Set,i=(d,h)=>{const p=typeof d=="function"?d(t):d;if(!Object.is(p,t)){const m=t;t=h??(typeof p!="object"||p===null)?p:Object.assign({},t,p),n.forEach(g=>g(t,m))}},o=()=>t,a={setState:i,getState:o,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{(kk?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},u=t=e(i,o,a);return a},Sk=e=>e?Gf(e):Gf;var e_={exports:{}},t_={},n_={exports:{}},r_={};/**
* @license React
* use-sync-external-store-shim.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Xr=O;function Tk(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pk=typeof Object.is=="function"?Object.is:Tk,Ek=Xr.useState,Lk=Xr.useEffect,Ck=Xr.useLayoutEffect,jk=Xr.useDebugValue;function Ok(e,t){var n=t(),i=Ek({inst:{value:n,getSnapshot:t}}),o=i[0].inst,a=i[1];return Ck(function(){o.value=n,o.getSnapshot=t,Zl(o)&&a({inst:o})},[e,n,t]),Lk(function(){return Zl(o)&&a({inst:o}),e(function(){Zl(o)&&a({inst:o})})},[e]),jk(n),n}function Zl(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Pk(e,n)}catch{return!0}}function Nk(e,t){return t()}var Mk=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Nk:Ok;r_.useSyncExternalStore=Xr.useSyncExternalStore!==void 0?Xr.useSyncExternalStore:Mk;n_.exports=r_;var zk=n_.exports;/**
* @license React
* use-sync-external-store-shim/with-selector.production.js
*
* Copyright (c) Meta Platforms, Inc. and affiliates.
*
* This source code is licensed under the MIT license found in the
* LICENSE file in the root directory of this source tree.
*/var Sa=O,Ik=zk;function Ak(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rk=typeof Object.is=="function"?Object.is:Ak,Dk=Ik.useSyncExternalStore,Bk=Sa.useRef,$k=Sa.useEffect,Uk=Sa.useMemo,Fk=Sa.useDebugValue;t_.useSyncExternalStoreWithSelector=function(e,t,n,i,o){var a=Bk(null);if(a.current===null){var u={hasValue:!1,value:null};a.current=u}else u=a.current;a=Uk(function(){function h(k){if(!p){if(p=!0,m=k,k=i(k),o!==void 0&&u.hasValue){var S=u.value;if(o(S,k))return g=S}return g=k}if(S=g,Rk(m,k))return S;var P=i(k);return o!==void 0&&o(S,P)?(m=k,S):(m=k,g=P)}var p=!1,m,g,v=n===void 0?null:n;return[function(){return h(t())},v===null?void 0:function(){return h(v())}]},[t,n,i,o]);var d=Dk(e,a[0],a[1]);return $k(function(){u.hasValue=!0,u.value=d},[d]),Fk(d),d};e_.exports=t_;var Zk=e_.exports;const Wk=Yu(Zk),i_={},{useDebugValue:qk}=Ji,{useSyncExternalStoreWithSelector:Hk}=Wk;let Jf=!1;const Vk=e=>e;function Kk(e,t=Vk,n){(i_?"production":void 0)!=="production"&&n&&!Jf&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),Jf=!0);const i=Hk(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return qk(i),i}const Qf=e=>{(i_?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Sk(e):e,n=(i,o)=>Kk(t,i,o);return Object.assign(n,t),n},Gk=e=>e?Qf(e):Qf,Ni=e=>{const t=(e||"").toString().toLowerCase().trim();return t==="red"?"red":t==="blue"?"blue":(t==="green"||console.warn("normalizeTeam: Equipe inválida:",e,"usando fallback green"),"green")},Ta=Gk((e,t)=>({territories:[],players:[],currentPlayer:null,loading:!1,error:null,fetchTerritories:async()=>{if(!ne){console.log("gameStore: Supabase não configurado"),e({error:"Supabase não configurado",loading:!1});return}e({loading:!0,error:null});try{console.log("gameStore: Buscando territórios...");const{data:n,error:i}=await ne.from("territories").select("*");if(i){console.error("gameStore: Erro ao buscar territórios:",i),e({error:i.message,loading:!1});return}console.log("gameStore: Territórios encontrados:",(n==null?void 0:n.length)||0),e({territories:n||[],loading:!1})}catch(n){console.error("gameStore: Erro ao buscar territórios:",n),e({error:"Erro ao carregar territórios",loading:!1})}},fetchPlayers:async()=>{if(!ne){console.log("gameStore: Supabase não configurado"),e({error:"Supabase não configurado",loading:!1});return}e({loading:!0,error:null});try{console.log("gameStore: Buscando jogadores...");const{data:n,error:i}=await ne.from("users").select("*");if(i){console.error("gameStore: Erro ao buscar jogadores:",i),e({error:i.message,loading:!1});return}const o=(n||[]).map(a=>({id:a.id,name:a.name,team:Ni(a.team),position:a.current_position?a.current_position.replace(/[()]/g,"").split(",").map(Number):null,score:a.score}));console.log("gameStore: Jogadores encontrados:",o.length),e({players:o,loading:!1})}catch(n){console.error("gameStore: Erro ao buscar jogadores:",n),e({error:"Erro ao carregar jogadores",loading:!1})}},updatePlayerPosition:async n=>{var i,o,a,u;const d=localStorage.getItem("gameMode")==="mock";if(ne)try{const{data:{user:h}}=await ne.auth.getUser();if(h){const{data:p,error:m}=await ne.from("users").select("team, name").eq("id",h.id).single();if(m)console.log("gameStore: Erro ao buscar dados do usuário:",m);else if(p){const g=Ni(p.team);e(()=>({currentPlayer:{id:h.id,name:p.name||"Jogador",team:g,position:n,score:0}}))}}}catch(h){console.log("gameStore: Erro ao buscar dados do usuário:",h)}if(d){if(t().currentPlayer)e(h=>({currentPlayer:h.currentPlayer?{...h.currentPlayer,position:n}:null,players:h.players.map(p=>{var m;return p.id===((m=h.currentPlayer)==null?void 0:m.id)?{...p,position:n}:p})}));else{let h="green",p="Jogador Mock",m="mock-player";if(ne)try{const{data:{user:g}}=await ne.auth.getUser();if(g){m=g.id;const{data:v,error:k}=await ne.from("users").select("team, name").eq("id",g.id).single();k?(console.log("gameStore: Erro ao buscar dados do usuário:",k),h=Ni((i=g.user_metadata)==null?void 0:i.team),p=((o=g.user_metadata)==null?void 0:o.name)||"Jogador"):v?(h=Ni(v.team),p=v.name||"Jogador"):(h=Ni((a=g.user_metadata)==null?void 0:a.team),p=((u=g.user_metadata)==null?void 0:u.name)||"Jogador")}}catch(g){console.log("gameStore: Erro ao buscar dados do usuário:",g)}e(()=>({currentPlayer:{id:m,name:p,team:h,position:n,score:0}}))}return}if(ne)try{const{data:{user:h}}=await ne.auth.getUser();if(!h)return;const p=`(${n[0]},${n[1]})`,{error:m}=await ne.from("users").update({current_position:p}).eq("id",h.id);if(m){console.error("gameStore: Erro ao atualizar posição:",m);return}}catch(h){console.error("Erro ao atualizar posição do usuário:",h)}},captureTerritory:async n=>{console.log("gameStore: Capturando território:",n),console.log("gameStore: Território capturado com sucesso")},resetGame:()=>{console.log("gameStore: Resetando jogo..."),e({territories:[],players:[],currentPlayer:null})}}));function si(){const[e,t]=O.useState(null),[n,i]=O.useState(null),[o,a]=O.useState(!1),u=O.useRef(null),d=O.useRef(null),{updatePlayerPosition:h}=Ta(),p=m=>{t(m),d.current=m,setTimeout(()=>{h(m)},0)};return O.useEffect(()=>{localStorage.getItem("gameMode");{const m=[41.1333,-8.6167];t(m),d.current=m,i(null),a(!0),h(m)}if(!ne){i("Supabase não configurado");return}if(!navigator.geolocation){i("Geolocalização não disponível neste dispositivo");return}return a(!0),navigator.geolocation.getCurrentPosition(m=>{const g=[m.coords.latitude,m.coords.longitude];t(g),i(null),h(g)},m=>{console.error("useGeo: Erro ao obter posição inicial:",m),i(`Erro GPS: ${m.message}`),a(!1)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),u.current=navigator.geolocation.watchPosition(m=>{const g=[m.coords.latitude,m.coords.longitude];t(g),i(null),h(g)},m=>{console.error("useGeo: Erro no rastreamento:",m),i(`Erro GPS: ${m.message}`)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0}),()=>{u.current&&(navigator.geolocation.clearWatch(u.current),u.current=null)}},[]),O.useEffect(()=>{e&&(d.current=e)},[e]),{position:e,error:n,isTracking:o,startTracking:()=>{if(!navigator.geolocation){i("Geolocalização não disponível");return}a(!0),u.current=navigator.geolocation.watchPosition(m=>{const g=[m.coords.latitude,m.coords.longitude];t(g),i(null),h(g)},m=>{console.error("useGeo: Erro no rastreamento manual:",m),i(`Erro GPS: ${m.message}`)},{enableHighAccuracy:!0,timeout:5e3,maximumAge:0})},stopTracking:()=>{u.current&&(navigator.geolocation.clearWatch(u.current),u.current=null),a(!1)},updatePosition:p}}function Jk(){const{position:e}=si();O.useEffect(()=>{const t=setInterval(()=>{e&&Ta.getState().updatePlayerPosition(e)},500);return()=>{clearInterval(t)}},[e])}function Qk(){const{signIn:e,signUp:t}=An(),[n,i]=O.useState(!1),[o,a]=O.useState(""),[u,d]=O.useState(""),[h,p]=O.useState(""),[m,g]=O.useState("green"),[v,k]=O.useState(!1),[S,P]=O.useState(""),N=async w=>{w.preventDefault(),k(!0),P("");try{if(n){const{error:y,message:b}=await t(o,u,h,m);if(y)throw y;b&&(P(b),a(""),d(""),p(""),g("green"))}else{const{error:y}=await e(o,u);if(y)throw y}}catch(y){P(y.message)}finally{k(!1)}};return T.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8",children:T.jsxs("div",{className:"max-w-md w-full space-y-8",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-white",children:n?"Criar Conta":"Entrar no Jogo Geo"}),T.jsx("p",{className:"mt-2 text-center text-sm text-gray-400",children:n?"Junte-se à batalha territorial!":"Conquiste territórios para sua equipe!"})]}),T.jsxs("form",{className:"mt-8 space-y-6",onSubmit:N,children:[T.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[n&&T.jsxs("div",{children:[T.jsx("label",{htmlFor:"name",className:"sr-only",children:"Nome"}),T.jsx("input",{id:"name",name:"name",type:"text",required:n,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-500 text-white bg-gray-800 rounded-t-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Nome completo",value:h,onChange:w=>p(w.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Email"}),T.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-500 text-white bg-gray-800 ${n?"":"rounded-t-md"} focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Email",value:o,onChange:w=>a(w.target.value)})]}),T.jsxs("div",{children:[T.jsx("label",{htmlFor:"password",className:"sr-only",children:"Senha"}),T.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-700 placeholder-gray-500 text-white bg-gray-800 rounded-b-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",placeholder:"Senha",value:u,onChange:w=>d(w.target.value)})]})]}),n&&T.jsxs("div",{children:[T.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Escolha sua equipe:"}),T.jsx("div",{className:"grid grid-cols-3 gap-3",children:["green","blue","red"].map(w=>T.jsxs("button",{type:"button",onClick:()=>g(w),className:`p-3 rounded-lg border-2 transition-colors ${m===w?"border-white bg-opacity-20":"border-gray-600 hover:border-gray-500"} ${w==="green"?"bg-green-600":w==="blue"?"bg-blue-600":"bg-red-600"}`,children:[T.jsx("div",{className:`w-4 h-4 rounded-full mx-auto mb-1 ${w==="green"?"bg-green-400":w==="blue"?"bg-blue-400":"bg-red-400"}`}),T.jsx("span",{className:"text-xs text-white capitalize",children:w})]},w))})]}),S&&T.jsx("div",{className:`text-sm text-center ${S.includes("Verifique seu email")?"text-green-400":"text-red-400"}`,children:S}),T.jsx("div",{children:T.jsx("button",{type:"submit",disabled:v,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50",children:v?"Carregando...":n?"Criar Conta":"Entrar"})}),T.jsx("div",{className:"text-center",children:T.jsx("button",{type:"button",onClick:()=>i(!n),className:"text-green-400 hover:text-green-300 text-sm",children:n?"Já tem uma conta? Entrar":"Não tem conta? Criar conta"})})]})]})})}function Yk(e,t){const n=O.useRef(t);O.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const Xk=1;function e1(e){return Object.freeze({__version:Xk,map:e})}function eh(e,t){return Object.freeze({...e,...t})}const o_=O.createContext(null),s_=o_.Provider;function th(){const e=O.useContext(o_);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function a_(e){function t(n,i){const{instance:o,context:a}=e(n).current;return O.useImperativeHandle(i,()=>o),n.children==null?null:Ji.createElement(s_,{value:a},n.children)}return O.forwardRef(t)}function t1(e){function t(n,i){const{instance:o}=e(n).current;return O.useImperativeHandle(i,()=>o),null}return O.forwardRef(t)}function l_(e,t){const n=O.useRef();O.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function nh(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}var Ku={exports:{}};/* @preserve
* Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
* (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
*/(function(e,t){(function(n,i){i(t)})(ut,function(n){var i="1.9.4";function o(r){var s,l,c,f;for(l=1,c=arguments.length;l<c;l++){f=arguments[l];for(s in f)r[s]=f[s]}return r}var a=Object.create||function(){function r(){}return function(s){return r.prototype=s,new r}}();function u(r,s){var l=Array.prototype.slice;if(r.bind)return r.bind.apply(r,l.call(arguments,1));var c=l.call(arguments,2);return function(){return r.apply(s,c.length?c.concat(l.call(arguments)):arguments)}}var d=0;function h(r){return"_leaflet_id"in r||(r._leaflet_id=++d),r._leaflet_id}function p(r,s,l){var c,f,_,x;return x=function(){c=!1,f&&(_.apply(l,f),f=!1)},_=function(){c?f=arguments:(r.apply(l,arguments),setTimeout(x,s),c=!0)},_}function m(r,s,l){var c=s[1],f=s[0],_=c-f;return r===c&&l?r:((r-f)%_+_)%_+f}function g(){return!1}function v(r,s){if(s===!1)return r;var l=Math.pow(10,s===void 0?6:s);return Math.round(r*l)/l}function k(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function S(r){return k(r).split(/\s+/)}function P(r,s){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?a(r.options):{});for(var l in s)r.options[l]=s[l];return r.options}function N(r,s,l){var c=[];for(var f in r)c.push(encodeURIComponent(l?f.toUpperCase():f)+"="+encodeURIComponent(r[f]));return(!s||s.indexOf("?")===-1?"?":"&")+c.join("&")}var w=/\{ *([\w_ -]+) *\}/g;function y(r,s){return r.replace(w,function(l,c){var f=s[c];if(f===void 0)throw new Error("No value provided for variable "+l);return typeof f=="function"&&(f=f(s)),f})}var b=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function C(r,s){for(var l=0;l<r.length;l++)if(r[l]===s)return l;return-1}var A="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var M=0;function B(r){var s=+new Date,l=Math.max(0,16-(s-M));return M=s+l,window.setTimeout(r,l)}var q=window.requestAnimationFrame||R("RequestAnimationFrame")||B,W=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function re(r,s,l){if(l&&q===B)r.call(s);else return q.call(window,u(r,s))}function we(r){r&&W.call(window,r)}var Rn={__proto__:null,extend:o,create:a,bind:u,get lastId(){return d},stamp:h,throttle:p,wrapNum:m,falseFn:g,formatNum:v,trim:k,splitWords:S,setOptions:P,getParamString:N,template:y,isArray:b,indexOf:C,emptyImageUrl:A,requestFn:q,cancelFn:W,requestAnimFrame:re,cancelAnimFrame:we};function ft(){}ft.extend=function(r){var s=function(){P(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},l=s.__super__=this.prototype,c=a(l);c.constructor=s,s.prototype=c;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(s[f]=this[f]);return r.statics&&o(s,r.statics),r.includes&&(Ea(r.includes),o.apply(null,[c].concat(r.includes))),o(c,r),delete c.statics,delete c.includes,c.options&&(c.options=l.options?a(l.options):{},o(c.options,r.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){l.callInitHooks&&l.callInitHooks.call(this),this._initHooksCalled=!0;for(var _=0,x=c._initHooks.length;_<x;_++)c._initHooks[_].call(this)}},s},ft.include=function(r){var s=this.prototype.options;return o(this.prototype,r),r.options&&(this.prototype.options=s,this.mergeOptions(r.options)),this},ft.mergeOptions=function(r){return o(this.prototype.options,r),this},ft.addInitHook=function(r){var s=Array.prototype.slice.call(arguments,1),l=typeof r=="function"?r:function(){this[r].apply(this,s)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(l),this};function Ea(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=b(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Re={on:function(r,s,l){if(typeof r=="object")for(var c in r)this._on(c,r[c],s);else{r=S(r);for(var f=0,_=r.length;f<_;f++)this._on(r[f],s,l)}return this},off:function(r,s,l){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var c in r)this._off(c,r[c],s);else{r=S(r);for(var f=arguments.length===1,_=0,x=r.length;_<x;_++)f?this._off(r[_]):this._off(r[_],s,l)}return this},_on:function(r,s,l,c){if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}if(this._listens(r,s,l)===!1){l===this&&(l=void 0);var f={fn:s,ctx:l};c&&(f.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(f)}},_off:function(r,s,l){var c,f,_;if(this._events&&(c=this._events[r],!!c)){if(arguments.length===1){if(this._firingCount)for(f=0,_=c.length;f<_;f++)c[f].fn=g;delete this._events[r];return}if(typeof s!="function"){console.warn("wrong listener type: "+typeof s);return}var x=this._listens(r,s,l);if(x!==!1){var E=c[x];this._firingCount&&(E.fn=g,this._events[r]=c=c.slice()),c.splice(x,1)}}},fire:function(r,s,l){if(!this.listens(r,l))return this;var c=o({},s,{type:r,target:this,sourceTarget:s&&s.sourceTarget||this});if(this._events){var f=this._events[r];if(f){this._firingCount=this._firingCount+1||1;for(var _=0,x=f.length;_<x;_++){var E=f[_],j=E.fn;E.once&&this.off(r,j,E.ctx),j.call(E.ctx||this,c)}this._firingCount--}}return l&&this._propagateEvent(c),this},listens:function(r,s,l,c){typeof r!="string"&&console.warn('"string" type argument expected');var f=s;typeof s!="function"&&(c=!!s,f=void 0,l=void 0);var _=this._events&&this._events[r];if(_&&_.length&&this._listens(r,f,l)!==!1)return!0;if(c){for(var x in this._eventParents)if(this._eventParents[x].listens(r,s,l,c))return!0}return!1},_listens:function(r,s,l){if(!this._events)return!1;var c=this._events[r]||[];if(!s)return!!c.length;l===this&&(l=void 0);for(var f=0,_=c.length;f<_;f++)if(c[f].fn===s&&c[f].ctx===l)return f;return!1},once:function(r,s,l){if(typeof r=="object")for(var c in r)this._on(c,r[c],s,!0);else{r=S(r);for(var f=0,_=r.length;f<_;f++)this._on(r[f],s,l,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[h(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[h(r)],this},_propagateEvent:function(r){for(var s in this._eventParents)this._eventParents[s].fire(r.type,o({layer:r.target,propagatedFrom:r.target},r),!0)}};Re.addEventListener=Re.on,Re.removeEventListener=Re.clearAllEventListeners=Re.off,Re.addOneTimeEventListener=Re.once,Re.fireEvent=Re.fire,Re.hasEventListeners=Re.listens;var Wt=ft.extend(Re);function z(r,s,l){this.x=l?Math.round(r):r,this.y=l?Math.round(s):s}var K=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};z.prototype={clone:function(){return new z(this.x,this.y)},add:function(r){return this.clone()._add($(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract($(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new z(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new z(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=K(this.x),this.y=K(this.y),this},distanceTo:function(r){r=$(r);var s=r.x-this.x,l=r.y-this.y;return Math.sqrt(s*s+l*l)},equals:function(r){return r=$(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=$(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function $(r,s,l){return r instanceof z?r:b(r)?new z(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new z(r.x,r.y):new z(r,s,l)}function V(r,s){if(r)for(var l=s?[r,s]:r,c=0,f=l.length;c<f;c++)this.extend(l[c])}V.prototype={extend:function(r){var s,l;if(!r)return this;if(r instanceof z||typeof r[0]=="number"||"x"in r)s=l=$(r);else if(r=oe(r),s=r.min,l=r.max,!s||!l)return this;return!this.min&&!this.max?(this.min=s.clone(),this.max=l.clone()):(this.min.x=Math.min(s.x,this.min.x),this.max.x=Math.max(l.x,this.max.x),this.min.y=Math.min(s.y,this.min.y),this.max.y=Math.max(l.y,this.max.y)),this},getCenter:function(r){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var s,l;return typeof r[0]=="number"||r instanceof z?r=$(r):r=oe(r),r instanceof V?(s=r.min,l=r.max):s=l=r,s.x>=this.min.x&&l.x<=this.max.x&&s.y>=this.min.y&&l.y<=this.max.y},intersects:function(r){r=oe(r);var s=this.min,l=this.max,c=r.min,f=r.max,_=f.x>=s.x&&c.x<=l.x,x=f.y>=s.y&&c.y<=l.y;return _&&x},overlaps:function(r){r=oe(r);var s=this.min,l=this.max,c=r.min,f=r.max,_=f.x>s.x&&c.x<l.x,x=f.y>s.y&&c.y<l.y;return _&&x},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var s=this.min,l=this.max,c=Math.abs(s.x-l.x)*r,f=Math.abs(s.y-l.y)*r;return oe($(s.x-c,s.y-f),$(l.x+c,l.y+f))},equals:function(r){return r?(r=oe(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function oe(r,s){return!r||r instanceof V?r:new V(r,s)}function Ce(r,s){if(r)for(var l=s?[r,s]:r,c=0,f=l.length;c<f;c++)this.extend(l[c])}Ce.prototype={extend:function(r){var s=this._southWest,l=this._northEast,c,f;if(r instanceof ae)c=r,f=r;else if(r instanceof Ce){if(c=r._southWest,f=r._northEast,!c||!f)return this}else return r?this.extend(G(r)||ce(r)):this;return!s&&!l?(this._southWest=new ae(c.lat,c.lng),this._northEast=new ae(f.lat,f.lng)):(s.lat=Math.min(c.lat,s.lat),s.lng=Math.min(c.lng,s.lng),l.lat=Math.max(f.lat,l.lat),l.lng=Math.max(f.lng,l.lng)),this},pad:function(r){var s=this._southWest,l=this._northEast,c=Math.abs(s.lat-l.lat)*r,f=Math.abs(s.lng-l.lng)*r;return new Ce(new ae(s.lat-c,s.lng-f),new ae(l.lat+c,l.lng+f))},getCenter:function(){return new ae((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ae(this.getNorth(),this.getWest())},getSouthEast:function(){return new ae(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof ae||"lat"in r?r=G(r):r=ce(r);var s=this._southWest,l=this._northEast,c,f;return r instanceof Ce?(c=r.getSouthWest(),f=r.getNorthEast()):c=f=r,c.lat>=s.lat&&f.lat<=l.lat&&c.lng>=s.lng&&f.lng<=l.lng},intersects:function(r){r=ce(r);var s=this._southWest,l=this._northEast,c=r.getSouthWest(),f=r.getNorthEast(),_=f.lat>=s.lat&&c.lat<=l.lat,x=f.lng>=s.lng&&c.lng<=l.lng;return _&&x},overlaps:function(r){r=ce(r);var s=this._southWest,l=this._northEast,c=r.getSouthWest(),f=r.getNorthEast(),_=f.lat>s.lat&&c.lat<l.lat,x=f.lng>s.lng&&c.lng<l.lng;return _&&x},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,s){return r?(r=ce(r),this._southWest.equals(r.getSouthWest(),s)&&this._northEast.equals(r.getNorthEast(),s)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ce(r,s){return r instanceof Ce?r:new Ce(r,s)}function ae(r,s,l){if(isNaN(r)||isNaN(s))throw new Error("Invalid LatLng object: ("+r+", "+s+")");this.lat=+r,this.lng=+s,l!==void 0&&(this.alt=+l)}ae.prototype={equals:function(r,s){if(!r)return!1;r=G(r);var l=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return l<=(s===void 0?1e-9:s)},toString:function(r){return"LatLng("+v(this.lat,r)+", "+v(this.lng,r)+")"},distanceTo:function(r){return ln.distance(this,G(r))},wrap:function(){return ln.wrapLatLng(this)},toBounds:function(r){var s=180*r/40075017,l=s/Math.cos(Math.PI/180*this.lat);return ce([this.lat-s,this.lng-l],[this.lat+s,this.lng+l])},clone:function(){return new ae(this.lat,this.lng,this.alt)}};function G(r,s,l){return r instanceof ae?r:b(r)&&typeof r[0]!="object"?r.length===3?new ae(r[0],r[1],r[2]):r.length===2?new ae(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new ae(r.lat,"lng"in r?r.lng:r.lon,r.alt):s===void 0?null:new ae(r,s,l)}var Ye={latLngToPoint:function(r,s){var l=this.projection.project(r),c=this.scale(s);return this.transformation._transform(l,c)},pointToLatLng:function(r,s){var l=this.scale(s),c=this.transformation.untransform(r,l);return this.projection.unproject(c)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var s=this.projection.bounds,l=this.scale(r),c=this.transformation.transform(s.min,l),f=this.transformation.transform(s.max,l);return new V(c,f)},infinite:!1,wrapLatLng:function(r){var s=this.wrapLng?m(r.lng,this.wrapLng,!0):r.lng,l=this.wrapLat?m(r.lat,this.wrapLat,!0):r.lat,c=r.alt;return new ae(l,s,c)},wrapLatLngBounds:function(r){var s=r.getCenter(),l=this.wrapLatLng(s),c=s.lat-l.lat,f=s.lng-l.lng;if(c===0&&f===0)return r;var _=r.getSouthWest(),x=r.getNorthEast(),E=new ae(_.lat-c,_.lng-f),j=new ae(x.lat-c,x.lng-f);return new Ce(E,j)}},ln=o({},Ye,{wrapLng:[-180,180],R:6371e3,distance:function(r,s){var l=Math.PI/180,c=r.lat*l,f=s.lat*l,_=Math.sin((s.lat-r.lat)*l/2),x=Math.sin((s.lng-r.lng)*l/2),E=_*_+Math.cos(c)*Math.cos(f)*x*x,j=2*Math.atan2(Math.sqrt(E),Math.sqrt(1-E));return this.R*j}}),ih=6378137,La={R:ih,MAX_LATITUDE:85.0511287798,project:function(r){var s=Math.PI/180,l=this.MAX_LATITUDE,c=Math.max(Math.min(l,r.lat),-l),f=Math.sin(c*s);return new z(this.R*r.lng*s,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(r){var s=180/Math.PI;return new ae((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*s,r.x*s/this.R)},bounds:function(){var r=ih*Math.PI;return new V([-r,-r],[r,r])}()};function Ca(r,s,l,c){if(b(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=s,this._c=l,this._d=c}Ca.prototype={transform:function(r,s){return this._transform(r.clone(),s)},_transform:function(r,s){return s=s||1,r.x=s*(this._a*r.x+this._b),r.y=s*(this._c*r.y+this._d),r},untransform:function(r,s){return s=s||1,new z((r.x/s-this._b)/this._a,(r.y/s-this._d)/this._c)}};function ui(r,s,l,c){return new Ca(r,s,l,c)}var ja=o({},ln,{code:"EPSG:3857",projection:La,transformation:function(){var r=.5/(Math.PI*La.R);return ui(r,.5,-r,.5)}()}),f_=o({},ja,{code:"EPSG:900913"});function oh(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function sh(r,s){var l="",c,f,_,x,E,j;for(c=0,_=r.length;c<_;c++){for(E=r[c],f=0,x=E.length;f<x;f++)j=E[f],l+=(f?"L":"M")+j.x+" "+j.y;l+=s?Z.svg?"z":"x":""}return l||"M0 0"}var Oa=document.documentElement.style,Lo="ActiveXObject"in window,p_=Lo&&!document.addEventListener,ah="msLaunchUri"in navigator&&!("documentMode"in document),Na=zt("webkit"),lh=zt("android"),uh=zt("android 2")||zt("android 3"),m_=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),g_=lh&&zt("Google")&&m_<537&&!("AudioNode"in window),Ma=!!window.opera,ch=!ah&&zt("chrome"),hh=zt("gecko")&&!Na&&!Ma&&!Lo,__=!ch&&zt("safari"),dh=zt("phantom"),fh="OTransition"in Oa,v_=navigator.platform.indexOf("Win")===0,ph=Lo&&"transition"in Oa,za="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!uh,mh="MozPerspective"in Oa,y_=!window.L_DISABLE_3D&&(ph||za||mh)&&!fh&&!dh,ci=typeof orientation<"u"||zt("mobile"),b_=ci&&Na,w_=ci&&za,gh=!window.PointerEvent&&window.MSPointerEvent,_h=!!(window.PointerEvent||gh),vh="ontouchstart"in window||!!window.TouchEvent,x_=!window.L_NO_TOUCH&&(vh||_h),k_=ci&&Ma,S_=ci&&hh,T_=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,P_=function(){var r=!1;try{var s=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",g,s),window.removeEventListener("testPassiveEventSupport",g,s)}catch{}return r}(),E_=function(){return!!document.createElement("canvas").getContext}(),Ia=!!(document.createElementNS&&oh("svg").createSVGRect),L_=!!Ia&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),C_=!Ia&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var s=r.firstChild;return s.style.behavior="url(#default#VML)",s&&typeof s.adj=="object"}catch{return!1}}(),j_=navigator.platform.indexOf("Mac")===0,O_=navigator.platform.indexOf("Linux")===0;function zt(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var Z={ie:Lo,ielt9:p_,edge:ah,webkit:Na,android:lh,android23:uh,androidStock:g_,opera:Ma,chrome:ch,gecko:hh,safari:__,phantom:dh,opera12:fh,win:v_,ie3d:ph,webkit3d:za,gecko3d:mh,any3d:y_,mobile:ci,mobileWebkit:b_,mobileWebkit3d:w_,msPointer:gh,pointer:_h,touch:x_,touchNative:vh,mobileOpera:k_,mobileGecko:S_,retina:T_,passiveEvents:P_,canvas:E_,svg:Ia,vml:C_,inlineSvg:L_,mac:j_,linux:O_},yh=Z.msPointer?"MSPointerDown":"pointerdown",bh=Z.msPointer?"MSPointerMove":"pointermove",wh=Z.msPointer?"MSPointerUp":"pointerup",xh=Z.msPointer?"MSPointerCancel":"pointercancel",Aa={touchstart:yh,touchmove:bh,touchend:wh,touchcancel:xh},kh={touchstart:R_,touchmove:Co,touchend:Co,touchcancel:Co},cr={},Sh=!1;function N_(r,s,l){return s==="touchstart"&&A_(),kh[s]?(l=kh[s].bind(this,l),r.addEventListener(Aa[s],l,!1),l):(console.warn("wrong event specified:",s),g)}function M_(r,s,l){if(!Aa[s]){console.warn("wrong event specified:",s);return}r.removeEventListener(Aa[s],l,!1)}function z_(r){cr[r.pointerId]=r}function I_(r){cr[r.pointerId]&&(cr[r.pointerId]=r)}function Th(r){delete cr[r.pointerId]}function A_(){Sh||(document.addEventListener(yh,z_,!0),document.addEventListener(bh,I_,!0),document.addEventListener(wh,Th,!0),document.addEventListener(xh,Th,!0),Sh=!0)}function Co(r,s){if(s.pointerType!==(s.MSPOINTER_TYPE_MOUSE||"mouse")){s.touches=[];for(var l in cr)s.touches.push(cr[l]);s.changedTouches=[s],r(s)}}function R_(r,s){s.MSPOINTER_TYPE_TOUCH&&s.pointerType===s.MSPOINTER_TYPE_TOUCH&&De(s),Co(r,s)}function D_(r){var s={},l,c;for(c in r)l=r[c],s[c]=l&&l.bind?l.bind(r):l;return r=s,s.type="dblclick",s.detail=2,s.isTrusted=!1,s._simulated=!0,s}var B_=200;function $_(r,s){r.addEventListener("dblclick",s);var l=0,c;function f(_){if(_.detail!==1){c=_.detail;return}if(!(_.pointerType==="mouse"||_.sourceCapabilities&&!_.sourceCapabilities.firesTouchEvents)){var x=jh(_);if(!(x.some(function(j){return j instanceof HTMLLabelElement&&j.attributes.for})&&!x.some(function(j){return j instanceof HTMLInputElement||j instanceof HTMLSelectElement}))){var E=Date.now();E-l<=B_?(c++,c===2&&s(D_(_))):c=1,l=E}}}return r.addEventListener("click",f),{dblclick:s,simDblclick:f}}function U_(r,s){r.removeEventListener("dblclick",s.dblclick),r.removeEventListener("click",s.simDblclick)}var Ra=No(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hi=No(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ph=hi==="webkitTransition"||hi==="OTransition"?hi+"End":"transitionend";function Eh(r){return typeof r=="string"?document.getElementById(r):r}function di(r,s){var l=r.style[s]||r.currentStyle&&r.currentStyle[s];if((!l||l==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(r,null);l=c?c[s]:null}return l==="auto"?null:l}function le(r,s,l){var c=document.createElement(r);return c.className=s||"",l&&l.appendChild(c),c}function _e(r){var s=r.parentNode;s&&s.removeChild(r)}function jo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function hr(r){var s=r.parentNode;s&&s.lastChild!==r&&s.appendChild(r)}function dr(r){var s=r.parentNode;s&&s.firstChild!==r&&s.insertBefore(r,s.firstChild)}function Da(r,s){if(r.classList!==void 0)return r.classList.contains(s);var l=Oo(r);return l.length>0&&new RegExp("(^|\\s)"+s+"(\\s|$)").test(l)}function Y(r,s){if(r.classList!==void 0)for(var l=S(s),c=0,f=l.length;c<f;c++)r.classList.add(l[c]);else if(!Da(r,s)){var _=Oo(r);Ba(r,(_?_+" ":"")+s)}}function ke(r,s){r.classList!==void 0?r.classList.remove(s):Ba(r,k((" "+Oo(r)+" ").replace(" "+s+" "," ")))}function Ba(r,s){r.className.baseVal===void 0?r.className=s:r.className.baseVal=s}function Oo(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function pt(r,s){"opacity"in r.style?r.style.opacity=s:"filter"in r.style&&F_(r,s)}function F_(r,s){var l=!1,c="DXImageTransform.Microsoft.Alpha";try{l=r.filters.item(c)}catch{if(s===1)return}s=Math.round(s*100),l?(l.Enabled=s!==100,l.Opacity=s):r.style.filter+=" progid:"+c+"(opacity="+s+")"}function No(r){for(var s=document.documentElement.style,l=0;l<r.length;l++)if(r[l]in s)return r[l];return!1}function Dn(r,s,l){var c=s||new z(0,0);r.style[Ra]=(Z.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(l?" scale("+l+")":"")}function Te(r,s){r._leaflet_pos=s,Z.any3d?Dn(r,s):(r.style.left=s.x+"px",r.style.top=s.y+"px")}function Bn(r){return r._leaflet_pos||new z(0,0)}var fi,pi,$a;if("onselectstart"in document)fi=function(){J(window,"selectstart",De)},pi=function(){he(window,"selectstart",De)};else{var mi=No(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fi=function(){if(mi){var r=document.documentElement.style;$a=r[mi],r[mi]="none"}},pi=function(){mi&&(document.documentElement.style[mi]=$a,$a=void 0)}}function Ua(){J(window,"dragstart",De)}function Fa(){he(window,"dragstart",De)}var Mo,Za;function Wa(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(zo(),Mo=r,Za=r.style.outlineStyle,r.style.outlineStyle="none",J(window,"keydown",zo))}function zo(){Mo&&(Mo.style.outlineStyle=Za,Mo=void 0,Za=void 0,he(window,"keydown",zo))}function Lh(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function qa(r){var s=r.getBoundingClientRect();return{x:s.width/r.offsetWidth||1,y:s.height/r.offsetHeight||1,boundingClientRect:s}}var Z_={__proto__:null,TRANSFORM:Ra,TRANSITION:hi,TRANSITION_END:Ph,get:Eh,getStyle:di,create:le,remove:_e,empty:jo,toFront:hr,toBack:dr,hasClass:Da,addClass:Y,removeClass:ke,setClass:Ba,getClass:Oo,setOpacity:pt,testProp:No,setTransform:Dn,setPosition:Te,getPosition:Bn,get disableTextSelection(){return fi},get enableTextSelection(){return pi},disableImageDrag:Ua,enableImageDrag:Fa,preventOutline:Wa,restoreOutline:zo,getSizedParentNode:Lh,getScale:qa};function J(r,s,l,c){if(s&&typeof s=="object")for(var f in s)Va(r,f,s[f],l);else{s=S(s);for(var _=0,x=s.length;_<x;_++)Va(r,s[_],l,c)}return this}var It="_leaflet_events";function he(r,s,l,c){if(arguments.length===1)Ch(r),delete r[It];else if(s&&typeof s=="object")for(var f in s)Ka(r,f,s[f],l);else if(s=S(s),arguments.length===2)Ch(r,function(E){return C(s,E)!==-1});else for(var _=0,x=s.length;_<x;_++)Ka(r,s[_],l,c);return this}function Ch(r,s){for(var l in r[It]){var c=l.split(/\d/)[0];(!s||s(c))&&Ka(r,c,null,null,l)}}var Ha={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Va(r,s,l,c){var f=s+h(l)+(c?"_"+h(c):"");if(r[It]&&r[It][f])return this;var _=function(E){return l.call(c||r,E||window.event)},x=_;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?_=N_(r,s,_):Z.touch&&s==="dblclick"?_=$_(r,_):"addEventListener"in r?s==="touchstart"||s==="touchmove"||s==="wheel"||s==="mousewheel"?r.addEventListener(Ha[s]||s,_,Z.passiveEvents?{passive:!1}:!1):s==="mouseenter"||s==="mouseleave"?(_=function(E){E=E||window.event,Ja(r,E)&&x(E)},r.addEventListener(Ha[s],_,!1)):r.addEventListener(s,x,!1):r.attachEvent("on"+s,_),r[It]=r[It]||{},r[It][f]=_}function Ka(r,s,l,c,f){f=f||s+h(l)+(c?"_"+h(c):"");var _=r[It]&&r[It][f];if(!_)return this;!Z.touchNative&&Z.pointer&&s.indexOf("touch")===0?M_(r,s,_):Z.touch&&s==="dblclick"?U_(r,_):"removeEventListener"in r?r.removeEventListener(Ha[s]||s,_,!1):r.detachEvent("on"+s,_),r[It][f]=null}function $n(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Ga(r){return Va(r,"wheel",$n),this}function gi(r){return J(r,"mousedown touchstart dblclick contextmenu",$n),r._leaflet_disable_click=!0,this}function De(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function Un(r){return De(r),$n(r),this}function jh(r){if(r.composedPath)return r.composedPath();for(var s=[],l=r.target;l;)s.push(l),l=l.parentNode;return s}function Oh(r,s){if(!s)return new z(r.clientX,r.clientY);var l=qa(s),c=l.boundingClientRect;return new z((r.clientX-c.left)/l.x-s.clientLeft,(r.clientY-c.top)/l.y-s.clientTop)}var W_=Z.linux&&Z.chrome?window.devicePixelRatio:Z.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Nh(r){return Z.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/W_:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ja(r,s){var l=s.relatedTarget;if(!l)return!0;try{for(;l&&l!==r;)l=l.parentNode}catch{return!1}return l!==r}var q_={__proto__:null,on:J,off:he,stopPropagation:$n,disableScrollPropagation:Ga,disableClickPropagation:gi,preventDefault:De,stop:Un,getPropagationPath:jh,getMousePosition:Oh,getWheelDelta:Nh,isExternalTarget:Ja,addListener:J,removeListener:he},Mh=Wt.extend({run:function(r,s,l,c){this.stop(),this._el=r,this._inProgress=!0,this._duration=l||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Bn(r),this._offset=s.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=re(this._animate,this),this._step()},_step:function(r){var s=+new Date-this._startTime,l=this._duration*1e3;s<l?this._runFrame(this._easeOut(s/l),r):(this._runFrame(1),this._complete())},_runFrame:function(r,s){var l=this._startPos.add(this._offset.multiplyBy(r));s&&l._round(),Te(this._el,l),this.fire("step")},_complete:function(){we(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),ie=Wt.extend({options:{crs:ja,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,s){s=P(this,s),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=u(this._onResize,this),this._initEvents(),s.maxBounds&&this.setMaxBounds(s.maxBounds),s.zoom!==void 0&&(this._zoom=this._limitZoom(s.zoom)),s.center&&s.zoom!==void 0&&this.setView(G(s.center),s.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hi&&Z.any3d&&!Z.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),J(this._proxy,Ph,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,s,l){if(s=s===void 0?this._zoom:this._limitZoom(s),r=this._limitCenter(G(r),s,this.options.maxBounds),l=l||{},this._stop(),this._loaded&&!l.reset&&l!==!0){l.animate!==void 0&&(l.zoom=o({animate:l.animate},l.zoom),l.pan=o({animate:l.animate,duration:l.duration},l.pan));var c=this._zoom!==s?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,s,l.zoom):this._tryAnimatedPan(r,l.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(r,s,l.pan&&l.pan.noMoveStart),this},setZoom:function(r,s){return this._loaded?this.setView(this.getCenter(),r,{zoom:s}):(this._zoom=r,this)},zoomIn:function(r,s){return r=r||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,s)},zoomOut:function(r,s){return r=r||(Z.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,s)},setZoomAround:function(r,s,l){var c=this.getZoomScale(s),f=this.getSize().divideBy(2),_=r instanceof z?r:this.latLngToContainerPoint(r),x=_.subtract(f).multiplyBy(1-1/c),E=this.containerPointToLatLng(f.add(x));return this.setView(E,s,{zoom:l})},_getBoundsCenterZoom:function(r,s){s=s||{},r=r.getBounds?r.getBounds():ce(r);var l=$(s.paddingTopLeft||s.padding||[0,0]),c=$(s.paddingBottomRight||s.padding||[0,0]),f=this.getBoundsZoom(r,!1,l.add(c));if(f=typeof s.maxZoom=="number"?Math.min(s.maxZoom,f):f,f===1/0)return{center:r.getCenter(),zoom:f};var _=c.subtract(l).divideBy(2),x=this.project(r.getSouthWest(),f),E=this.project(r.getNorthEast(),f),j=this.unproject(x.add(E).divideBy(2).add(_),f);return{center:j,zoom:f}},fitBounds:function(r,s){if(r=ce(r),!r.isValid())throw new Error("Bounds are not valid.");var l=this._getBoundsCenterZoom(r,s);return this.setView(l.center,l.zoom,s)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,s){return this.setView(r,this._zoom,{pan:s})},panBy:function(r,s){if(r=$(r).round(),s=s||{},!r.x&&!r.y)return this.fire("moveend");if(s.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Mh,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),s.noMoveStart||this.fire("movestart"),s.animate!==!1){Y(this._mapPane,"leaflet-pan-anim");var l=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,l,s.duration||.25,s.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,s,l){if(l=l||{},l.animate===!1||!Z.any3d)return this.setView(r,s,l);this._stop();var c=this.project(this.getCenter()),f=this.project(r),_=this.getSize(),x=this._zoom;r=G(r),s=s===void 0?x:s;var E=Math.max(_.x,_.y),j=E*this.getZoomScale(x,s),I=f.distanceTo(c)||1,U=1.42,H=U*U;function X(Pe){var Ho=Pe?-1:1,Mv=Pe?j:E,zv=j*j-E*E+Ho*H*H*I*I,Iv=2*Mv*H*I,al=zv/Iv,fd=Math.sqrt(al*al+1)-al,Av=fd<1e-9?-18:Math.log(fd);return Av}function He(Pe){return(Math.exp(Pe)-Math.exp(-Pe))/2}function ze(Pe){return(Math.exp(Pe)+Math.exp(-Pe))/2}function gt(Pe){return He(Pe)/ze(Pe)}var Xe=X(0);function vr(Pe){return E*(ze(Xe)/ze(Xe+U*Pe))}function Cv(Pe){return E*(ze(Xe)*gt(Xe+U*Pe)-He(Xe))/H}function jv(Pe){return 1-Math.pow(1-Pe,1.5)}var Ov=Date.now(),hd=(X(1)-Xe)/U,Nv=l.duration?1e3*l.duration:1e3*hd*.8;function dd(){var Pe=(Date.now()-Ov)/Nv,Ho=jv(Pe)*hd;Pe<=1?(this._flyToFrame=re(dd,this),this._move(this.unproject(c.add(f.subtract(c).multiplyBy(Cv(Ho)/I)),x),this.getScaleZoom(E/vr(Ho),x),{flyTo:!0})):this._move(r,s)._moveEnd(!0)}return this._moveStart(!0,l.noMoveStart),dd.call(this),this},flyToBounds:function(r,s){var l=this._getBoundsCenterZoom(r,s);return this.flyTo(l.center,l.zoom,s)},setMaxBounds:function(r){return r=ce(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var s=this.options.minZoom;return this.options.minZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var s=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&s!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,s){this._enforcingBounds=!0;var l=this.getCenter(),c=this._limitCenter(l,this._zoom,ce(r));return l.equals(c)||this.panTo(c,s),this._enforcingBounds=!1,this},panInside:function(r,s){s=s||{};var l=$(s.paddingTopLeft||s.padding||[0,0]),c=$(s.paddingBottomRight||s.padding||[0,0]),f=this.project(this.getCenter()),_=this.project(r),x=this.getPixelBounds(),E=oe([x.min.add(l),x.max.subtract(c)]),j=E.getSize();if(!E.contains(_)){this._enforcingBounds=!0;var I=_.subtract(E.getCenter()),U=E.extend(_).getSize().subtract(j);f.x+=I.x<0?-U.x:U.x,f.y+=I.y<0?-U.y:U.y,this.panTo(this.unproject(f),s),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=o({animate:!1,pan:!0},r===!0?{animate:!0}:r);var s=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var l=this.getSize(),c=s.divideBy(2).round(),f=l.divideBy(2).round(),_=c.subtract(f);return!_.x&&!_.y?this:(r.animate&&r.pan?this.panBy(_):(r.pan&&this._rawPanBy(_),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(u(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:s,newSize:l}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=o({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var s=u(this._handleGeolocationResponse,this),l=u(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(s,l,r):navigator.geolocation.getCurrentPosition(s,l,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var s=r.code,l=r.message||(s===1?"permission denied":s===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:s,message:"Geolocation error: "+l+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var s=r.coords.latitude,l=r.coords.longitude,c=new ae(s,l),f=c.toBounds(r.coords.accuracy*2),_=this._locateOptions;if(_.setView){var x=this.getBoundsZoom(f);this.setView(c,_.maxZoom?Math.min(x,_.maxZoom):x)}var E={latlng:c,bounds:f,timestamp:r.timestamp};for(var j in r.coords)typeof r.coords[j]=="number"&&(E[j]=r.coords[j]);this.fire("locationfound",E)}},addHandler:function(r,s){if(!s)return this;var l=this[r]=new s(this);return this._handlers.push(l),this.options[r]&&l.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),_e(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(we(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)_e(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,s){var l="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),c=le("div",l,s||this._mapPane);return r&&(this._panes[r]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),s=this.unproject(r.getBottomLeft()),l=this.unproject(r.getTopRight());return new Ce(s,l)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,s,l){r=ce(r),l=$(l||[0,0]);var c=this.getZoom()||0,f=this.getMinZoom(),_=this.getMaxZoom(),x=r.getNorthWest(),E=r.getSouthEast(),j=this.getSize().subtract(l),I=oe(this.project(E,c),this.project(x,c)).getSize(),U=Z.any3d?this.options.zoomSnap:1,H=j.x/I.x,X=j.y/I.y,He=s?Math.max(H,X):Math.min(H,X);return c=this.getScaleZoom(He,c),U&&(c=Math.round(c/(U/100))*(U/100),c=s?Math.ceil(c/U)*U:Math.floor(c/U)*U),Math.max(f,Math.min(_,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new z(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,s){var l=this._getTopLeftPoint(r,s);return new V(l,l.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,s){var l=this.options.crs;return s=s===void 0?this._zoom:s,l.scale(r)/l.scale(s)},getScaleZoom:function(r,s){var l=this.options.crs;s=s===void 0?this._zoom:s;var c=l.zoom(r*l.scale(s));return isNaN(c)?1/0:c},project:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.latLngToPoint(G(r),s)},unproject:function(r,s){return s=s===void 0?this._zoom:s,this.options.crs.pointToLatLng($(r),s)},layerPointToLatLng:function(r){var s=$(r).add(this.getPixelOrigin());return this.unproject(s)},latLngToLayerPoint:function(r){var s=this.project(G(r))._round();return s._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(G(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ce(r))},distance:function(r,s){return this.options.crs.distance(G(r),G(s))},containerPointToLayerPoint:function(r){return $(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return $(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var s=this.containerPointToLayerPoint($(r));return this.layerPointToLatLng(s)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(G(r)))},mouseEventToContainerPoint:function(r){return Oh(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var s=this._container=Eh(r);if(s){if(s._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");J(s,"scroll",this._onScroll,this),this._containerId=h(s)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&Z.any3d,Y(r,"leaflet-container"+(Z.touch?" leaflet-touch":"")+(Z.retina?" leaflet-retina":"")+(Z.ielt9?" leaflet-oldie":"")+(Z.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var s=di(r,"position");s!=="absolute"&&s!=="relative"&&s!=="fixed"&&s!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Te(this._mapPane,new z(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Y(r.markerPane,"leaflet-zoom-hide"),Y(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,s,l){Te(this._mapPane,new z(0,0));var c=!this._loaded;this._loaded=!0,s=this._limitZoom(s),this.fire("viewprereset");var f=this._zoom!==s;this._moveStart(f,l)._move(r,s)._moveEnd(f),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(r,s){return r&&this.fire("zoomstart"),s||this.fire("movestart"),this},_move:function(r,s,l,c){s===void 0&&(s=this._zoom);var f=this._zoom!==s;return this._zoom=s,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),c?l&&l.pinch&&this.fire("zoom",l):((f||l&&l.pinch)&&this.fire("zoom",l),this.fire("move",l)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return we(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Te(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[h(this._container)]=this;var s=r?he:J;s(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&s(window,"resize",this._onResize,this),Z.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){we(this._resizeRequest),this._resizeRequest=re(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,s){for(var l=[],c,f=s==="mouseout"||s==="mouseover",_=r.target||r.srcElement,x=!1;_;){if(c=this._targets[h(_)],c&&(s==="click"||s==="preclick")&&this._draggableMoved(c)){x=!0;break}if(c&&c.listens(s,!0)&&(f&&!Ja(_,r)||(l.push(c),f))||_===this._container)break;_=_.parentNode}return!l.length&&!x&&!f&&this.listens(s,!0)&&(l=[this]),l},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var s=r.target||r.srcElement;if(!(!this._loaded||s._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(s))){var l=r.type;l==="mousedown"&&Wa(s),this._fireDOMEvent(r,l)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,s,l){if(r.type==="click"){var c=o({},r);c.type="preclick",this._fireDOMEvent(c,c.type,l)}var f=this._findEventTargets(r,s);if(l){for(var _=[],x=0;x<l.length;x++)l[x].listens(s,!0)&&_.push(l[x]);f=_.concat(f)}if(f.length){s==="contextmenu"&&De(r);var E=f[0],j={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var I=E.getLatLng&&(!E._radius||E._radius<=10);j.containerPoint=I?this.latLngToContainerPoint(E.getLatLng()):this.mouseEventToContainerPoint(r),j.layerPoint=this.containerPointToLayerPoint(j.containerPoint),j.latlng=I?E.getLatLng():this.layerPointToLatLng(j.layerPoint)}for(x=0;x<f.length;x++)if(f[x].fire(s,j,!0),j.originalEvent._stopped||f[x].options.bubblingMouseEvents===!1&&C(this._mouseEvents,s)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,s=this._handlers.length;r<s;r++)this._handlers[r].disable()},whenReady:function(r,s){return this._loaded?r.call(s||this,{target:this}):this.on("load",r,s),this},_getMapPanePos:function(){return Bn(this._mapPane)||new z(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,s){var l=r&&s!==void 0?this._getNewPixelOrigin(r,s):this.getPixelOrigin();return l.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,s){var l=this.getSize()._divideBy(2);return this.project(r,s)._subtract(l)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,s,l){var c=this._getNewPixelOrigin(l,s);return this.project(r,s)._subtract(c)},_latLngBoundsToNewLayerBounds:function(r,s,l){var c=this._getNewPixelOrigin(l,s);return oe([this.project(r.getSouthWest(),s)._subtract(c),this.project(r.getNorthWest(),s)._subtract(c),this.project(r.getSouthEast(),s)._subtract(c),this.project(r.getNorthEast(),s)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,s,l){if(!l)return r;var c=this.project(r,s),f=this.getSize().divideBy(2),_=new V(c.subtract(f),c.add(f)),x=this._getBoundsOffset(_,l,s);return Math.abs(x.x)<=1&&Math.abs(x.y)<=1?r:this.unproject(c.add(x),s)},_limitOffset:function(r,s){if(!s)return r;var l=this.getPixelBounds(),c=new V(l.min.add(r),l.max.add(r));return r.add(this._getBoundsOffset(c,s))},_getBoundsOffset:function(r,s,l){var c=oe(this.project(s.getNorthEast(),l),this.project(s.getSouthWest(),l)),f=c.min.subtract(r.min),_=c.max.subtract(r.max),x=this._rebound(f.x,-_.x),E=this._rebound(f.y,-_.y);return new z(x,E)},_rebound:function(r,s){return r+s>0?Math.round(r-s)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(s))},_limitZoom:function(r){var s=this.getMinZoom(),l=this.getMaxZoom(),c=Z.any3d?this.options.zoomSnap:1;return c&&(r=Math.round(r/c)*c),Math.max(s,Math.min(l,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ke(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,s){var l=this._getCenterOffset(r)._trunc();return(s&&s.animate)!==!0&&!this.getSize().contains(l)?!1:(this.panBy(l,s),!0)},_createAnimProxy:function(){var r=this._proxy=le("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(s){var l=Ra,c=this._proxy.style[l];Dn(this._proxy,this.project(s.center,s.zoom),this.getZoomScale(s.zoom,1)),c===this._proxy.style[l]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){_e(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),s=this.getZoom();Dn(this._proxy,this.project(r,s),this.getZoomScale(s,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,s,l){if(this._animatingZoom)return!0;if(l=l||{},!this._zoomAnimated||l.animate===!1||this._nothingToAnimate()||Math.abs(s-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(s),f=this._getCenterOffset(r)._divideBy(1-1/c);return l.animate!==!0&&!this.getSize().contains(f)?!1:(re(function(){this._moveStart(!0,l.noMoveStart||!1)._animateZoom(r,s,!0)},this),!0)},_animateZoom:function(r,s,l,c){this._mapPane&&(l&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=s,Y(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:s,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(u(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ke(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function H_(r,s){return new ie(r,s)}var kt=ft.extend({options:{position:"topright"},initialize:function(r){P(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var s=this._map;return s&&s.removeControl(this),this.options.position=r,s&&s.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var s=this._container=this.onAdd(r),l=this.getPosition(),c=r._controlCorners[l];return Y(s,"leaflet-control"),l.indexOf("bottom")!==-1?c.insertBefore(s,c.firstChild):c.appendChild(s),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(_e(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),_i=function(r){return new kt(r)};ie.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},s="leaflet-",l=this._controlContainer=le("div",s+"control-container",this._container);function c(f,_){var x=s+f+" "+s+_;r[f+_]=le("div",x,l)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)_e(this._controlCorners[r]);_e(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var zh=kt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,s,l,c){return l<c?-1:c<l?1:0}},initialize:function(r,s,l){P(this,l),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in r)this._addLayer(r[c],c);for(c in s)this._addLayer(s[c],c,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var s=0;s<this._layers.length;s++)this._layers[s].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return kt.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,s){return this._addLayer(r,s),this._map?this._update():this},addOverlay:function(r,s){return this._addLayer(r,s,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var s=this._getLayer(h(r));return s&&this._layers.splice(this._layers.indexOf(s),1),this._map?this._update():this},expand:function(){Y(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(Y(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):ke(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ke(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",s=this._container=le("div",r),l=this.options.collapsed;s.setAttribute("aria-haspopup",!0),gi(s),Ga(s);var c=this._section=le("section",r+"-list");l&&(this._map.on("click",this.collapse,this),J(s,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=le("a",r+"-toggle",s);f.href="#",f.title="Layers",f.setAttribute("role","button"),J(f,{keydown:function(_){_.keyCode===13&&this._expandSafely()},click:function(_){De(_),this._expandSafely()}},this),l||this.expand(),this._baseLayersList=le("div",r+"-base",c),this._separator=le("div",r+"-separator",c),this._overlaysList=le("div",r+"-overlays",c),s.appendChild(c)},_getLayer:function(r){for(var s=0;s<this._layers.length;s++)if(this._layers[s]&&h(this._layers[s].layer)===r)return this._layers[s]},_addLayer:function(r,s,l){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:s,overlay:l}),this.options.sortLayers&&this._layers.sort(u(function(c,f){return this.options.sortFunction(c.layer,f.layer,c.name,f.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;jo(this._baseLayersList),jo(this._overlaysList),this._layerControlInputs=[];var r,s,l,c,f=0;for(l=0;l<this._layers.length;l++)c=this._layers[l],this._addItem(c),s=s||c.overlay,r=r||!c.overlay,f+=c.overlay?0:1;return this.options.hideSingleBase&&(r=r&&f>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=s&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var s=this._getLayer(h(r.target)),l=s.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;l&&this._map.fire(l,s)},_createRadioElement:function(r,s){var l='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(s?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=l,c.firstChild},_addItem:function(r){var s=document.createElement("label"),l=this._map.hasLayer(r.layer),c;r.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=l):c=this._createRadioElement("leaflet-base-layers_"+h(this),l),this._layerControlInputs.push(c),c.layerId=h(r.layer),J(c,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+r.name;var _=document.createElement("span");s.appendChild(_),_.appendChild(c),_.appendChild(f);var x=r.overlay?this._overlaysList:this._baseLayersList;return x.appendChild(s),this._checkDisabledLayers(),s},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,s,l,c=[],f=[];this._handlingClick=!0;for(var _=r.length-1;_>=0;_--)s=r[_],l=this._getLayer(s.layerId).layer,s.checked?c.push(l):s.checked||f.push(l);for(_=0;_<f.length;_++)this._map.hasLayer(f[_])&&this._map.removeLayer(f[_]);for(_=0;_<c.length;_++)this._map.hasLayer(c[_])||this._map.addLayer(c[_]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,s,l,c=this._map.getZoom(),f=r.length-1;f>=0;f--)s=r[f],l=this._getLayer(s.layerId).layer,s.disabled=l.options.minZoom!==void 0&&c<l.options.minZoom||l.options.maxZoom!==void 0&&c>l.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,J(r,"click",De),this.expand();var s=this;setTimeout(function(){he(r,"click",De),s._preventClick=!1})}}),V_=function(r,s,l){return new zh(r,s,l)},Qa=kt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var s="leaflet-control-zoom",l=le("div",s+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,s+"-in",l,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,s+"-out",l,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),l},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,s,l,c,f){var _=le("a",l,c);return _.innerHTML=r,_.href="#",_.title=s,_.setAttribute("role","button"),_.setAttribute("aria-label",s),gi(_),J(_,"click",Un),J(_,"click",f,this),J(_,"click",this._refocusOnMap,this),_},_updateDisabled:function(){var r=this._map,s="leaflet-disabled";ke(this._zoomInButton,s),ke(this._zoomOutButton,s),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(Y(this._zoomOutButton,s),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(Y(this._zoomInButton,s),this._zoomInButton.setAttribute("aria-disabled","true"))}});ie.mergeOptions({zoomControl:!0}),ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Qa,this.addControl(this.zoomControl))});var K_=function(r){return new Qa(r)},Ih=kt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var s="leaflet-control-scale",l=le("div",s),c=this.options;return this._addScales(c,s+"-line",l),r.on(c.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),l},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,s,l){r.metric&&(this._mScale=le("div",s,l)),r.imperial&&(this._iScale=le("div",s,l))},_update:function(){var r=this._map,s=r.getSize().y/2,l=r.distance(r.containerPointToLatLng([0,s]),r.containerPointToLatLng([this.options.maxWidth,s]));this._updateScales(l)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var s=this._getRoundNum(r),l=s<1e3?s+" m":s/1e3+" km";this._updateScale(this._mScale,l,s/r)},_updateImperial:function(r){var s=r*3.2808399,l,c,f;s>5280?(l=s/5280,c=this._getRoundNum(l),this._updateScale(this._iScale,c+" mi",c/l)):(f=this._getRoundNum(s),this._updateScale(this._iScale,f+" ft",f/s))},_updateScale:function(r,s,l){r.style.width=Math.round(this.options.maxWidth*l)+"px",r.innerHTML=s},_getRoundNum:function(r){var s=Math.pow(10,(Math.floor(r)+"").length-1),l=r/s;return l=l>=10?10:l>=5?5:l>=3?3:l>=2?2:1,s*l}}),G_=function(r){return new Ih(r)},J_='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Ya=kt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(Z.inlineSvg?J_+" ":"")+"Leaflet</a>"},initialize:function(r){P(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=le("div","leaflet-control-attribution"),gi(this._container);for(var s in r._layers)r._layers[s].getAttribution&&this.addAttribution(r._layers[s].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var s in this._attributions)this._attributions[s]&&r.push(s);var l=[];this.options.prefix&&l.push(this.options.prefix),r.length&&l.push(r.join(", ")),this._container.innerHTML=l.join(' <span aria-hidden="true">|</span> ')}}});ie.mergeOptions({attributionControl:!0}),ie.addInitHook(function(){this.options.attributionControl&&new Ya().addTo(this)});var Q_=function(r){return new Ya(r)};kt.Layers=zh,kt.Zoom=Qa,kt.Scale=Ih,kt.Attribution=Ya,_i.layers=V_,_i.zoom=K_,_i.scale=G_,_i.attribution=Q_;var At=ft.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});At.addTo=function(r,s){return r.addHandler(s,this),this};var Y_={Events:Re},Ah=Z.touch?"touchstart mousedown":"mousedown",un=Wt.extend({options:{clickTolerance:3},initialize:function(r,s,l,c){P(this,c),this._element=r,this._dragStartTarget=s||r,this._preventOutline=l},enable:function(){this._enabled||(J(this._dragStartTarget,Ah,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(un._dragging===this&&this.finishDrag(!0),he(this._dragStartTarget,Ah,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!Da(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){un._dragging===this&&this.finishDrag();return}if(!(un._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(un._dragging=this,this._preventOutline&&Wa(this._element),Ua(),fi(),!this._moving)){this.fire("down");var s=r.touches?r.touches[0]:r,l=Lh(this._element);this._startPoint=new z(s.clientX,s.clientY),this._startPos=Bn(this._element),this._parentScale=qa(l);var c=r.type==="mousedown";J(document,c?"mousemove":"touchmove",this._onMove,this),J(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var s=r.touches&&r.touches.length===1?r.touches[0]:r,l=new z(s.clientX,s.clientY)._subtract(this._startPoint);!l.x&&!l.y||Math.abs(l.x)+Math.abs(l.y)<this.options.clickTolerance||(l.x/=this._parentScale.x,l.y/=this._parentScale.y,De(r),this._moved||(this.fire("dragstart"),this._moved=!0,Y(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Y(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(l),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Te(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){ke(document.body,"leaflet-dragging"),this._lastTarget&&(ke(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),he(document,"mousemove touchmove",this._onMove,this),he(document,"mouseup touchend touchcancel",this._onUp,this),Fa(),pi();var s=this._moved&&this._moving;this._moving=!1,un._dragging=!1,s&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function Rh(r,s,l){var c,f=[1,4,2,8],_,x,E,j,I,U,H,X;for(_=0,U=r.length;_<U;_++)r[_]._code=Fn(r[_],s);for(E=0;E<4;E++){for(H=f[E],c=[],_=0,U=r.length,x=U-1;_<U;x=_++)j=r[_],I=r[x],j._code&H?I._code&H||(X=Io(I,j,H,s,l),X._code=Fn(X,s),c.push(X)):(I._code&H&&(X=Io(I,j,H,s,l),X._code=Fn(X,s),c.push(X)),c.push(j));r=c}return r}function Dh(r,s){var l,c,f,_,x,E,j,I,U;if(!r||r.length===0)throw new Error("latlngs not passed");mt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var H=G([0,0]),X=ce(r),He=X.getNorthWest().distanceTo(X.getSouthWest())*X.getNorthEast().distanceTo(X.getNorthWest());He<1700&&(H=Xa(r));var ze=r.length,gt=[];for(l=0;l<ze;l++){var Xe=G(r[l]);gt.push(s.project(G([Xe.lat-H.lat,Xe.lng-H.lng])))}for(E=j=I=0,l=0,c=ze-1;l<ze;c=l++)f=gt[l],_=gt[c],x=f.y*_.x-_.y*f.x,j+=(f.x+_.x)*x,I+=(f.y+_.y)*x,E+=x*3;E===0?U=gt[0]:U=[j/E,I/E];var vr=s.unproject($(U));return G([vr.lat+H.lat,vr.lng+H.lng])}function Xa(r){for(var s=0,l=0,c=0,f=0;f<r.length;f++){var _=G(r[f]);s+=_.lat,l+=_.lng,c++}return G([s/c,l/c])}var X_={__proto__:null,clipPolygon:Rh,polygonCenter:Dh,centroid:Xa};function Bh(r,s){if(!s||!r.length)return r.slice();var l=s*s;return r=nv(r,l),r=tv(r,l),r}function $h(r,s,l){return Math.sqrt(vi(r,s,l,!0))}function ev(r,s,l){return vi(r,s,l)}function tv(r,s){var l=r.length,c=typeof Uint8Array<"u"?Uint8Array:Array,f=new c(l);f[0]=f[l-1]=1,el(r,f,s,0,l-1);var _,x=[];for(_=0;_<l;_++)f[_]&&x.push(r[_]);return x}function el(r,s,l,c,f){var _=0,x,E,j;for(E=c+1;E<=f-1;E++)j=vi(r[E],r[c],r[f],!0),j>_&&(x=E,_=j);_>l&&(s[x]=1,el(r,s,l,c,x),el(r,s,l,x,f))}function nv(r,s){for(var l=[r[0]],c=1,f=0,_=r.length;c<_;c++)rv(r[c],r[f])>s&&(l.push(r[c]),f=c);return f<_-1&&l.push(r[_-1]),l}var Uh;function Fh(r,s,l,c,f){var _=c?Uh:Fn(r,l),x=Fn(s,l),E,j,I;for(Uh=x;;){if(!(_|x))return[r,s];if(_&x)return!1;E=_||x,j=Io(r,s,E,l,f),I=Fn(j,l),E===_?(r=j,_=I):(s=j,x=I)}}function Io(r,s,l,c,f){var _=s.x-r.x,x=s.y-r.y,E=c.min,j=c.max,I,U;return l&8?(I=r.x+_*(j.y-r.y)/x,U=j.y):l&4?(I=r.x+_*(E.y-r.y)/x,U=E.y):l&2?(I=j.x,U=r.y+x*(j.x-r.x)/_):l&1&&(I=E.x,U=r.y+x*(E.x-r.x)/_),new z(I,U,f)}function Fn(r,s){var l=0;return r.x<s.min.x?l|=1:r.x>s.max.x&&(l|=2),r.y<s.min.y?l|=4:r.y>s.max.y&&(l|=8),l}function rv(r,s){var l=s.x-r.x,c=s.y-r.y;return l*l+c*c}function vi(r,s,l,c){var f=s.x,_=s.y,x=l.x-f,E=l.y-_,j=x*x+E*E,I;return j>0&&(I=((r.x-f)*x+(r.y-_)*E)/j,I>1?(f=l.x,_=l.y):I>0&&(f+=x*I,_+=E*I)),x=r.x-f,E=r.y-_,c?x*x+E*E:new z(f,_)}function mt(r){return!b(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Zh(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),mt(r)}function Wh(r,s){var l,c,f,_,x,E,j,I;if(!r||r.length===0)throw new Error("latlngs not passed");mt(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var U=G([0,0]),H=ce(r),X=H.getNorthWest().distanceTo(H.getSouthWest())*H.getNorthEast().distanceTo(H.getNorthWest());X<1700&&(U=Xa(r));var He=r.length,ze=[];for(l=0;l<He;l++){var gt=G(r[l]);ze.push(s.project(G([gt.lat-U.lat,gt.lng-U.lng])))}for(l=0,c=0;l<He-1;l++)c+=ze[l].distanceTo(ze[l+1])/2;if(c===0)I=ze[0];else for(l=0,_=0;l<He-1;l++)if(x=ze[l],E=ze[l+1],f=x.distanceTo(E),_+=f,_>c){j=(_-c)/f,I=[E.x-j*(E.x-x.x),E.y-j*(E.y-x.y)];break}var Xe=s.unproject($(I));return G([Xe.lat+U.lat,Xe.lng+U.lng])}var iv={__proto__:null,simplify:Bh,pointToSegmentDistance:$h,closestPointOnSegment:ev,clipSegment:Fh,_getEdgeIntersection:Io,_getBitCode:Fn,_sqClosestPointOnSegment:vi,isFlat:mt,_flat:Zh,polylineCenter:Wh},tl={project:function(r){return new z(r.lng,r.lat)},unproject:function(r){return new ae(r.y,r.x)},bounds:new V([-180,-90],[180,90])},nl={R:6378137,R_MINOR:6356752314245179e-9,bounds:new V([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var s=Math.PI/180,l=this.R,c=r.lat*s,f=this.R_MINOR/l,_=Math.sqrt(1-f*f),x=_*Math.sin(c),E=Math.tan(Math.PI/4-c/2)/Math.pow((1-x)/(1+x),_/2);return c=-l*Math.log(Math.max(E,1e-10)),new z(r.lng*s*l,c)},unproject:function(r){for(var s=180/Math.PI,l=this.R,c=this.R_MINOR/l,f=Math.sqrt(1-c*c),_=Math.exp(-r.y/l),x=Math.PI/2-2*Math.atan(_),E=0,j=.1,I;E<15&&Math.abs(j)>1e-7;E++)I=f*Math.sin(x),I=Math.pow((1-I)/(1+I),f/2),j=Math.PI/2-2*Math.atan(_*I)-x,x+=j;return new ae(x*s,r.x*s/l)}},ov={__proto__:null,LonLat:tl,Mercator:nl,SphericalMercator:La},sv=o({},ln,{code:"EPSG:3395",projection:nl,transformation:function(){var r=.5/(Math.PI*nl.R);return ui(r,.5,-r,.5)}()}),qh=o({},ln,{code:"EPSG:4326",projection:tl,transformation:ui(1/180,1,-1/180,.5)}),av=o({},Ye,{projection:tl,transformation:ui(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,s){var l=s.lng-r.lng,c=s.lat-r.lat;return Math.sqrt(l*l+c*c)},infinite:!0});Ye.Earth=ln,Ye.EPSG3395=sv,Ye.EPSG3857=ja,Ye.EPSG900913=f_,Ye.EPSG4326=qh,Ye.Simple=av;var St=Wt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[h(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[h(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var s=r.target;if(s.hasLayer(this)){if(this._map=s,this._zoomAnimated=s._zoomAnimated,this.getEvents){var l=this.getEvents();s.on(l,this),this.once("remove",function(){s.off(l,this)},this)}this.onAdd(s),this.fire("add"),s.fire("layeradd",{layer:this})}}});ie.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var s=h(r);return this._layers[s]?this:(this._layers[s]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var s=h(r);return this._layers[s]?(this._loaded&&r.onRemove(this),delete this._layers[s],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return h(r)in this._layers},eachLayer:function(r,s){for(var l in this._layers)r.call(s,this._layers[l]);return this},_addLayers:function(r){r=r?b(r)?r:[r]:[];for(var s=0,l=r.length;s<l;s++)this.addLayer(r[s])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[h(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var s=h(r);this._zoomBoundLayers[s]&&(delete this._zoomBoundLayers[s],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,s=-1/0,l=this._getZoomSpan();for(var c in this._zoomBoundLayers){var f=this._zoomBoundLayers[c].options;r=f.minZoom===void 0?r:Math.min(r,f.minZoom),s=f.maxZoom===void 0?s:Math.max(s,f.maxZoom)}this._layersMaxZoom=s===-1/0?void 0:s,this._layersMinZoom=r===1/0?void 0:r,l!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var fr=St.extend({initialize:function(r,s){P(this,s),this._layers={};var l,c;if(r)for(l=0,c=r.length;l<c;l++)this.addLayer(r[l])},addLayer:function(r){var s=this.getLayerId(r);return this._layers[s]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var s=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[s]&&this._map.removeLayer(this._layers[s]),delete this._layers[s],this},hasLayer:function(r){var s=typeof r=="number"?r:this.getLayerId(r);return s in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var s=Array.prototype.slice.call(arguments,1),l,c;for(l in this._layers)c=this._layers[l],c[r]&&c[r].apply(c,s);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,s){for(var l in this._layers)r.call(s,this._layers[l]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return h(r)}}),lv=function(r,s){return new fr(r,s)},qt=fr.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),fr.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),fr.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new Ce;for(var s in this._layers){var l=this._layers[s];r.extend(l.getBounds?l.getBounds():l.getLatLng())}return r}}),uv=function(r,s){return new qt(r,s)},pr=ft.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){P(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,s){var l=this._getIconUrl(r);if(!l){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(l,s&&s.tagName==="IMG"?s:null);return this._setIconStyles(c,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(r,s){var l=this.options,c=l[s+"Size"];typeof c=="number"&&(c=[c,c]);var f=$(c),_=$(s==="shadow"&&l.shadowAnchor||l.iconAnchor||f&&f.divideBy(2,!0));r.className="leaflet-marker-"+s+" "+(l.className||""),_&&(r.style.marginLeft=-_.x+"px",r.style.marginTop=-_.y+"px"),f&&(r.style.width=f.x+"px",r.style.height=f.y+"px")},_createImg:function(r,s){return s=s||document.createElement("img"),s.src=r,s},_getIconUrl:function(r){return Z.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function cv(r){return new pr(r)}var yi=pr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof yi.imagePath!="string"&&(yi.imagePath=this._detectIconPath()),(this.options.imagePath||yi.imagePath)+pr.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var s=function(l,c,f){var _=c.exec(l);return _&&_[f]};return r=s(r,/^url\((['"])?(.+)\1\)$/,2),r&&s(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=le("div","leaflet-default-icon-path",document.body),s=di(r,"background-image")||di(r,"backgroundImage");if(document.body.removeChild(r),s=this._stripUrl(s),s)return s;var l=document.querySelector('link[href$="leaflet.css"]');return l?l.href.substring(0,l.href.length-11-1):""}}),Hh=At.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new un(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Y(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ke(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var s=this._marker,l=s._map,c=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,_=Bn(s._icon),x=l.getPixelBounds(),E=l.getPixelOrigin(),j=oe(x.min._subtract(E).add(f),x.max._subtract(E).subtract(f));if(!j.contains(_)){var I=$((Math.max(j.max.x,_.x)-j.max.x)/(x.max.x-j.max.x)-(Math.min(j.min.x,_.x)-j.min.x)/(x.min.x-j.min.x),(Math.max(j.max.y,_.y)-j.max.y)/(x.max.y-j.max.y)-(Math.min(j.min.y,_.y)-j.min.y)/(x.min.y-j.min.y)).multiplyBy(c);l.panBy(I,{animate:!1}),this._draggable._newPos._add(I),this._draggable._startPos._add(I),Te(s._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=re(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(we(this._panRequest),this._panRequest=re(this._adjustPan.bind(this,r)))},_onDrag:function(r){var s=this._marker,l=s._shadow,c=Bn(s._icon),f=s._map.layerPointToLatLng(c);l&&Te(l,c),s._latlng=f,r.latlng=f,r.oldLatLng=this._oldLatLng,s.fire("move",r).fire("drag",r)},_onDragEnd:function(r){we(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),Ao=St.extend({options:{icon:new yi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,s){P(this,s),this._latlng=G(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var s=this._latlng;return this._latlng=G(r),this.update(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,s="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),l=r.icon.createIcon(this._icon),c=!1;l!==this._icon&&(this._icon&&this._removeIcon(),c=!0,r.title&&(l.title=r.title),l.tagName==="IMG"&&(l.alt=r.alt||"")),Y(l,s),r.keyboard&&(l.tabIndex="0",l.setAttribute("role","button")),this._icon=l,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&J(l,"focus",this._panOnFocus,this);var f=r.icon.createShadow(this._shadow),_=!1;f!==this._shadow&&(this._removeShadow(),_=!0),f&&(Y(f,s),f.alt=""),this._shadow=f,r.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&_&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&he(this._icon,"focus",this._panOnFocus,this),_e(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&_e(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Te(this._icon,r),this._shadow&&Te(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(s)},_initInteraction:function(){if(this.options.interactive&&(Y(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Hh)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Hh(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&pt(this._icon,r),this._shadow&&pt(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var s=this.options.icon.options,l=s.iconSize?$(s.iconSize):$(0,0),c=s.iconAnchor?$(s.iconAnchor):$(0,0);r.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:l.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function hv(r,s){return new Ao(r,s)}var cn=St.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return P(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ro=cn.extend({options:{fill:!0,radius:10},initialize:function(r,s){P(this,s),this._latlng=G(r),this._radius=this.options.radius},setLatLng:function(r){var s=this._latlng;return this._latlng=G(r),this.redraw(),this.fire("move",{oldLatLng:s,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var s=r&&r.radius||this._radius;return cn.prototype.setStyle.call(this,r),this.setRadius(s),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,s=this._radiusY||r,l=this._clickTolerance(),c=[r+l,s+l];this._pxBounds=new V(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function dv(r,s){return new Ro(r,s)}var rl=Ro.extend({initialize:function(r,s,l){if(typeof s=="number"&&(s=o({},l,{radius:s})),P(this,s),this._latlng=G(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:cn.prototype.setStyle,_project:function(){var r=this._latlng.lng,s=this._latlng.lat,l=this._map,c=l.options.crs;if(c.distance===ln.distance){var f=Math.PI/180,_=this._mRadius/ln.R/f,x=l.project([s+_,r]),E=l.project([s-_,r]),j=x.add(E).divideBy(2),I=l.unproject(j).lat,U=Math.acos((Math.cos(_*f)-Math.sin(s*f)*Math.sin(I*f))/(Math.cos(s*f)*Math.cos(I*f)))/f;(isNaN(U)||U===0)&&(U=_/Math.cos(Math.PI/180*s)),this._point=j.subtract(l.getPixelOrigin()),this._radius=isNaN(U)?0:j.x-l.project([I,r-U]).x,this._radiusY=j.y-x.y}else{var H=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=l.latLngToLayerPoint(this._latlng),this._radius=this._point.x-l.latLngToLayerPoint(H).x}this._updateBounds()}});function fv(r,s,l){return new rl(r,s,l)}var Ht=cn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,s){P(this,s),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var s=1/0,l=null,c=vi,f,_,x=0,E=this._parts.length;x<E;x++)for(var j=this._parts[x],I=1,U=j.length;I<U;I++){f=j[I-1],_=j[I];var H=c(r,f,_,!0);H<s&&(s=H,l=c(r,f,_))}return l&&(l.distance=Math.sqrt(s)),l},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Wh(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,s){return s=s||this._defaultShape(),r=G(r),s.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new Ce,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return mt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var s=[],l=mt(r),c=0,f=r.length;c<f;c++)l?(s[c]=G(r[c]),this._bounds.extend(s[c])):s[c]=this._convertLatLngs(r[c]);return s},_project:function(){var r=new V;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),s=new z(r,r);this._rawPxBounds&&(this._pxBounds=new V([this._rawPxBounds.min.subtract(s),this._rawPxBounds.max.add(s)]))},_projectLatlngs:function(r,s,l){var c=r[0]instanceof ae,f=r.length,_,x;if(c){for(x=[],_=0;_<f;_++)x[_]=this._map.latLngToLayerPoint(r[_]),l.extend(x[_]);s.push(x)}else for(_=0;_<f;_++)this._projectLatlngs(r[_],s,l)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var s=this._parts,l,c,f,_,x,E,j;for(l=0,f=0,_=this._rings.length;l<_;l++)for(j=this._rings[l],c=0,x=j.length;c<x-1;c++)E=Fh(j[c],j[c+1],r,c,!0),E&&(s[f]=s[f]||[],s[f].push(E[0]),(E[1]!==j[c+1]||c===x-2)&&(s[f].push(E[1]),f++))}},_simplifyPoints:function(){for(var r=this._parts,s=this.options.smoothFactor,l=0,c=r.length;l<c;l++)r[l]=Bh(r[l],s)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,s){var l,c,f,_,x,E,j=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(l=0,_=this._parts.length;l<_;l++)for(E=this._parts[l],c=0,x=E.length,f=x-1;c<x;f=c++)if(!(!s&&c===0)&&$h(r,E[f],E[c])<=j)return!0;return!1}});function pv(r,s){return new Ht(r,s)}Ht._flat=Zh;var mr=Ht.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Dh(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var s=Ht.prototype._convertLatLngs.call(this,r),l=s.length;return l>=2&&s[0]instanceof ae&&s[0].equals(s[l-1])&&s.pop(),s},_setLatLngs:function(r){Ht.prototype._setLatLngs.call(this,r),mt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return mt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,s=this.options.weight,l=new z(s,s);if(r=new V(r.min.subtract(l),r.max.add(l)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,f=this._rings.length,_;c<f;c++)_=Rh(this._rings[c],r,!0),_.length&&this._parts.push(_)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var s=!1,l,c,f,_,x,E,j,I;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(_=0,j=this._parts.length;_<j;_++)for(l=this._parts[_],x=0,I=l.length,E=I-1;x<I;E=x++)c=l[x],f=l[E],c.y>r.y!=f.y>r.y&&r.x<(f.x-c.x)*(r.y-c.y)/(f.y-c.y)+c.x&&(s=!s);return s||Ht.prototype._containsPoint.call(this,r,!0)}});function mv(r,s){return new mr(r,s)}var Vt=qt.extend({initialize:function(r,s){P(this,s),this._layers={},r&&this.addData(r)},addData:function(r){var s=b(r)?r:r.features,l,c,f;if(s){for(l=0,c=s.length;l<c;l++)f=s[l],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var _=this.options;if(_.filter&&!_.filter(r))return this;var x=Do(r,_);return x?(x.feature=Uo(r),x.defaultOptions=x.options,this.resetStyle(x),_.onEachFeature&&_.onEachFeature(r,x),this.addLayer(x)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=o({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(s){this._setLayerStyle(s,r)},this)},_setLayerStyle:function(r,s){r.setStyle&&(typeof s=="function"&&(s=s(r.feature)),r.setStyle(s))}});function Do(r,s){var l=r.type==="Feature"?r.geometry:r,c=l?l.coordinates:null,f=[],_=s&&s.pointToLayer,x=s&&s.coordsToLatLng||il,E,j,I,U;if(!c&&!l)return null;switch(l.type){case"Point":return E=x(c),Vh(_,r,E,s);case"MultiPoint":for(I=0,U=c.length;I<U;I++)E=x(c[I]),f.push(Vh(_,r,E,s));return new qt(f);case"LineString":case"MultiLineString":return j=Bo(c,l.type==="LineString"?0:1,x),new Ht(j,s);case"Polygon":case"MultiPolygon":return j=Bo(c,l.type==="Polygon"?1:2,x),new mr(j,s);case"GeometryCollection":for(I=0,U=l.geometries.length;I<U;I++){var H=Do({geometry:l.geometries[I],type:"Feature",properties:r.properties},s);H&&f.push(H)}return new qt(f);case"FeatureCollection":for(I=0,U=l.features.length;I<U;I++){var X=Do(l.features[I],s);X&&f.push(X)}return new qt(f);default:throw new Error("Invalid GeoJSON object.")}}function Vh(r,s,l,c){return r?r(s,l):new Ao(l,c&&c.markersInheritOptions&&c)}function il(r){return new ae(r[1],r[0],r[2])}function Bo(r,s,l){for(var c=[],f=0,_=r.length,x;f<_;f++)x=s?Bo(r[f],s-1,l):(l||il)(r[f]),c.push(x);return c}function ol(r,s){return r=G(r),r.alt!==void 0?[v(r.lng,s),v(r.lat,s),v(r.alt,s)]:[v(r.lng,s),v(r.lat,s)]}function $o(r,s,l,c){for(var f=[],_=0,x=r.length;_<x;_++)f.push(s?$o(r[_],mt(r[_])?0:s-1,l,c):ol(r[_],c));return!s&&l&&f.length>0&&f.push(f[0].slice()),f}function gr(r,s){return r.feature?o({},r.feature,{geometry:s}):Uo(s)}function Uo(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var sl={toGeoJSON:function(r){return gr(this,{type:"Point",coordinates:ol(this.getLatLng(),r)})}};Ao.include(sl),rl.include(sl),Ro.include(sl),Ht.include({toGeoJSON:function(r){var s=!mt(this._latlngs),l=$o(this._latlngs,s?1:0,!1,r);return gr(this,{type:(s?"Multi":"")+"LineString",coordinates:l})}}),mr.include({toGeoJSON:function(r){var s=!mt(this._latlngs),l=s&&!mt(this._latlngs[0]),c=$o(this._latlngs,l?2:s?1:0,!0,r);return s||(c=[c]),gr(this,{type:(l?"Multi":"")+"Polygon",coordinates:c})}}),fr.include({toMultiPoint:function(r){var s=[];return this.eachLayer(function(l){s.push(l.toGeoJSON(r).geometry.coordinates)}),gr(this,{type:"MultiPoint",coordinates:s})},toGeoJSON:function(r){var s=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(s==="MultiPoint")return this.toMultiPoint(r);var l=s==="GeometryCollection",c=[];return this.eachLayer(function(f){if(f.toGeoJSON){var _=f.toGeoJSON(r);if(l)c.push(_.geometry);else{var x=Uo(_);x.type==="FeatureCollection"?c.push.apply(c,x.features):c.push(x)}}}),l?gr(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Kh(r,s){return new Vt(r,s)}var gv=Kh,Fo=St.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,s,l){this._url=r,this._bounds=ce(s),P(this,l)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Y(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){_e(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&hr(this._image),this},bringToBack:function(){return this._map&&dr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ce(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",s=this._image=r?this._url:le("img");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=g,s.onmousemove=g,s.onload=u(this.fire,this,"load"),s.onerror=u(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(s.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=s.src;return}s.src=this._url,s.alt=this.options.alt},_animateZoom:function(r){var s=this._map.getZoomScale(r.zoom),l=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Dn(this._image,l,s)},_reset:function(){var r=this._image,s=new V(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),l=s.getSize();Te(r,s.min),r.style.width=l.x+"px",r.style.height=l.y+"px"},_updateOpacity:function(){pt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),_v=function(r,s,l){return new Fo(r,s,l)},Gh=Fo.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",s=this._image=r?this._url:le("video");if(Y(s,"leaflet-image-layer"),this._zoomAnimated&&Y(s,"leaflet-zoom-animated"),this.options.className&&Y(s,this.options.className),s.onselectstart=g,s.onmousemove=g,s.onloadeddata=u(this.fire,this,"load"),r){for(var l=s.getElementsByTagName("source"),c=[],f=0;f<l.length;f++)c.push(l[f].src);this._url=l.length>0?c:[s.src];return}b(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(s.style,"objectFit")&&(s.style.objectFit="fill"),s.autoplay=!!this.options.autoplay,s.loop=!!this.options.loop,s.muted=!!this.options.muted,s.playsInline=!!this.options.playsInline;for(var _=0;_<this._url.length;_++){var x=le("source");x.src=this._url[_],s.appendChild(x)}}});function vv(r,s,l){return new Gh(r,s,l)}var Jh=Fo.extend({_initImage:function(){var r=this._image=this._url;Y(r,"leaflet-image-layer"),this._zoomAnimated&&Y(r,"leaflet-zoom-animated"),this.options.className&&Y(r,this.options.className),r.onselectstart=g,r.onmousemove=g}});function yv(r,s,l){return new Jh(r,s,l)}var Rt=St.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,s){r&&(r instanceof ae||b(r))?(this._latlng=G(r),P(this,s)):(P(this,r),this._source=s),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&pt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&pt(this._container,1),this.bringToFront(),this.options.interactive&&(Y(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(pt(this._container,0),this._removeTimeout=setTimeout(u(_e,void 0,this._container),200)):_e(this._container),this.options.interactive&&(ke(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=G(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&hr(this._container),this},bringToBack:function(){return this._map&&dr(this._container),this},_prepareOpen:function(r){var s=this._source;if(!s._map)return!1;if(s instanceof qt){s=null;var l=this._source._layers;for(var c in l)if(l[c]._map){s=l[c];break}if(!s)return!1;this._source=s}if(!r)if(s.getCenter)r=s.getCenter();else if(s.getLatLng)r=s.getLatLng();else if(s.getBounds)r=s.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,s=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof s=="string")r.innerHTML=s;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(s)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),s=$(this.options.offset),l=this._getAnchor();this._zoomAnimated?Te(this._container,r.add(l)):s=s.add(r).add(l);var c=this._containerBottom=-s.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+s.x;this._container.style.bottom=c+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});ie.include({_initOverlay:function(r,s,l,c){var f=s;return f instanceof r||(f=new r(c).setContent(s)),l&&f.setLatLng(l),f}}),St.include({_initOverlay:function(r,s,l,c){var f=l;return f instanceof r?(P(f,c),f._source=this):(f=s&&!c?s:new r(c,this),f.setContent(l)),f}});var Zo=Rt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,Rt.prototype.openOn.call(this,r)},onAdd:function(r){Rt.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof cn||this._source.on("preclick",$n))},onRemove:function(r){Rt.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof cn||this._source.off("preclick",$n))},getEvents:function(){var r=Rt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",s=this._container=le("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),l=this._wrapper=le("div",r+"-content-wrapper",s);if(this._contentNode=le("div",r+"-content",l),gi(s),Ga(this._contentNode),J(s,"contextmenu",$n),this._tipContainer=le("div",r+"-tip-container",s),this._tip=le("div",r+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=le("a",r+"-close-button",s);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',J(c,"click",function(f){De(f),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,s=r.style;s.width="",s.whiteSpace="nowrap";var l=r.offsetWidth;l=Math.min(l,this.options.maxWidth),l=Math.max(l,this.options.minWidth),s.width=l+1+"px",s.whiteSpace="",s.height="";var c=r.offsetHeight,f=this.options.maxHeight,_="leaflet-popup-scrolled";f&&c>f?(s.height=f+"px",Y(r,_)):ke(r,_),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),l=this._getAnchor();Te(this._container,s.add(l))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,s=parseInt(di(this._container,"marginBottom"),10)||0,l=this._container.offsetHeight+s,c=this._containerWidth,f=new z(this._containerLeft,-l-this._containerBottom);f._add(Bn(this._container));var _=r.layerPointToContainerPoint(f),x=$(this.options.autoPanPadding),E=$(this.options.autoPanPaddingTopLeft||x),j=$(this.options.autoPanPaddingBottomRight||x),I=r.getSize(),U=0,H=0;_.x+c+j.x>I.x&&(U=_.x+c-I.x+j.x),_.x-U-E.x<0&&(U=_.x-E.x),_.y+l+j.y>I.y&&(H=_.y+l-I.y+j.y),_.y-H-E.y<0&&(H=_.y-E.y),(U||H)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([U,H]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),bv=function(r,s){return new Zo(r,s)};ie.mergeOptions({closePopupOnClick:!0}),ie.include({openPopup:function(r,s,l){return this._initOverlay(Zo,r,s,l).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),St.include({bindPopup:function(r,s){return this._popup=this._initOverlay(Zo,this._popup,r,s),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof qt||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){Un(r);var s=r.layer||r.target;if(this._popup._source===s&&!(s instanceof cn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=s,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var Wo=Rt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){Rt.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){Rt.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=Rt.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",s=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=le("div",s),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var s,l,c=this._map,f=this._container,_=c.latLngToContainerPoint(c.getCenter()),x=c.layerPointToContainerPoint(r),E=this.options.direction,j=f.offsetWidth,I=f.offsetHeight,U=$(this.options.offset),H=this._getAnchor();E==="top"?(s=j/2,l=I):E==="bottom"?(s=j/2,l=0):E==="center"?(s=j/2,l=I/2):E==="right"?(s=0,l=I/2):E==="left"?(s=j,l=I/2):x.x<_.x?(E="right",s=0,l=I/2):(E="left",s=j+(U.x+H.x)*2,l=I/2),r=r.subtract($(s,l,!0)).add(U).add(H),ke(f,"leaflet-tooltip-right"),ke(f,"leaflet-tooltip-left"),ke(f,"leaflet-tooltip-top"),ke(f,"leaflet-tooltip-bottom"),Y(f,"leaflet-tooltip-"+E),Te(f,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&pt(this._container,r)},_animateZoom:function(r){var s=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(s)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),wv=function(r,s){return new Wo(r,s)};ie.include({openTooltip:function(r,s,l){return this._initOverlay(Wo,r,s,l).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),St.include({bindTooltip:function(r,s){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Wo,this._tooltip,r,s),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var s=r?"off":"on",l={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?l.add=this._openTooltip:(l.mouseover=this._openTooltip,l.mouseout=this.closeTooltip,l.click=this._openTooltip,this._map?this._addFocusListeners():l.add=this._addFocusListeners),this._tooltip.options.sticky&&(l.mousemove=this._moveTooltip),this[s](l),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof qt||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&(J(s,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),J(s,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var s=typeof r.getElement=="function"&&r.getElement();s&&s.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var s=this;this._map.once("moveend",function(){s._openOnceFlag=!1,s._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var s=r.latlng,l,c;this._tooltip.options.sticky&&r.originalEvent&&(l=this._map.mouseEventToContainerPoint(r.originalEvent),c=this._map.containerPointToLayerPoint(l),s=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(s)}});var Qh=pr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var s=r&&r.tagName==="DIV"?r:document.createElement("div"),l=this.options;if(l.html instanceof Element?(jo(s),s.appendChild(l.html)):s.innerHTML=l.html!==!1?l.html:"",l.bgPos){var c=$(l.bgPos);s.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(s,"icon"),s},createShadow:function(){return null}});function xv(r){return new Qh(r)}pr.Default=yi;var bi=St.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Z.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){P(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),_e(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(hr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(dr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof z?r:new z(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var s=this.getPane().children,l=-r(-1/0,1/0),c=0,f=s.length,_;c<f;c++)_=s[c].style.zIndex,s[c]!==this._container&&_&&(l=r(l,+_));isFinite(l)&&(this.options.zIndex=l+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!Z.ielt9){pt(this._container,this.options.opacity);var r=+new Date,s=!1,l=!1;for(var c in this._tiles){var f=this._tiles[c];if(!(!f.current||!f.loaded)){var _=Math.min(1,(r-f.loaded)/200);pt(f.el,_),_<1?s=!0:(f.active?l=!0:this._onOpaqueTile(f),f.active=!0)}}l&&!this._noPrune&&this._pruneTiles(),s&&(we(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this))}},_onOpaqueTile:g,_initContainer:function(){this._container||(this._container=le("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,s=this.options.maxZoom;if(r!==void 0){for(var l in this._levels)l=Number(l),this._levels[l].el.children.length||l===r?(this._levels[l].el.style.zIndex=s-Math.abs(r-l),this._onUpdateLevel(l)):(_e(this._levels[l].el),this._removeTilesAtZoom(l),this._onRemoveLevel(l),delete this._levels[l]);var c=this._levels[r],f=this._map;return c||(c=this._levels[r]={},c.el=le("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=s,c.origin=f.project(f.unproject(f.getPixelOrigin()),r).round(),c.zoom=r,this._setZoomTransform(c,f.getCenter(),f.getZoom()),g(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:g,_onRemoveLevel:g,_onCreateLevel:g,_pruneTiles:function(){if(this._map){var r,s,l=this._map.getZoom();if(l>this.options.maxZoom||l<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)s=this._tiles[r],s.retain=s.current;for(r in this._tiles)if(s=this._tiles[r],s.current&&!s.active){var c=s.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var s in this._tiles)this._tiles[s].coords.z===r&&this._removeTile(s)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)_e(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,s,l,c){var f=Math.floor(r/2),_=Math.floor(s/2),x=l-1,E=new z(+f,+_);E.z=+x;var j=this._tileCoordsToKey(E),I=this._tiles[j];return I&&I.active?(I.retain=!0,!0):(I&&I.loaded&&(I.retain=!0),x>c?this._retainParent(f,_,x,c):!1)},_retainChildren:function(r,s,l,c){for(var f=2*r;f<2*r+2;f++)for(var _=2*s;_<2*s+2;_++){var x=new z(f,_);x.z=l+1;var E=this._tileCoordsToKey(x),j=this._tiles[E];if(j&&j.active){j.retain=!0;continue}else j&&j.loaded&&(j.retain=!0);l+1<c&&this._retainChildren(f,_,l+1,c)}},_resetView:function(r){var s=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),s,s)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var s=this.options;return s.minNativeZoom!==void 0&&r<s.minNativeZoom?s.minNativeZoom:s.maxNativeZoom!==void 0&&s.maxNativeZoom<r?s.maxNativeZoom:r},_setView:function(r,s,l,c){var f=Math.round(s);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var _=this.options.updateWhenZooming&&f!==this._tileZoom;(!c||_)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(r),l||this._pruneTiles(),this._noPrune=!!l),this._setZoomTransforms(r,s)},_setZoomTransforms:function(r,s){for(var l in this._levels)this._setZoomTransform(this._levels[l],r,s)},_setZoomTransform:function(r,s,l){var c=this._map.getZoomScale(l,r.zoom),f=r.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(s,l)).round();Z.any3d?Dn(r.el,f,c):Te(r.el,f)},_resetGrid:function(){var r=this._map,s=r.options.crs,l=this._tileSize=this.getTileSize(),c=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=s.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,s.wrapLng[0]],c).x/l.x),Math.ceil(r.project([0,s.wrapLng[1]],c).x/l.y)],this._wrapY=s.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([s.wrapLat[0],0],c).y/l.x),Math.ceil(r.project([s.wrapLat[1],0],c).y/l.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var s=this._map,l=s._animatingZoom?Math.max(s._animateToZoom,s.getZoom()):s.getZoom(),c=s.getZoomScale(l,this._tileZoom),f=s.project(r,this._tileZoom).floor(),_=s.getSize().divideBy(c*2);return new V(f.subtract(_),f.add(_))},_update:function(r){var s=this._map;if(s){var l=this._clampZoom(s.getZoom());if(r===void 0&&(r=s.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(r),f=this._pxBoundsToTileRange(c),_=f.getCenter(),x=[],E=this.options.keepBuffer,j=new V(f.getBottomLeft().subtract([E,-E]),f.getTopRight().add([E,-E]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var I in this._tiles){var U=this._tiles[I].coords;(U.z!==this._tileZoom||!j.contains(new z(U.x,U.y)))&&(this._tiles[I].current=!1)}if(Math.abs(l-this._tileZoom)>1){this._setView(r,l);return}for(var H=f.min.y;H<=f.max.y;H++)for(var X=f.min.x;X<=f.max.x;X++){var He=new z(X,H);if(He.z=this._tileZoom,!!this._isValidTile(He)){var ze=this._tiles[this._tileCoordsToKey(He)];ze?ze.current=!0:x.push(He)}}if(x.sort(function(Xe,vr){return Xe.distanceTo(_)-vr.distanceTo(_)}),x.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var gt=document.createDocumentFragment();for(X=0;X<x.length;X++)this._addTile(x[X],gt);this._level.el.appendChild(gt)}}}},_isValidTile:function(r){var s=this._map.options.crs;if(!s.infinite){var l=this._globalTileRange;if(!s.wrapLng&&(r.x<l.min.x||r.x>l.max.x)||!s.wrapLat&&(r.y<l.min.y||r.y>l.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(r);return ce(this.options.bounds).overlaps(c)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var s=this._map,l=this.getTileSize(),c=r.scaleBy(l),f=c.add(l),_=s.unproject(c,r.z),x=s.unproject(f,r.z);return[_,x]},_tileCoordsToBounds:function(r){var s=this._tileCoordsToNwSe(r),l=new Ce(s[0],s[1]);return this.options.noWrap||(l=this._map.wrapLatLngBounds(l)),l},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var s=r.split(":"),l=new z(+s[0],+s[1]);return l.z=+s[2],l},_removeTile:function(r){var s=this._tiles[r];s&&(_e(s.el),delete this._tiles[r],this.fire("tileunload",{tile:s.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){Y(r,"leaflet-tile");var s=this.getTileSize();r.style.width=s.x+"px",r.style.height=s.y+"px",r.onselectstart=g,r.onmousemove=g,Z.ielt9&&this.options.opacity<1&&pt(r,this.options.opacity)},_addTile:function(r,s){var l=this._getTilePos(r),c=this._tileCoordsToKey(r),f=this.createTile(this._wrapCoords(r),u(this._tileReady,this,r));this._initTile(f),this.createTile.length<2&&re(u(this._tileReady,this,r,null,f)),Te(f,l),this._tiles[c]={el:f,coords:r,current:!0},s.appendChild(f),this.fire("tileloadstart",{tile:f,coords:r})},_tileReady:function(r,s,l){s&&this.fire("tileerror",{error:s,tile:l,coords:r});var c=this._tileCoordsToKey(r);l=this._tiles[c],l&&(l.loaded=+new Date,this._map._fadeAnimated?(pt(l.el,0),we(this._fadeFrame),this._fadeFrame=re(this._updateOpacity,this)):(l.active=!0,this._pruneTiles()),s||(Y(l.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:l.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),Z.ielt9||!this._map._fadeAnimated?re(this._pruneTiles,this):setTimeout(u(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var s=new z(this._wrapX?m(r.x,this._wrapX):r.x,this._wrapY?m(r.y,this._wrapY):r.y);return s.z=r.z,s},_pxBoundsToTileRange:function(r){var s=this.getTileSize();return new V(r.min.unscaleBy(s).floor(),r.max.unscaleBy(s).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function kv(r){return new bi(r)}var _r=bi.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,s){this._url=r,s=P(this,s),s.detectRetina&&Z.retina&&s.maxZoom>0?(s.tileSize=Math.floor(s.tileSize/2),s.zoomReverse?(s.zoomOffset--,s.minZoom=Math.min(s.maxZoom,s.minZoom+1)):(s.zoomOffset++,s.maxZoom=Math.max(s.minZoom,s.maxZoom-1)),s.minZoom=Math.max(0,s.minZoom)):s.zoomReverse?s.minZoom=Math.min(s.maxZoom,s.minZoom):s.maxZoom=Math.max(s.minZoom,s.maxZoom),typeof s.subdomains=="string"&&(s.subdomains=s.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,s){return this._url===r&&s===void 0&&(s=!0),this._url=r,s||this.redraw(),this},createTile:function(r,s){var l=document.createElement("img");return J(l,"load",u(this._tileOnLoad,this,s,l)),J(l,"error",u(this._tileOnError,this,s,l)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(l.referrerPolicy=this.options.referrerPolicy),l.alt="",l.src=this.getTileUrl(r),l},getTileUrl:function(r){var s={r:Z.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var l=this._globalTileRange.max.y-r.y;this.options.tms&&(s.y=l),s["-y"]=l}return y(this._url,o(s,this.options))},_tileOnLoad:function(r,s){Z.ielt9?setTimeout(u(r,this,null,s),0):r(null,s)},_tileOnError:function(r,s,l){var c=this.options.errorTileUrl;c&&s.getAttribute("src")!==c&&(s.src=c),r(l,s)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,s=this.options.maxZoom,l=this.options.zoomReverse,c=this.options.zoomOffset;return l&&(r=s-r),r+c},_getSubdomain:function(r){var s=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[s]},_abortLoading:function(){var r,s;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(s=this._tiles[r].el,s.onload=g,s.onerror=g,!s.complete)){s.src=A;var l=this._tiles[r].coords;_e(s),delete this._tiles[r],this.fire("tileabort",{tile:s,coords:l})}},_removeTile:function(r){var s=this._tiles[r];if(s)return s.el.setAttribute("src",A),bi.prototype._removeTile.call(this,r)},_tileReady:function(r,s,l){if(!(!this._map||l&&l.getAttribute("src")===A))return bi.prototype._tileReady.call(this,r,s,l)}});function Yh(r,s){return new _r(r,s)}var Xh=_r.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,s){this._url=r;var l=o({},this.defaultWmsParams);for(var c in s)c in this.options||(l[c]=s[c]);s=P(this,s);var f=s.detectRetina&&Z.retina?2:1,_=this.getTileSize();l.width=_.x*f,l.height=_.y*f,this.wmsParams=l},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var s=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[s]=this._crs.code,_r.prototype.onAdd.call(this,r)},getTileUrl:function(r){var s=this._tileCoordsToNwSe(r),l=this._crs,c=oe(l.project(s[0]),l.project(s[1])),f=c.min,_=c.max,x=(this._wmsVersion>=1.3&&this._crs===qh?[f.y,f.x,_.y,_.x]:[f.x,f.y,_.x,_.y]).join(","),E=_r.prototype.getTileUrl.call(this,r);return E+N(this.wmsParams,E,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+x},setParams:function(r,s){return o(this.wmsParams,r),s||this.redraw(),this}});function Sv(r,s){return new Xh(r,s)}_r.WMS=Xh,Yh.wms=Sv;var Kt=St.extend({options:{padding:.1},initialize:function(r){P(this,r),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Y(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,s){var l=this._map.getZoomScale(s,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,s),_=c.multiplyBy(-l).add(f).subtract(this._map._getNewPixelOrigin(r,s));Z.any3d?Dn(this._container,_,l):Te(this._container,_)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,s=this._map.getSize(),l=this._map.containerPointToLayerPoint(s.multiplyBy(-r)).round();this._bounds=new V(l,l.add(s.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ed=Kt.extend({options:{tolerance:0},getEvents:function(){var r=Kt.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Kt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");J(r,"mousemove",this._onMouseMove,this),J(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),J(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){we(this._redrawRequest),delete this._ctx,_e(this._container),he(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var s in this._layers)r=this._layers[s],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kt.prototype._update.call(this);var r=this._bounds,s=this._container,l=r.getSize(),c=Z.retina?2:1;Te(s,r.min),s.width=c*l.x,s.height=c*l.y,s.style.width=l.x+"px",s.style.height=l.y+"px",Z.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){Kt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[h(r)]=r;var s=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=s),this._drawLast=s,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var s=r._order,l=s.next,c=s.prev;l?l.prev=c:this._drawLast=c,c?c.next=l:this._drawFirst=l,delete r._order,delete this._layers[h(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var s=r.options.dashArray.split(/[, ]+/),l=[],c,f;for(f=0;f<s.length;f++){if(c=Number(s[f]),isNaN(c))return;l.push(c)}r.options._dashArray=l}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||re(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var s=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new V,this._redrawBounds.extend(r._pxBounds.min.subtract([s,s])),this._redrawBounds.extend(r._pxBounds.max.add([s,s]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var s=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,s.x,s.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,s=this._redrawBounds;if(this._ctx.save(),s){var l=s.getSize();this._ctx.beginPath(),this._ctx.rect(s.min.x,s.min.y,l.x,l.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)r=c.layer,(!s||r._pxBounds&&r._pxBounds.intersects(s))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,s){if(this._drawing){var l,c,f,_,x=r._parts,E=x.length,j=this._ctx;if(E){for(j.beginPath(),l=0;l<E;l++){for(c=0,f=x[l].length;c<f;c++)_=x[l][c],j[c?"lineTo":"moveTo"](_.x,_.y);s&&j.closePath()}this._fillStroke(j,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var s=r._point,l=this._ctx,c=Math.max(Math.round(r._radius),1),f=(Math.max(Math.round(r._radiusY),1)||c)/c;f!==1&&(l.save(),l.scale(1,f)),l.beginPath(),l.arc(s.x,s.y/f,c,0,Math.PI*2,!1),f!==1&&l.restore(),this._fillStroke(l,r)}},_fillStroke:function(r,s){var l=s.options;l.fill&&(r.globalAlpha=l.fillOpacity,r.fillStyle=l.fillColor||l.color,r.fill(l.fillRule||"evenodd")),l.stroke&&l.weight!==0&&(r.setLineDash&&r.setLineDash(s.options&&s.options._dashArray||[]),r.globalAlpha=l.opacity,r.lineWidth=l.weight,r.strokeStyle=l.color,r.lineCap=l.lineCap,r.lineJoin=l.lineJoin,r.stroke())},_onClick:function(r){for(var s=this._map.mouseEventToLayerPoint(r),l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(l))&&(c=l);this._fireEvent(c?[c]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var s=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,s)}},_handleMouseOut:function(r){var s=this._hoveredLayer;s&&(ke(this._container,"leaflet-interactive"),this._fireEvent([s],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,s){if(!this._mouseHoverThrottled){for(var l,c,f=this._drawFirst;f;f=f.next)l=f.layer,l.options.interactive&&l._containsPoint(s)&&(c=l);c!==this._hoveredLayer&&(this._handleMouseOut(r),c&&(Y(this._container,"leaflet-interactive"),this._fireEvent([c],r,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(u(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,s,l){this._map._fireDOMEvent(s,l||s.type,r)},_bringToFront:function(r){var s=r._order;if(s){var l=s.next,c=s.prev;if(l)l.prev=c;else return;c?c.next=l:l&&(this._drawFirst=l),s.prev=this._drawLast,this._drawLast.next=s,s.next=null,this._drawLast=s,this._requestRedraw(r)}},_bringToBack:function(r){var s=r._order;if(s){var l=s.next,c=s.prev;if(c)c.next=l;else return;l?l.prev=c:c&&(this._drawLast=c),s.prev=null,s.next=this._drawFirst,this._drawFirst.prev=s,this._drawFirst=s,this._requestRedraw(r)}}});function td(r){return Z.canvas?new ed(r):null}var wi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Tv={_initContainer:function(){this._container=le("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Kt.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var s=r._container=wi("shape");Y(s,"leaflet-vml-shape "+(this.options.className||"")),s.coordsize="1 1",r._path=wi("path"),s.appendChild(r._path),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){var s=r._container;this._container.appendChild(s),r.options.interactive&&r.addInteractiveTarget(s)},_removePath:function(r){var s=r._container;_e(s),r.removeInteractiveTarget(s),delete this._layers[h(r)]},_updateStyle:function(r){var s=r._stroke,l=r._fill,c=r.options,f=r._container;f.stroked=!!c.stroke,f.filled=!!c.fill,c.stroke?(s||(s=r._stroke=wi("stroke")),f.appendChild(s),s.weight=c.weight+"px",s.color=c.color,s.opacity=c.opacity,c.dashArray?s.dashStyle=b(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):s.dashStyle="",s.endcap=c.lineCap.replace("butt","flat"),s.joinstyle=c.lineJoin):s&&(f.removeChild(s),r._stroke=null),c.fill?(l||(l=r._fill=wi("fill")),f.appendChild(l),l.color=c.fillColor||c.color,l.opacity=c.fillOpacity):l&&(f.removeChild(l),r._fill=null)},_updateCircle:function(r){var s=r._point.round(),l=Math.round(r._radius),c=Math.round(r._radiusY||l);this._setPath(r,r._empty()?"M0 0":"AL "+s.x+","+s.y+" "+l+","+c+" 0,"+65535*360)},_setPath:function(r,s){r._path.v=s},_bringToFront:function(r){hr(r._container)},_bringToBack:function(r){dr(r._container)}},qo=Z.vml?wi:oh,xi=Kt.extend({_initContainer:function(){this._container=qo("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=qo("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){_e(this._container),he(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){Kt.prototype._update.call(this);var r=this._bounds,s=r.getSize(),l=this._container;(!this._svgSize||!this._svgSize.equals(s))&&(this._svgSize=s,l.setAttribute("width",s.x),l.setAttribute("height",s.y)),Te(l,r.min),l.setAttribute("viewBox",[r.min.x,r.min.y,s.x,s.y].join(" ")),this.fire("update")}},_initPath:function(r){var s=r._path=qo("path");r.options.className&&Y(s,r.options.className),r.options.interactive&&Y(s,"leaflet-interactive"),this._updateStyle(r),this._layers[h(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){_e(r._path),r.removeInteractiveTarget(r._path),delete this._layers[h(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var s=r._path,l=r.options;s&&(l.stroke?(s.setAttribute("stroke",l.color),s.setAttribute("stroke-opacity",l.opacity),s.setAttribute("stroke-width",l.weight),s.setAttribute("stroke-linecap",l.lineCap),s.setAttribute("stroke-linejoin",l.lineJoin),l.dashArray?s.setAttribute("stroke-dasharray",l.dashArray):s.removeAttribute("stroke-dasharray"),l.dashOffset?s.setAttribute("stroke-dashoffset",l.dashOffset):s.removeAttribute("stroke-dashoffset")):s.setAttribute("stroke","none"),l.fill?(s.setAttribute("fill",l.fillColor||l.color),s.setAttribute("fill-opacity",l.fillOpacity),s.setAttribute("fill-rule",l.fillRule||"evenodd")):s.setAttribute("fill","none"))},_updatePoly:function(r,s){this._setPath(r,sh(r._parts,s))},_updateCircle:function(r){var s=r._point,l=Math.max(Math.round(r._radius),1),c=Math.max(Math.round(r._radiusY),1)||l,f="a"+l+","+c+" 0 1,0 ",_=r._empty()?"M0 0":"M"+(s.x-l)+","+s.y+f+l*2+",0 "+f+-l*2+",0 ";this._setPath(r,_)},_setPath:function(r,s){r._path.setAttribute("d",s)},_bringToFront:function(r){hr(r._path)},_bringToBack:function(r){dr(r._path)}});Z.vml&&xi.include(Tv);function nd(r){return Z.svg||Z.vml?new xi(r):null}ie.include({getRenderer:function(r){var s=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return s||(s=this._renderer=this._createRenderer()),this.hasLayer(s)||this.addLayer(s),s},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var s=this._paneRenderers[r];return s===void 0&&(s=this._createRenderer({pane:r}),this._paneRenderers[r]=s),s},_createRenderer:function(r){return this.options.preferCanvas&&td(r)||nd(r)}});var rd=mr.extend({initialize:function(r,s){mr.prototype.initialize.call(this,this._boundsToLatLngs(r),s)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ce(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function Pv(r,s){return new rd(r,s)}xi.create=qo,xi.pointsToPath=sh,Vt.geometryToLayer=Do,Vt.coordsToLatLng=il,Vt.coordsToLatLngs=Bo,Vt.latLngToCoords=ol,Vt.latLngsToCoords=$o,Vt.getFeature=gr,Vt.asFeature=Uo,ie.mergeOptions({boxZoom:!0});var id=At.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){J(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){he(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){_e(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fi(),Ua(),this._startPoint=this._map.mouseEventToContainerPoint(r),J(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=le("div","leaflet-zoom-box",this._container),Y(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var s=new V(this._point,this._startPoint),l=s.getSize();Te(this._box,s.min),this._box.style.width=l.x+"px",this._box.style.height=l.y+"px"},_finish:function(){this._moved&&(_e(this._box),ke(this._container,"leaflet-crosshair")),pi(),Fa(),he(document,{contextmenu:Un,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(u(this._resetState,this),0);var s=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(s).fire("boxzoomend",{boxZoomBounds:s})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});ie.addInitHook("addHandler","boxZoom",id),ie.mergeOptions({doubleClickZoom:!0});var od=At.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var s=this._map,l=s.getZoom(),c=s.options.zoomDelta,f=r.originalEvent.shiftKey?l-c:l+c;s.options.doubleClickZoom==="center"?s.setZoom(f):s.setZoomAround(r.containerPoint,f)}});ie.addInitHook("addHandler","doubleClickZoom",od),ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sd=At.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new un(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}Y(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ke(this._map._container,"leaflet-grab"),ke(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var s=ce(this._map.options.maxBounds);this._offsetLimit=oe(this._map.latLngToContainerPoint(s.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(s.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var s=this._lastTime=+new Date,l=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(l),this._times.push(s),this._prunePositions(s)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),s=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=s.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,s){return r-(r-s)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),s=this._offsetLimit;r.x<s.min.x&&(r.x=this._viscousLimit(r.x,s.min.x)),r.y<s.min.y&&(r.y=this._viscousLimit(r.y,s.min.y)),r.x>s.max.x&&(r.x=this._viscousLimit(r.x,s.max.x)),r.y>s.max.y&&(r.y=this._viscousLimit(r.y,s.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,s=Math.round(r/2),l=this._initialWorldOffset,c=this._draggable._newPos.x,f=(c-s+l)%r+s-l,_=(c+s+l)%r-s-l,x=Math.abs(f+l)<Math.abs(_+l)?f:_;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=x},_onDragEnd:function(r){var s=this._map,l=s.options,c=!l.inertia||r.noInertia||this._times.length<2;if(s.fire("dragend",r),c)s.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),_=(this._lastTime-this._times[0])/1e3,x=l.easeLinearity,E=f.multiplyBy(x/_),j=E.distanceTo([0,0]),I=Math.min(l.inertiaMaxSpeed,j),U=E.multiplyBy(I/j),H=I/(l.inertiaDeceleration*x),X=U.multiplyBy(-H/2).round();!X.x&&!X.y?s.fire("moveend"):(X=s._limitOffset(X,s.options.maxBounds),re(function(){s.panBy(X,{duration:H,easeLinearity:x,noMoveStart:!0,animate:!0})}))}}});ie.addInitHook("addHandler","dragging",sd),ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ad=At.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),J(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),he(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,s=document.documentElement,l=r.scrollTop||s.scrollTop,c=r.scrollLeft||s.scrollLeft;this._map._container.focus(),window.scrollTo(c,l)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var s=this._panKeys={},l=this.keyCodes,c,f;for(c=0,f=l.left.length;c<f;c++)s[l.left[c]]=[-1*r,0];for(c=0,f=l.right.length;c<f;c++)s[l.right[c]]=[r,0];for(c=0,f=l.down.length;c<f;c++)s[l.down[c]]=[0,r];for(c=0,f=l.up.length;c<f;c++)s[l.up[c]]=[0,-1*r]},_setZoomDelta:function(r){var s=this._zoomKeys={},l=this.keyCodes,c,f;for(c=0,f=l.zoomIn.length;c<f;c++)s[l.zoomIn[c]]=r;for(c=0,f=l.zoomOut.length;c<f;c++)s[l.zoomOut[c]]=-r},_addHooks:function(){J(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){he(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var s=r.keyCode,l=this._map,c;if(s in this._panKeys){if(!l._panAnim||!l._panAnim._inProgress)if(c=this._panKeys[s],r.shiftKey&&(c=$(c).multiplyBy(3)),l.options.maxBounds&&(c=l._limitOffset($(c),l.options.maxBounds)),l.options.worldCopyJump){var f=l.wrapLatLng(l.unproject(l.project(l.getCenter()).add(c)));l.panTo(f)}else l.panBy(c)}else if(s in this._zoomKeys)l.setZoom(l.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[s]);else if(s===27&&l._popup&&l._popup.options.closeOnEscapeKey)l.closePopup();else return;Un(r)}}});ie.addInitHook("addHandler","keyboard",ad),ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var ld=At.extend({addHooks:function(){J(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){he(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var s=Nh(r),l=this._map.options.wheelDebounceTime;this._delta+=s,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var c=Math.max(l-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(u(this._performZoom,this),c),Un(r)},_performZoom:function(){var r=this._map,s=r.getZoom(),l=this._map.options.zoomSnap||0;r._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,_=l?Math.ceil(f/l)*l:f,x=r._limitZoom(s+(this._delta>0?_:-_))-s;this._delta=0,this._startTime=null,x&&(r.options.scrollWheelZoom==="center"?r.setZoom(s+x):r.setZoomAround(this._lastMousePos,s+x))}});ie.addInitHook("addHandler","scrollWheelZoom",ld);var Ev=600;ie.mergeOptions({tapHold:Z.touchNative&&Z.safari&&Z.mobile,tapTolerance:15});var ud=At.extend({addHooks:function(){J(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){he(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var s=r.touches[0];this._startPos=this._newPos=new z(s.clientX,s.clientY),this._holdTimeout=setTimeout(u(function(){this._cancel(),this._isTapValid()&&(J(document,"touchend",De),J(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",s))},this),Ev),J(document,"touchend touchcancel contextmenu",this._cancel,this),J(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){he(document,"touchend",De),he(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),he(document,"touchend touchcancel contextmenu",this._cancel,this),he(document,"touchmove",this._onMove,this)},_onMove:function(r){var s=r.touches[0];this._newPos=new z(s.clientX,s.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,s){var l=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:s.screenX,screenY:s.screenY,clientX:s.clientX,clientY:s.clientY});l._simulated=!0,s.target.dispatchEvent(l)}});ie.addInitHook("addHandler","tapHold",ud),ie.mergeOptions({touchZoom:Z.touch,bounceAtZoomLimits:!0});var cd=At.extend({addHooks:function(){Y(this._map._container,"leaflet-touch-zoom"),J(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ke(this._map._container,"leaflet-touch-zoom"),he(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var s=this._map;if(!(!r.touches||r.touches.length!==2||s._animatingZoom||this._zooming)){var l=s.mouseEventToContainerPoint(r.touches[0]),c=s.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=s.getSize()._divideBy(2),this._startLatLng=s.containerPointToLatLng(this._centerPoint),s.options.touchZoom!=="center"&&(this._pinchStartLatLng=s.containerPointToLatLng(l.add(c)._divideBy(2))),this._startDist=l.distanceTo(c),this._startZoom=s.getZoom(),this._moved=!1,this._zooming=!0,s._stop(),J(document,"touchmove",this._onTouchMove,this),J(document,"touchend touchcancel",this._onTouchEnd,this),De(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var s=this._map,l=s.mouseEventToContainerPoint(r.touches[0]),c=s.mouseEventToContainerPoint(r.touches[1]),f=l.distanceTo(c)/this._startDist;if(this._zoom=s.getScaleZoom(f,this._startZoom),!s.options.bounceAtZoomLimits&&(this._zoom<s.getMinZoom()&&f<1||this._zoom>s.getMaxZoom()&&f>1)&&(this._zoom=s._limitZoom(this._zoom)),s.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var _=l._add(c)._divideBy(2)._subtract(this._centerPoint);if(f===1&&_.x===0&&_.y===0)return;this._center=s.unproject(s.project(this._pinchStartLatLng,this._zoom).subtract(_),this._zoom)}this._moved||(s._moveStart(!0,!1),this._moved=!0),we(this._animRequest);var x=u(s._move,s,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=re(x,this,!0),De(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,we(this._animRequest),he(document,"touchmove",this._onTouchMove,this),he(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});ie.addInitHook("addHandler","touchZoom",cd),ie.BoxZoom=id,ie.DoubleClickZoom=od,ie.Drag=sd,ie.Keyboard=ad,ie.ScrollWheelZoom=ld,ie.TapHold=ud,ie.TouchZoom=cd,n.Bounds=V,n.Browser=Z,n.CRS=Ye,n.Canvas=ed,n.Circle=rl,n.CircleMarker=Ro,n.Class=ft,n.Control=kt,n.DivIcon=Qh,n.DivOverlay=Rt,n.DomEvent=q_,n.DomUtil=Z_,n.Draggable=un,n.Evented=Wt,n.FeatureGroup=qt,n.GeoJSON=Vt,n.GridLayer=bi,n.Handler=At,n.Icon=pr,n.ImageOverlay=Fo,n.LatLng=ae,n.LatLngBounds=Ce,n.Layer=St,n.LayerGroup=fr,n.LineUtil=iv,n.Map=ie,n.Marker=Ao,n.Mixin=Y_,n.Path=cn,n.Point=z,n.PolyUtil=X_,n.Polygon=mr,n.Polyline=Ht,n.Popup=Zo,n.PosAnimation=Mh,n.Projection=ov,n.Rectangle=rd,n.Renderer=Kt,n.SVG=xi,n.SVGOverlay=Jh,n.TileLayer=_r,n.Tooltip=Wo,n.Transformation=Ca,n.Util=Rn,n.VideoOverlay=Gh,n.bind=u,n.bounds=oe,n.canvas=td,n.circle=fv,n.circleMarker=dv,n.control=_i,n.divIcon=xv,n.extend=o,n.featureGroup=uv,n.geoJSON=Kh,n.geoJson=gv,n.gridLayer=kv,n.icon=cv,n.imageOverlay=_v,n.latLng=G,n.latLngBounds=ce,n.layerGroup=lv,n.map=H_,n.marker=hv,n.point=$,n.polygon=mv,n.polyline=pv,n.popup=bv,n.rectangle=Pv,n.setOptions=P,n.stamp=h,n.svg=nd,n.svgOverlay=yv,n.tileLayer=Yh,n.tooltip=wv,n.transformation=ui,n.version=i,n.videoOverlay=vv;var Lv=window.L;n.noConflict=function(){return window.L=Lv,this},window.L=n})})(Ku,Ku.exports);var ai=Ku.exports;const u_=Yu(ai);function Pa(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function rh(e,t){return t==null?function(n,i){const o=O.useRef();return o.current||(o.current=e(n,i)),o}:function(n,i){const o=O.useRef();o.current||(o.current=e(n,i));const a=O.useRef(n),{instance:u}=o.current;return O.useEffect(function(){a.current!==n&&(t(u,n,a.current),a.current=n)},[u,n,i]),o}}function c_(e,t){O.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var n;(n=t.layerContainer)==null||n.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function h_(e){return function(t){const n=th(),i=e(nh(t,n),n);return Yk(n.map,t.attribution),l_(i.current,t.eventHandlers),c_(i.current,n),i}}function n1(e,t){const n=O.useRef();O.useEffect(function(){if(t.pathOptions!==n.current){const i=t.pathOptions??{};e.instance.setStyle(i),n.current=i}},[e,t])}function r1(e){return function(t){const n=th(),i=e(nh(t,n),n);return l_(i.current,t.eventHandlers),c_(i.current,n),n1(i.current,t),i}}function i1(e,t){const n=rh(e,t),i=h_(n);return a_(i)}function d_(e,t){const n=rh(e,t),i=r1(n);return a_(i)}function o1(e,t){const n=rh(e,t),i=h_(n);return t1(i)}function s1(e,t,n){const{opacity:i,zIndex:o}=t;i!=null&&i!==n.opacity&&e.setOpacity(i),o!=null&&o!==n.zIndex&&e.setZIndex(o)}function a1(){return th().map}function Gu(){return Gu=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Gu.apply(this,arguments)}function l1({bounds:e,boundsOptions:t,center:n,children:i,className:o,id:a,placeholder:u,style:d,whenReady:h,zoom:p,...m},g){const[v]=O.useState({className:o,id:a,style:d}),[k,S]=O.useState(null);O.useImperativeHandle(g,()=>(k==null?void 0:k.map)??null,[k]);const P=O.useCallback(w=>{if(w!==null&&k===null){const y=new ai.Map(w,m);n!=null&&p!=null?y.setView(n,p):e!=null&&y.fitBounds(e,t),h!=null&&y.whenReady(h),S(e1(y))}},[]);O.useEffect(()=>()=>{k==null||k.map.remove()},[k]);const N=k?Ji.createElement(s_,{value:k},i):u??null;return Ji.createElement("div",Gu({},v,{ref:P}),N)}const u1=O.forwardRef(l1),c1=i1(function({position:e,...t},n){const i=new ai.Marker(e,t);return Pa(i,eh(n,{overlayContainer:i}))},function(e,t,n){t.position!==n.position&&e.setLatLng(t.position),t.icon!=null&&t.icon!==n.icon&&e.setIcon(t.icon),t.zIndexOffset!=null&&t.zIndexOffset!==n.zIndexOffset&&e.setZIndexOffset(t.zIndexOffset),t.opacity!=null&&t.opacity!==n.opacity&&e.setOpacity(t.opacity),e.dragging!=null&&t.draggable!==n.draggable&&(t.draggable===!0?e.dragging.enable():e.dragging.disable())}),Yf=d_(function({positions:e,...t},n){const i=new ai.Polygon(e,t);return Pa(i,eh(n,{overlayContainer:i}))},function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)}),Xf=d_(function({positions:e,...t},n){const i=new ai.Polyline(e,t);return Pa(i,eh(n,{overlayContainer:i}))},function(e,t,n){t.positions!==n.positions&&e.setLatLngs(t.positions)}),h1=o1(function({url:e,...t},n){const i=new ai.TileLayer(e,nh(t,n));return Pa(i,n)},function(e,t,n){s1(e,t,n);const{url:i}=t;i!=null&&i!==n.url&&e.setUrl(i)}),ep=e=>{const t=(e||"").toString().toLowerCase().trim();return t==="red"?"red":t==="blue"?"blue":(t==="green"||console.warn("normalizeTeam: Equipe inválida:",e,"usando fallback green"),"green")};function li(){const{user:e}=An(),[t,n]=O.useState([]),[i,o]=O.useState([]);O.useEffect(()=>{if(!e)return;if(a(),u(),setTimeout(()=>{u(),a()},1e3),localStorage.getItem("gameMode")==="mock"){const p=setInterval(()=>{a(),u()},2e3);return()=>clearInterval(p)}const d=ne.channel("territories").on("postgres_changes",{event:"*",schema:"public",table:"territories"},()=>{a()}).subscribe(),h=ne.channel("users").on("postgres_changes",{event:"*",schema:"public",table:"users"},()=>{u()}).subscribe();return()=>{d.unsubscribe(),h.unsubscribe()}},[e]);const a=async()=>{try{const{data:d,error:h}=await ne.from("territories").select("*").order("created_at",{ascending:!1});if(h)throw h;n(d||[])}catch(d){console.error("Erro ao buscar territórios:",d)}},u=async()=>{try{const{data:d,error:h}=await ne.from("users").select("*");if(h)throw h;const p=(d||[]).map(m=>({...m,team:ep(m.team),current_position:m.current_position?m.current_position.replace(/[()]/g,"").split(",").map(Number):null}));o(p)}catch(d){console.error("Erro ao buscar usuários online:",d)}};return{territories:t,onlineUsers:i,addTerritory:async(d,h,p)=>{if(e)try{const{data:m,error:g}=await ne.from("users").select("team").eq("id",e.id).single();g&&console.error("addTerritory: Erro ao buscar dados do usuário:",g);const v=ep(p||(m==null?void 0:m.team)||e.team),{data:k,error:S}=await ne.from("territories").insert({team_id:v,player_id:e.id,polygon:d,area:h,conquered_at:new Date().toISOString()}).select().single();if(S)throw S;const{data:P,error:N}=await ne.from("users").select("score").eq("id",e.id).single();if(N)throw N;const w=((P==null?void 0:P.score)||0)+h,{error:y}=await ne.from("users").update({score:w}).eq("id",e.id);if(y)throw y;return await Promise.all([a(),u()]),k}catch(m){throw console.error("Erro ao adicionar território:",m),m}},fetchTerritories:a,fetchOnlineUsers:u}}function d1({onMove:e,enabled:t=!0}){const n=O.useRef(new Set),i=O.useRef(null);return O.useEffect(()=>{if(!t)return;const o=u=>{const d=u.key.toLowerCase();["w","a","s","d","arrowup","arrowdown","arrowleft","arrowright"].includes(d)&&u.preventDefault(),n.current.add(d),d==="w"||d==="arrowup"?e("up"):d==="s"||d==="arrowdown"?e("down"):d==="a"||d==="arrowleft"?e("left"):(d==="d"||d==="arrowright")&&e("right"),i.current||(i.current=setInterval(()=>{const h=Array.from(n.current);h.includes("w")||h.includes("arrowup")?e("up"):h.includes("s")||h.includes("arrowdown")?e("down"):h.includes("a")||h.includes("arrowleft")?e("left"):(h.includes("d")||h.includes("arrowright"))&&e("right")},50))},a=u=>{const d=u.key.toLowerCase();n.current.delete(d),n.current.size===0&&i.current&&(clearInterval(i.current),i.current=null)};return window.addEventListener("keydown",o),window.addEventListener("keyup",a),()=>{window.removeEventListener("keydown",o),window.removeEventListener("keyup",a),i.current&&clearInterval(i.current)}},[e,t]),{isMoving:n.current.size>0}}const Ju=[41.1333,-8.6167];function f1(e,t){const n=`
  <div class="pawn-wrap" style="--c:${e}">
    <div class="pawn-dot"></div>
    ${`<div class="pawn-name">${t}</div>`}
  </div>`;return u_.divIcon({className:"",html:n,iconSize:[30,42],iconAnchor:[15,21]})}const p1=(e,t)=>{var n;const i=t.find(u=>u.id===(e==null?void 0:e.id)),o=(i==null?void 0:i.team)==="blue"?"#2563eb":(i==null?void 0:i.team)==="red"?"#dc2626":"#16a34a",a=(i==null?void 0:i.name)||((n=e==null?void 0:e.user_metadata)==null?void 0:n.name)||"Jogador";return f1(o,a)};function m1(){const e=a1(),{position:t}=si(),n=()=>{t?e.setView([t[0],t[1]],e.getZoom()):e.setView(Ju,e.getZoom())};return T.jsx(T.Fragment,{children:T.jsx("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:1e3},children:T.jsx("button",{className:"center-button",onClick:n,style:{backgroundColor:"#2563EB",color:"white",border:"none",padding:"8px 12px",borderRadius:"4px",fontSize:"12px",cursor:"pointer",fontWeight:"bold"},children:"🎯 Centrar no peão"})})})}function ps(e){if(e.length<3)return 0;let t=0;for(let n=0;n<e.length;n++){const i=(n+1)%e.length;t+=e[n][0]*e[i][1],t-=e[i][0]*e[n][1]}return Math.abs(t)/2*111*111}function tp(e,t){const[n,i]=e;let o=!1;for(let a=0,u=t.length-1;a<t.length;u=a++){const[d,h]=t[a],[p,m]=t[u];h>i!=m>i&&n<(p-d)*(i-h)/(m-h)+d&&(o=!o)}return o}function g1(e,t){for(const n of e)if(tp(n,t))return!0;for(const n of t)if(tp(n,e))return!0;return!1}function _1(e,t){let n=0;for(let i=0;i<t.length;i++)i!==e&&g1(t[e],t[i])&&n++;return n===0?.3:Math.max(.1,.3-n*.1)}function v1(){const{position:e}=si(),{currentPlayer:t}=Ta(),{user:n}=An(),{addTerritory:i}=li(),[o,a]=O.useState(!1),[u,d]=O.useState([]),[h,p]=O.useState([]),[m,g]=O.useState([]),v=O.useRef(null),k=e,S=O.useMemo(()=>k||null,[k]);O.useEffect(()=>{if(!o||!S)return;if(v.current){const[b,C]=v.current,[A,R]=S,M=Math.abs(A-b),B=Math.abs(R-C);if(M<1e-5&&B<1e-5)return}const y=[...u,S];if(d(y),v.current=S,console.log("TraceManager: Adicionando ponto ao traço. Total:",y.length),y.length>=4){const b=y[y.length-1];for(let C=0;C<y.length-3;C++)if(Math.sqrt(Math.pow(b[0]-y[C][0],2)+Math.pow(b[1]-y[C][1],2))<3e-5){const A=[...y.slice(C),b];if(A.length>=3){const R=ps(A);if(n&&i&&t!=null&&t.team){const M={type:"Polygon",coordinates:[A.map(B=>[B[1],B[0]])]};i(M,R,t.team).catch(B=>{console.error("TraceManager: Erro ao salvar área:",B)})}g(M=>{const B=[...M,A],q=B.reduce((W,re)=>W+ps(re),0);return window.dispatchEvent(new CustomEvent("areas-updated",{detail:{totalAreaKm2:q}})),B}),d([b]),v.current=b;return}}}},[S,o,u,n,i,t==null?void 0:t.team]);const P=()=>{console.log("TraceManager: Iniciando traço..."),a(!0),d([]),v.current=S,window.dispatchEvent(new CustomEvent("trace-state-updated",{detail:{isTracing:!0}})),console.log("TraceManager: Traço iniciado com sucesso")},N=()=>{a(!1),u.length>1&&p(y=>[...y,u]),d([]),window.dispatchEvent(new CustomEvent("trace-state-updated",{detail:{isTracing:!1}}))},w=()=>{d([]),p([]),g([]),a(!1),window.dispatchEvent(new CustomEvent("areas-updated",{detail:{totalAreaKm2:0}}))};return O.useEffect(()=>{const y=M=>{(M.key===" "||M.key==="Enter")&&(M.preventDefault(),o?N():P())},b=()=>{w()},C=()=>{if(u.length>=3){const M=[...u,u[0]];ps(M)>1e-8&&(g(B=>{const q=[...B,u],W=q.reduce((re,we)=>re+ps(we),0);return window.dispatchEvent(new CustomEvent("areas-updated",{detail:{totalAreaKm2:W}})),q}),d([u[u.length-1]]),v.current=u[u.length-1])}},A=()=>{P()},R=()=>{N()};return window.addEventListener("keydown",y),window.addEventListener("reset-traces",b),window.addEventListener("force-close-area",C),window.addEventListener("start-trace",A),window.addEventListener("stop-trace",R),()=>{window.removeEventListener("keydown",y),window.removeEventListener("reset-traces",b),window.removeEventListener("force-close-area",C),window.removeEventListener("start-trace",A),window.removeEventListener("stop-trace",R)}},[o]),{isTracing:o,trace:u,paths:h,areas:m,startTrace:P,stopTrace:N,resetTraces:w}}function y1(e,t){var n,i;const o=((i=(n=e.polygon)==null?void 0:n.coordinates)==null?void 0:i[0])||[];if(o.length===0)return null;const a=t.filter(h=>h.losingTerritory.id===e.id);if(a.length===0)return[{positions:o.map(h=>({lat:h[1],lng:h[0]}))}];const u=a.map(h=>{var p,m;return((m=(p=h.conqueredTerritory.polygon)==null?void 0:p.coordinates)==null?void 0:m[0])||[]}).filter(h=>h.length>0);if(u.length===0)return[{positions:o.map(h=>({lat:h[1],lng:h[0]}))}];let d=[o.map(h=>({lat:h[1],lng:h[0]}))];return u.forEach(h=>{const p=Qu(h),m=[];d.forEach(g=>{const v={minLat:Math.min(...g.map(S=>S.lat)),maxLat:Math.max(...g.map(S=>S.lat)),minLng:Math.min(...g.map(S=>S.lng)),maxLng:Math.max(...g.map(S=>S.lng))};if(v.maxLat<p.minLat||v.minLat>p.maxLat||v.maxLng<p.minLng||v.minLng>p.maxLng){m.push(g);return}const k=[];p.maxLat<v.maxLat&&k.push([{lat:p.maxLat,lng:v.minLng},{lat:v.maxLat,lng:v.minLng},{lat:v.maxLat,lng:v.maxLng},{lat:p.maxLat,lng:v.maxLng}]),p.maxLng<v.maxLng&&k.push([{lat:p.minLat,lng:p.maxLng},{lat:p.maxLat,lng:p.maxLng},{lat:p.maxLat,lng:v.maxLng},{lat:p.minLat,lng:v.maxLng}]),p.minLat>v.minLat&&k.push([{lat:v.minLat,lng:v.minLng},{lat:p.minLat,lng:v.minLng},{lat:p.minLat,lng:v.maxLng},{lat:v.minLat,lng:v.maxLng}]),p.minLng>v.minLng&&k.push([{lat:p.minLat,lng:v.minLng},{lat:p.maxLat,lng:v.minLng},{lat:p.maxLat,lng:p.minLng},{lat:p.minLat,lng:p.minLng}]),k.forEach(S=>{S.length>=3&&m.push(S)})}),d=m}),d.length===0?[{positions:o.map(h=>({lat:h[1],lng:h[0]}))}]:d.map(h=>({positions:h}))}function Qu(e){const t=e.map(i=>i[1]),n=e.map(i=>i[0]);return{minLat:Math.min(...t),maxLat:Math.max(...t),minLng:Math.min(...n),maxLng:Math.max(...n)}}function b1(e){var t,n,i,o;const a=[];for(let u=0;u<e.length;u++)for(let d=u+1;d<e.length;d++){const h=e[u],p=e[d];if(h.team_id===p.team_id)continue;const m=new Date(h.conquered_at).getTime(),g=new Date(p.conquered_at).getTime(),v=m>g?h:p,k=m>g?p:h,S=((n=(t=h.polygon)==null?void 0:t.coordinates)==null?void 0:n[0])||[],P=((o=(i=p.polygon)==null?void 0:i.coordinates)==null?void 0:o[0])||[];if(S.length===0||P.length===0)continue;const N=Qu(S),w=Qu(P);if(!(N.maxLat<w.minLat||N.minLat>w.maxLat||N.maxLng<w.minLng||N.minLng>w.maxLng)){const y=Math.min(N.maxLng,w.maxLng)-Math.max(N.minLng,w.minLng),b=Math.min(N.maxLat,w.maxLat)-Math.max(N.minLat,w.minLat),C=Math.max(0,y*b*111*111);a.push({conqueredTerritory:v,losingTerritory:k,overlapArea:C})}}return a}function w1(){const{user:e}=An(),{position:t,updatePosition:n}=si(),{onlineUsers:i,territories:o}=li(),{currentPlayer:a}=Ta(),u=O.useMemo(()=>(console.log("MapView: Criando TraceManager"),v1()),[]),d=M=>{if(!t)return;const B=1e-4;let q=[...t];switch(M){case"up":q=[t[0]+B,t[1]];break;case"down":q=[t[0]-B,t[1]];break;case"left":q=[t[0],t[1]-B];break;case"right":q=[t[0],t[1]+B];break}u.isTracing||(console.log("MapView: Iniciando traço automaticamente na primeira movimentação"),u.startTrace()),n(q)},{isMoving:h}=d1({onMove:d,enabled:!0}),p=t||Ju,m=O.useMemo(()=>{var M;const B=p;return((a==null?void 0:a.team)||((M=i.find(q=>q.id===(e==null?void 0:e.id)))==null?void 0:M.team)||"green")==="green"?[B[0],B[1]+-.009]:B},[p,a==null?void 0:a.team,i,e==null?void 0:e.id]),g=O.useMemo(()=>({lat:m[0],lng:m[1]}),[m]),v=O.useMemo(()=>{const M=q=>{const W=(q||"").toString().toLowerCase().trim();return W==="red"?"red":W==="blue"?"blue":(W==="green"||console.warn("MapView normalizeTeam: Equipe inválida:",q,"usando fallback green"),"green")};if(a!=null&&a.team)return M(a.team);const B=i.find(q=>q.id===(e==null?void 0:e.id));return M(B==null?void 0:B.team)},[a==null?void 0:a.team,i,e==null?void 0:e.id]),k=v==="blue"?"#2563eb":v==="red"?"#dc2626":"#16a34a",[S,P]=O.useState(!1),[N,w]=O.useState(null),[y,b]=O.useState(!1);O.useEffect(()=>{const M=navigator.userAgent.toLowerCase(),B=/ipad/.test(M)||navigator.platform==="MacIntel"&&navigator.maxTouchPoints>1;b(B)},[]);const C=O.useMemo(()=>b1(o),[o]);O.useEffect(()=>{const M=setTimeout(()=>{S||P(!0)},y?5e3:3e3);return()=>clearTimeout(M)},[S,y]);const A=()=>{P(!0),w(null)},R=M=>{console.error("MapView: Erro no carregamento do mapa:",M),w((M==null?void 0:M.message)||"Erro desconhecido"),setTimeout(()=>P(!0),2e3)};return S?typeof u_>"u"?T.jsx("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1f2937"},children:T.jsxs("div",{style:{color:"white",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"⚠️"}),T.jsx("div",{children:"Erro: Leaflet não carregado"}),T.jsx("div",{style:{fontSize:"12px",marginTop:"10px",opacity:"0.7"},children:"Tente recarregar a página"})]})}):T.jsxs("div",{style:{position:"relative",height:"100%",width:"100%"},children:[T.jsxs(u1,{center:Ju,zoom:15,style:{height:"100%",width:"100%"},whenReady:A,children:[T.jsx(h1,{attribution:"© <a href='https://www.openstreetmap.org/copyright'>OpenStreetMap</a> contributors",url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",eventHandlers:{error:R}}),T.jsx(c1,{position:g,icon:p1(e,i)}),u.trace.length>0&&T.jsxs(T.Fragment,{children:[console.log("MapView: Renderizando traço com",u.trace.length,"pontos"),T.jsx(Xf,{positions:u.trace.map(([M,B])=>({lat:M,lng:B})),color:k,pathOptions:{weight:6,zIndex:1e3}})]}),u.paths.map((M,B)=>T.jsx(Xf,{positions:M.map(([q,W])=>({lat:q,lng:W})),color:k,pathOptions:{weight:8}},`path-${B}`)),u.areas.map((M,B)=>{const q=_1(B,u.areas);return T.jsx(Yf,{positions:M.map(([W,re])=>({lat:W,lng:re})),pathOptions:{color:k,fillColor:k,fillOpacity:q,weight:3}},`area-local-${B}`)}),o.map(M=>{const B=y1(M,C);if(!B)return null;const q=(M.team_id||"green").toString().toLowerCase(),W=q==="blue"?"#2563eb":q==="red"?"#dc2626":"#16a34a";return T.jsx("div",{children:B.map((re,we)=>T.jsx(Yf,{positions:re.positions,pathOptions:{color:W,fillColor:W,fillOpacity:.3,weight:3}},`split-${M.id}-${we}`))},`territory-${M.id}`)}),T.jsx(m1,{})]}),T.jsxs("div",{style:{position:"absolute",bottom:"10px",left:"10px",zIndex:1e3},children:[T.jsxs("div",{style:{background:"rgba(0,0,0,0.8)",color:"white",padding:"10px",borderRadius:"5px",fontSize:"12px",marginBottom:"10px",maxWidth:"200px"},children:[T.jsx("div",{style:{fontWeight:"bold",marginBottom:"5px"},children:"🎮 Controles:"}),T.jsx("div",{children:"WASD ou Setas"}),T.jsx("div",{children:"Mover o marker"}),h&&T.jsx("div",{style:{color:"#10b981",marginTop:"5px"},children:"▶️ Movendo..."})]}),T.jsx("button",{onClick:()=>{console.log("Teste: Movendo marker...");const M=[41.1333+(Math.random()-.5)*.01,-8.6167+(Math.random()-.5)*.01];console.log("Teste: Nova posição:",M),n(M),alert(`Marker movido para: ${M[0].toFixed(6)}, ${M[1].toFixed(6)}`)},style:{background:"red",color:"white",border:"none",padding:"10px",borderRadius:"5px",cursor:"pointer",fontSize:"12px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.3)",marginBottom:"5px",width:"100%"},children:"🎯 Teste: Mover Marker"}),T.jsx("button",{onClick:()=>{console.log("=== TESTE DO TRAÇO ==="),console.log("TraceManager: isTracing:",u.isTracing),console.log("TraceManager: trace.length:",u.trace.length),console.log("TraceManager: currentPosition:",t),console.log("TraceManager: currentPlayer:",a),u.isTracing?(u.stopTrace(),alert("Traço parado!")):(u.startTrace(),alert("Traço iniciado! Agora mova o marker com WASD."))},style:{background:"#16a34a",color:"white",border:"none",padding:"8px",borderRadius:"5px",cursor:"pointer",fontSize:"10px",width:"100%",marginBottom:"5px"},children:u.isTracing?"🛑 Parar Traço":"✏️ Iniciar Traço"}),T.jsx("button",{onClick:()=>{console.log("=== DEBUG EQUIPE VERMELHA ==="),console.log("MapView: myTeam:",v),console.log("MapView: myTeamColor:",k),console.log("MapView: currentPlayer:",a),console.log("MapView: traceManager.trace.length:",u.trace.length),console.log("MapView: traceManager.trace:",u.trace),console.log("MapView: position:",t),console.log("MapView: positionMemo:",g),alert(`Equipe: ${v}
Cor: ${k}
Traço: ${u.trace.length} pontos`)},style:{background:"#dc2626",color:"white",border:"none",padding:"8px",borderRadius:"5px",cursor:"pointer",fontSize:"10px",width:"100%"},children:"🔍 Debug Vermelho"})]})]}):T.jsx("div",{style:{height:"100%",width:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#1f2937"},children:T.jsxs("div",{style:{color:"white",textAlign:"center"},children:[T.jsx("div",{style:{fontSize:"24px",marginBottom:"10px"},children:"🗺️"}),T.jsx("div",{children:"Carregando mapa..."}),T.jsx("div",{style:{fontSize:"12px",marginTop:"10px",opacity:.7},children:y?"iPad detectado - Carregamento otimizado":"Verificando GPS e conectividade"}),T.jsxs("div",{style:{fontSize:"10px",marginTop:"5px",opacity:.5},children:[navigator.userAgent.includes("Safari")?"Safari":navigator.userAgent.includes("Chrome")?"Chrome":"Navegador"," no ",y?"iPad":"dispositivo móvel"]}),N&&T.jsxs("div",{style:{fontSize:"10px",marginTop:"5px",color:"#ef4444"},children:["Erro: ",N]}),T.jsx("button",{onClick:()=>P(!0),style:{marginTop:"10px",padding:"8px 16px",backgroundColor:"#2563EB",color:"white",border:"none",borderRadius:"4px",cursor:"pointer"},children:"Forçar Carregamento"})]})})}function x1(){var e,t;const{user:n,signOut:i}=An(),{startTracking:o,stopTracking:a,isTracking:u,error:d}=si(),{onlineUsers:h,territories:p}=li(),[m,g]=O.useState(!1),[v,k]=O.useState(0),S=h.find(y=>y.id===(n==null?void 0:n.id));O.useEffect(()=>{if(!n)return;const y=p.filter(C=>C.player_id===n.id).reduce((C,A)=>C+(A.area||0),0),b=(S==null?void 0:S.score)||0;k(y>0?y:b)},[p,n==null?void 0:n.id,S==null?void 0:S.score]),O.useEffect(()=>{const y=C=>{var A;const R=Number(((A=C.detail)==null?void 0:A.totalAreaKm2)??0);k(M=>Math.max(M,R))},b=C=>{var A;g(!!((A=C.detail)!=null&&A.isTracing))};return window.addEventListener("areas-updated",y),window.addEventListener("trace-state-updated",b),()=>{window.removeEventListener("areas-updated",y),window.removeEventListener("trace-state-updated",b)}},[]);const P=()=>{g(!0),window.dispatchEvent(new CustomEvent("start-trace"))},N=()=>{g(!1),window.dispatchEvent(new CustomEvent("stop-trace"))},w=async()=>{try{await i(),window.dispatchEvent(new CustomEvent("reset-traces"))}catch(y){console.error("Erro ao fazer logout:",y)}};return T.jsxs("div",{className:"controls bg-gray-800 p-4 rounded-lg shadow-lg",style:{border:"2px solid #16a34a"},children:[T.jsx("div",{style:{position:"absolute",top:"-10px",left:"10px",background:"#16a34a",color:"white",padding:"2px 6px",borderRadius:"3px",fontSize:"10px"},children:"CONTROLS"}),T.jsx("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{children:[T.jsx("div",{className:"text-white font-semibold",children:(S==null?void 0:S.name)||((e=n==null?void 0:n.user_metadata)==null?void 0:e.name)||"Jogador"}),T.jsxs("div",{className:`text-sm ${(S==null?void 0:S.team)==="green"?"text-green-400":(S==null?void 0:S.team)==="blue"?"text-blue-400":"text-red-400"}`,children:["Equipa ",((t=S==null?void 0:S.team)==null?void 0:t.toUpperCase())||"N/A"]})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"text-white font-bold",children:v.toFixed(2)}),T.jsx("div",{className:"text-xs text-gray-400",children:"km²"})]})]})}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("span",{className:"text-white text-sm",children:"GPS"}),T.jsx("div",{className:`w-3 h-3 rounded-full ${u?"bg-green-400":"bg-red-400"}`})]}),d&&T.jsx("div",{className:"text-red-400 text-xs mb-2",children:d}),T.jsx("div",{className:"flex gap-2",children:T.jsx("button",{onClick:u?a:o,className:`flex-1 py-2 px-3 rounded text-sm font-medium ${u?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:u?"Parar GPS":navigator.geolocation?"Iniciar GPS":"Ativar Posição"})})]}),T.jsxs("div",{className:"mb-4",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsx("span",{className:"text-white text-sm",children:"Traço"}),T.jsx("div",{className:`w-3 h-3 rounded-full ${m?"bg-green-400":"bg-red-400"}`})]}),T.jsx("div",{className:"flex gap-2",children:T.jsx("button",{onClick:m?N:P,className:`flex-1 py-2 px-3 rounded text-sm font-medium ${m?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:m?"Parar Traço":"Iniciar Traço"})}),T.jsx("div",{className:"text-xs text-gray-400 mt-1",children:"Use ESPAÇO ou ENTER para controlar"})]}),T.jsxs("div",{className:"mb-4 p-3 bg-gray-700 rounded",children:[T.jsx("div",{className:"text-white text-sm font-semibold mb-2",children:"km² Conquistados"}),T.jsxs("div",{className:"text-green-400 text-lg font-bold",children:[v.toFixed(2)," km²"]}),T.jsx("div",{className:"text-gray-400 text-xs mt-1",children:v>0?"Pontos = km² conquistados!":"Risque até cruzar linhas"})]}),T.jsx("div",{className:"mb-4",children:T.jsx("button",{onClick:w,className:"w-full py-2 px-3 bg-red-600 hover:bg-red-700 text-white rounded text-sm",children:"Logout"})}),T.jsxs("div",{className:"text-xs text-gray-400",children:[T.jsx("div",{className:"mb-1",children:"💡 Dicas:"}),T.jsx("div",{children:"• ESPAÇO/ENTER para traçar"}),T.jsx("div",{children:"• Cruze linhas para fechar áreas"}),T.jsx("div",{children:"• Pontos = km² conquistados!"}),T.jsx("div",{children:"• Compita com outros jogadores"}),navigator.geolocation&&T.jsx("div",{children:"• Ative GPS para posição real"})]})]})}function k1(){const{onlineUsers:e}=li(),{user:t}=An(),n=i=>{switch(i){case"green":return"bg-green-600";case"blue":return"bg-blue-600";case"red":return"bg-red-600";default:return"bg-gray-600"}};return T.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:T.jsxs("div",{className:"max-w-4xl mx-auto",children:[T.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"🏆 Leaderboard"}),T.jsxs("div",{className:"mb-8",children:[T.jsx("h2",{className:"text-2xl font-semibold mb-4",children:"Ranking por km² Conquistados"}),T.jsx("div",{className:"text-center text-gray-400",children:"Ranking das equipes em desenvolvimento..."})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs("h2",{className:"text-2xl font-semibold mb-4",children:["Jogadores Online (",e.length,")"]}),T.jsx("div",{className:"grid gap-3",children:e.map(i=>T.jsx("div",{className:`p-3 rounded-lg border ${i.id===(t==null?void 0:t.id)?"border-green-400 bg-green-400 bg-opacity-10":"border-gray-600 bg-gray-800"}`,children:T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsxs("div",{className:"flex items-center space-x-3",children:[T.jsx("div",{className:`w-3 h-3 rounded-full ${n(i.team)}`}),T.jsx("span",{className:`font-medium ${i.id===(t==null?void 0:t.id)?"text-green-400":""}`,children:i.name}),i.id===(t==null?void 0:t.id)&&T.jsx("span",{className:"text-xs text-green-400",children:"(Você)"})]}),T.jsxs("div",{className:"text-right",children:[T.jsx("div",{className:"font-semibold",children:"0"}),T.jsx("div",{className:"text-xs text-gray-400",children:"pontos"})]})]})},i.id))})]}),t&&T.jsxs("div",{className:"bg-gray-800 rounded-lg p-6",children:[T.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Suas Estatísticas"}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-green-400",children:"0"}),T.jsx("div",{className:"text-sm text-gray-400",children:"Pontos Totais"})]}),T.jsxs("div",{className:"text-center",children:[T.jsx("div",{className:"text-2xl font-bold text-gray-400",children:"N/A"}),T.jsx("div",{className:"text-sm text-gray-400",children:"Sua Equipe"})]})]})]})]})})}function S1(e){var t,n,i,o;const a=[];for(let u=0;u<e.length;u++)for(let d=u+1;d<e.length;d++){const h=e[u],p=e[d];if(h.team_id===p.team_id)continue;const m=new Date(h.conquered_at).getTime(),g=new Date(p.conquered_at).getTime(),v=m>g?h:p,k=m>g?p:h,S=((n=(t=h.polygon)==null?void 0:t.coordinates)==null?void 0:n[0])||[],P=((o=(i=p.polygon)==null?void 0:i.coordinates)==null?void 0:o[0])||[];if(S.length===0||P.length===0)continue;const N=S.reduce((y,b)=>[y[0]+b[0],y[1]+b[1]],[0,0]).map(y=>y/S.length),w=P.reduce((y,b)=>[y[0]+b[0],y[1]+b[1]],[0,0]).map(y=>y/P.length);if(Math.sqrt(Math.pow(N[0]-w[0],2)+Math.pow(N[1]-w[1],2))<.002){const y=Math.min(h.area,p.area)*.3;a.push({conqueredTerritory:v,losingTerritory:k,overlapArea:y})}}return a}function T1(){const{territories:e}=li(),[t,n]=O.useState({green:{conquered:0,lost:0,net:0},blue:{conquered:0,lost:0,net:0},red:{conquered:0,lost:0,net:0}}),i=O.useMemo(()=>{const o={green:{conquered:0,lost:0,net:0},blue:{conquered:0,lost:0,net:0},red:{conquered:0,lost:0,net:0}},a=e.reduce((d,h)=>{const p=h.team_id;return d[p]||(d[p]=[]),d[p].push(h),d},{});Object.entries(a).forEach(([d,h])=>{const p=h.reduce((m,g)=>m+(g.area||0),0);o[d].conquered=p});const u=S1(e);return Object.entries(a).forEach(([d])=>{const h=d;let p=0;u.forEach(m=>{m.losingTerritory.team_id===d&&(p+=m.overlapArea)}),o[h].lost=p,o[h].net=o[h].conquered-p}),o},[e]);return O.useEffect(()=>{n(i)},[i]),{stats:t,getTeamStats:o=>t[o],getTotalConquered:()=>Object.values(t).reduce((o,a)=>o+a.conquered,0),getTotalLost:()=>Object.values(t).reduce((o,a)=>o+a.lost,0)}}function P1(){const{territories:e,onlineUsers:t}=li(),{isTracking:n}=si(),{stats:i}=T1(),o=d=>{switch(d){case"green":return"#16a34a";case"blue":return"#3b82f6";case"red":return"#dc2626";default:return"#6b7280"}},a=Math.max(...Object.values(i).map(d=>Math.max(d.conquered,d.lost))),u=d=>a===0?0:Math.min(d/a*100,100);return T.jsxs("div",{className:"hud bg-gray-800 p-4 rounded-lg shadow-lg",style:{border:"2px solid #3b82f6"},children:[T.jsx("div",{style:{position:"absolute",top:"-10px",left:"10px",background:"#3b82f6",color:"white",padding:"2px 6px",borderRadius:"3px",fontSize:"10px"},children:"HUD"}),T.jsx("h3",{className:"text-white font-semibold mb-3",children:"🏆 Estatísticas das Equipes"}),T.jsx("div",{className:"space-y-4",children:["green","blue","red"].map(d=>{const h=d==="green"?"Verdes":d==="blue"?"Azul":"Vermelho",p=i[d],m=o(d);return T.jsxs("div",{className:"bg-gray-700 p-3 rounded-lg",children:[T.jsxs("div",{className:"flex items-center justify-between mb-2",children:[T.jsxs("div",{className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-4 h-4 rounded-full",style:{backgroundColor:m}}),T.jsx("span",{className:"text-white font-semibold",children:h})]}),T.jsxs("div",{className:"text-right",children:[T.jsxs("div",{className:"text-white font-bold text-sm",children:[p.conquered.toFixed(2)," km²"]}),T.jsx("div",{className:"text-xs text-gray-400",children:"Total"})]})]}),T.jsxs("div",{className:"mb-2",children:[T.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[T.jsx("span",{className:"text-green-400",children:"Conquistado"}),T.jsxs("span",{className:"text-white",children:[p.conquered.toFixed(2)," km²"]})]}),T.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:T.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-300",style:{width:`${u(p.conquered)}%`}})})]}),T.jsxs("div",{className:"mb-2",children:[T.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[T.jsx("span",{className:"text-red-400",children:"Perdido"}),T.jsxs("span",{className:"text-white",children:[p.lost.toFixed(2)," km²"]})]}),T.jsx("div",{className:"w-full bg-gray-600 rounded-full h-2",children:T.jsx("div",{className:"bg-red-500 h-2 rounded-full transition-all duration-300",style:{width:`${u(p.lost)}%`}})})]}),T.jsx("div",{className:"border-t border-gray-600 pt-2",children:T.jsxs("div",{className:"flex justify-between text-xs",children:[T.jsx("span",{className:"text-gray-300",children:"Saldo:"}),T.jsxs("span",{className:`font-semibold ${p.net>=0?"text-green-400":"text-red-400"}`,children:[p.net>=0?"+":"",p.net.toFixed(2)," km²"]})]})})]},d)})}),T.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-600",children:[T.jsxs("div",{className:"flex items-center justify-between",children:[T.jsx("span",{className:"text-gray-300 text-sm",children:"Territórios:"}),T.jsx("span",{className:"text-white font-semibold",children:e.length})]}),T.jsxs("div",{className:"flex items-center justify-between mt-2",children:[T.jsx("span",{className:"text-gray-300 text-sm",children:"GPS:"}),T.jsx("span",{className:`text-sm ${n?"text-green-400":"text-red-400"}`,children:n?"Ativo":"Inativo"})]}),T.jsxs("div",{className:"flex items-center justify-between mt-2",children:[T.jsx("span",{className:"text-gray-300 text-sm",children:"Jogadores:"}),T.jsx("span",{className:"text-white font-semibold",children:t.length})]})]})]})}function E1(){const{user:e}=An();return Jk(),O.useEffect(()=>{localStorage.getItem("gameMode")||localStorage.setItem("gameMode","mock")},[]),e?T.jsxs("div",{className:"game-layout",children:[T.jsx("div",{className:"map-container",children:T.jsx(w1,{})}),T.jsxs("div",{className:"ui-overlay",children:[T.jsx("div",{className:"top-left",children:T.jsx(x1,{})}),T.jsx("div",{className:"top-right",children:T.jsx(P1,{})}),T.jsx("div",{className:"bottom-center",children:T.jsx("div",{className:"navigation",children:T.jsx("a",{href:"/leaderboard",className:"nav-button",children:"🏆 Leaderboard"})})})]})]}):T.jsx(Cg,{to:"/login",replace:!0})}function L1(){const{user:e,loading:t}=An();return t?T.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:T.jsx("div",{className:"text-white text-xl",children:"Carregando..."})}):T.jsx(a0,{children:T.jsx("div",{className:"App",children:T.jsxs(i0,{children:[T.jsx(Es,{path:"/login",element:e?T.jsx(Cg,{to:"/",replace:!0}):T.jsx(Qk,{})}),T.jsx(Es,{path:"/leaderboard",element:T.jsx(k1,{})}),T.jsx(Es,{path:"/",element:T.jsx(E1,{})})]})})})}class C1{constructor(){ll(this,"enabled",!1),ll(this,"buffer",[]),ll(this,"max",500)}setEnabled(t){this.enabled=t,window.__DBG_ENABLED__=t}isEnabled(){return this.enabled||window.__DBG_ENABLED__===!0}enableFromQuery(){try{new URLSearchParams(window.location.search).get("debug")==="1"&&this.setEnabled(!0)}catch{}}log(t,n,i){if(!this.isEnabled())return;const o={ts:Date.now(),tag:t,msg:n,extra:i};this.buffer.push(o),this.buffer.length>this.max&&this.buffer.shift(),console.debug(`[DBG][${t}] ${n}`,i??"")}getLogs(){return[...this.buffer]}clear(){this.buffer=[]}}const j1=new C1;j1.enableFromQuery();mg(document.getElementById("root")).render(T.jsx(O.StrictMode,{children:T.jsx(L1,{})}));
//# sourceMappingURL=index-4qcfxNHZ.js.map
